// â•â•â• AUREUS SOCIAL PRO â€” Modules Batch 1 â•â•â•
// 56 composants extraits du monolithe
"use client";

import { useState } from "react";
import { C, ST, PH, fmt } from "@/app/lib/shared-ui";
import { LOIS_BELGES, RMMMG, TX_ONSS_E, TX_ONSS_W, NET_FACTOR, PV_DOUBLE, PV_SIMPLE, obf } from "@/app/lib/lois-belges";
import { aureuspdf } from "@/app/lib/pdf-aureus";

export function ODMod({s,d}){const ae=s.emps||[];const [tab,setTab]=useState("ops");const [ops,setOps]=useState([{id:1,date:"2026-01-31",type:"Salaires",desc:"Virement salaires nets janvier",montant:ae.reduce((a,e)=>a+(+e.gross||0)*NET_FACTOR,0),sens:"D",compte:"455000"},{id:2,date:"2026-01-31",type:"ONSS",desc:"Cotisations ONSS T1 2026",montant:ae.reduce((a,e)=>a+(+e.gross||0)*(TX_ONSS_W+TX_ONSS_E),0),sens:"D",compte:"454000"},{id:3,date:"2026-01-31",type:"Precompte",desc:"PrÃ©compte professionnel janvier",montant:ae.reduce((a,e)=>a+(+e.gross||0)*0.2285,0),sens:"D",compte:"453000"},{id:4,date:"2026-02-28",type:"Provisions",desc:"Provision pecule vacances",montant:ae.reduce((a,e)=>a+(+e.gross||0)*LB.remuneration.peculeVacances.patronal.pct,0),sens:"C",compte:"456000"},{id:5,date:"2026-02-28",type:"Provisions",desc:"Provision 13eme mois",montant:ae.reduce((a,e)=>a+(+e.gross||0)*0.0833,0),sens:"C",compte:"456100"}]);const totD=ops.filter(o=>o.sens==="D").reduce((a,c)=>a+c.montant,0);const totC=ops.filter(o=>o.sens==="C").reduce((a,c)=>a+c.montant,0);return <div><PH title="Operations Diverses" sub="Journal OD paie - Ecritures comptables"/><div style={{display:"grid",gridTemplateColumns:"repeat(4,1fr)",gap:12,marginBottom:18}}>{[{l:"Total debit",v:fmt(totD),c:"#f87171"},{l:"Total credit",v:fmt(totC),c:"#4ade80"},{l:"Ecritures",v:ops.length,c:"#60a5fa"},{l:"Balance",v:fmt(Math.abs(totD-totC)),c:"#c6a34e"}].map((k,i)=><div key={i} style={{padding:"14px 16px",background:"rgba(198,163,78,.04)",borderRadius:10,border:"1px solid rgba(198,163,78,.08)"}}><div style={{fontSize:10,color:"#5e5c56",textTransform:"uppercase",letterSpacing:".5px"}}>{k.l}</div><div style={{fontSize:18,fontWeight:700,color:k.c,marginTop:4}}>{k.v}</div></div>)}</div><div style={{display:"flex",gap:6,marginBottom:16}}>{[{v:"ops",l:"Journal OD"},{v:"comptes",l:"Par compte"},{v:"export",l:"Export comptable"}].map(t=><button key={t.v} onClick={()=>setTab(t.v)} style={{padding:"8px 16px",borderRadius:8,border:"none",cursor:"pointer",fontSize:12,fontWeight:tab===t.v?600:400,fontFamily:"inherit",background:tab===t.v?"rgba(198,163,78,.15)":"rgba(255,255,255,.03)",color:tab===t.v?"#c6a34e":"#9e9b93"}}>{t.l}</button>)}</div>{tab==="ops"&&<C><Tbl cols={[{k:"d",l:"Date",r:r=>r.date},{k:"t",l:"Type",r:r=><span style={{fontSize:10,padding:"2px 6px",borderRadius:4,background:"rgba(198,163,78,.08)",color:"#c6a34e"}}>{r.type}</span>},{k:"de",l:"Description",b:1,r:r=>r.desc},{k:"co",l:"Compte",r:r=><span style={{fontFamily:"monospace",color:"#60a5fa"}}>{r.compte}</span>},{k:"s",l:"D/C",r:r=><span style={{color:r.sens==="D"?"#f87171":"#4ade80",fontWeight:700}}>{r.sens}</span>},{k:"m",l:"Montant",a:"right",r:r=><span style={{fontWeight:600,color:"#e8e6e0"}}>{fmt(r.montant)}</span>}]} data={ops}/></C>}{tab==="comptes"&&<C><ST>Regroupement par compte</ST>{Object.entries(ops.reduce((a,o)=>{if(!a[o.compte])a[o.compte]={d:0,c:0,desc:o.desc};if(o.sens==="D")a[o.compte].d+=o.montant;else a[o.compte].c+=o.montant;return a;},{})).map(([c,v],i)=><div key={i} style={{display:"flex",justifyContent:"space-between",padding:"8px 0",borderBottom:"1px solid rgba(255,255,255,.03)"}}><span style={{color:"#60a5fa",fontFamily:"monospace"}}>{c}</span><span style={{color:"#9e9b93",flex:1,marginLeft:12}}>{v.desc}</span><span style={{color:"#f87171",marginRight:12}}>{v.d>0?"D "+fmt(v.d):""}</span><span style={{color:"#4ade80"}}>{v.c>0?"C "+fmt(v.c):""}</span></div>)}</C>}{tab==="export"&&<C><ST>Export comptable â€” TÃ©lÃ©chargement direct</ST>{[{id:"bob50",n:"BOB50",d:"Format TXT tabulÃ© â€” Import via Outils > Import OD",ext:".txt"},{id:"winbooks",n:"Winbooks",d:"Format TXT â€” Import via Utilitaires > Import",ext:".txt"},{id:"exact",n:"Exact Online",d:"Format CSV point-virgule â€” Import financier",ext:".csv"},{id:"horus",n:"Horus",d:"Format XML structurÃ© â€” Import journal",ext:".xml"},{id:"octopus",n:"Octopus",d:"Format CSV â€” Import via ParamÃ¨tres > Import",ext:".csv"},{id:"yuki",n:"Yuki",d:"Format XML â€” Import comptable auto",ext:".xml"},{id:"kluwer",n:"Kluwer Expert/Adsolut",d:"Format TXT dÃ©limitÃ© â€” Import OD",ext:".txt"},{id:"popsy",n:"Popsy",d:"Format CSV point-virgule â€” Import Ã©critures",ext:".txt"}].map((r,i)=><div key={i} style={{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"10px 0",borderBottom:"1px solid rgba(255,255,255,.03)"}}><div><b style={{color:"#e8e6e0",fontSize:12}}>{r.n}</b><div style={{fontSize:10,color:"#5e5c56"}}>{r.d}</div></div><button onClick={()=>{const res=generateExportCompta(r.id,ops,new Date().toISOString().slice(0,7),s?.company);if(typeof addToast==='function')addToast('ðŸ“ '+res.filename+' exportÃ© ('+res.lines+' lignes)');}} style={{padding:"6px 14px",borderRadius:6,border:"none",background:"rgba(74,222,128,.12)",color:"#4ade80",fontSize:11,fontWeight:600,cursor:"pointer"}}>ðŸ“¥ {r.ext}</button></div>)}</C>}</div>;}

export function CRMod({s,d}){const ae=s.emps||[];const [tab,setTab]=useState("cr");const masseBrute=ae.reduce((a,e)=>a+(+e.gross||0),0);const onssP=masseBrute*TX_ONSS_E;const onssT=masseBrute*TX_ONSS_W;const pp=masseBrute*PP_EST;const nets=masseBrute-onssT-pp;const coutTotal=masseBrute+onssP;const ratioNet=masseBrute>0?((nets/coutTotal)*100).toFixed(1):"0";return <div><PH title="Cout de la RÃ©munÃ©ration" sub="Analyse cout employeur vs net travailleur - Masse salariale"/><div style={{display:"grid",gridTemplateColumns:"repeat(5,1fr)",gap:12,marginBottom:18}}>{[{l:"Masse brute",v:fmt(masseBrute),c:"#c6a34e"},{l:"ONSS patronal",v:fmt(onssP),c:"#f87171"},{l:"Cout total empl.",v:fmt(coutTotal),c:"#f87171"},{l:"Net total trav.",v:fmt(nets),c:"#4ade80"},{l:"Ratio net/cout",v:ratioNet+"%",c:"#fb923c"}].map((k,i)=><div key={i} style={{padding:"14px 16px",background:"rgba(198,163,78,.04)",borderRadius:10,border:"1px solid rgba(198,163,78,.08)"}}><div style={{fontSize:10,color:"#5e5c56",textTransform:"uppercase",letterSpacing:".5px"}}>{k.l}</div><div style={{fontSize:18,fontWeight:700,color:k.c,marginTop:4}}>{k.v}</div></div>)}</div><div style={{display:"flex",gap:6,marginBottom:16}}>{[{v:"cr",l:"Vue globale"},{v:"detail",l:"Par travailleur"},{v:"charges",l:"Detail charges"}].map(t=><button key={t.v} onClick={()=>setTab(t.v)} style={{padding:"8px 16px",borderRadius:8,border:"none",cursor:"pointer",fontSize:12,fontWeight:tab===t.v?600:400,fontFamily:"inherit",background:tab===t.v?"rgba(198,163,78,.15)":"rgba(255,255,255,.03)",color:tab===t.v?"#c6a34e":"#9e9b93"}}>{t.l}</button>)}</div>{tab==="cr"&&<C><ST>Decomposition masse salariale mensuelle</ST>{[{l:"Salaires bruts",v:masseBrute,c:"#e8e6e0"},{l:"ONSS patronal ("+(TX_ONSS_E*100).toFixed(2)+"%)",v:onssP,c:"#f87171"},{l:"CoÃ»t total employeur",v:coutTotal,c:"#f87171"},{l:"ONSS personnel (-"+((LOIS_BELGES.onss.travailleur*100).toFixed(2))+"%)",v:-onssT,c:"#f87171"},{l:"Precompte prof. (~22%)",v:-pp,c:"#f87171"},{l:"Net total travailleurs",v:nets,c:"#4ade80"}].map((r,i)=><div key={i} style={{display:"flex",justifyContent:"space-between",padding:"8px 0",borderBottom:"1px solid rgba(255,255,255,.03)"}}><span style={{color:"#9e9b93"}}>{r.l}</span><span style={{fontWeight:600,color:r.c}}>{r.v<0?"- "+fmt(Math.abs(r.v)):fmt(r.v)}</span></div>)}</C>}{tab==="detail"&&<C><Tbl cols={[{k:"n",l:"Travailleur",b:1,r:r=>(r.fn||"")+" "+(r.ln||"")},{k:"g",l:"Brut",a:"right",r:r=><span style={{color:"#e8e6e0"}}>{fmt(+r.gross||0)}</span>},{k:"o",l:"ONSS empl.",a:"right",r:r=><span style={{color:"#f87171"}}>{fmt((+r.gross||0)*TX_ONSS_E)}</span>},{k:"c",l:"Cout empl.",a:"right",r:r=><span style={{color:"#f87171",fontWeight:700}}>{fmt((+r.gross||0)*(1+TX_ONSS_E))}</span>},{k:"ne",l:"Net estim.",a:"right",r:r=><span style={{color:"#4ade80"}}>{fmt((+r.gross||0)*NET_FACTOR)}</span>}]} data={ae}/></C>}{tab==="charges"&&<C><ST>Detail charges patronales</ST>{[{l:"ONSS de base",v:"24.92%",d:"Cotisation principale"},{l:"Moderation salariale",v:"0.15%",d:"Depuis 2024"},{l:"Total ONSS patronal",v:(TX_ONSS_E*100).toFixed(2)+"%",d:"Taux global"},{l:"Assurance accidents travail",v:"~1%",d:"Selon secteur et sinistralite"},{l:"Medecine du travail",v:"91.50 EUR/an",d:"Par travailleur soumis"},{l:"Cheques-repas (part patronale)",v:"Max 6.91 EUR/j",d:"220 jours = 1.520 EUR/an"},{l:"Eco-cheques",v:"Max 250 EUR/an",d:"Si prevu par CCT sectorielle"},{l:"13eme mois",v:"~8.33%",d:"1/12 du salaire annuel"},{l:"Pecule vacances double",v:"~15.38%",d:"Ouvriers via ONVA / Employes direct"}].map((r,i)=><div key={i} style={{display:"flex",justifyContent:"space-between",padding:"8px 0",borderBottom:"1px solid rgba(255,255,255,.03)"}}><div><span style={{color:"#e8e6e0"}}>{r.l}</span><div style={{fontSize:10,color:"#5e5c56"}}>{r.d}</div></div><span style={{fontWeight:600,color:"#c6a34e"}}>{r.v}</span></div>)}</C>}</div>;}

export function DRSMod({s,d}){const ae=(s.emps||[]).filter(e=>e.status==='active'||!e.status);const [tab,setTab]=useState("scenarios");const f2=v=>new Intl.NumberFormat('fr-BE',{minimumFractionDigits:2}).format(v);return <div><PH title="Declaration Risque Social (DRS)" sub={"Scenarios electroniques â€” Portail securite sociale â€” RMMMG "+f2(RMMMG)+" EUR"}/><div style={{display:"grid",gridTemplateColumns:"repeat(4,1fr)",gap:12,marginBottom:18}}>{[{l:"Travailleurs",v:ae.length,c:"#c6a34e"},{l:"Scenarios DRS",v:10,c:"#60a5fa"},{l:"Voie electronique",v:"Obligatoire",c:"#ef4444"},{l:"RMMMG",v:f2(RMMMG),c:"#a78bfa"}].map((k,i)=><div key={i} style={{padding:"14px 16px",background:"rgba(198,163,78,.04)",borderRadius:10,border:"1px solid rgba(198,163,78,.08)"}}><div style={{fontSize:10,color:"#5e5c56",textTransform:"uppercase",letterSpacing:".5px"}}>{k.l}</div><div style={{fontSize:18,fontWeight:700,color:k.c,marginTop:4}}>{k.v}</div></div>)}</div><C><ST>Scenarios DRS</ST>{[{sc:"Scenario 1",t:"Chomage temporaire",d:"Declaration CT economique/force majeure. Formulaires C3.2 + C106A."},{sc:"Scenario 2",t:"Chomage complet",d:"Fin de contrat. C4 + C131A. Delai 2 mois."},{sc:"Scenario 3",t:"Maladie/accident prive",d:"Incapacite de travail. Certificat medical J1. Mutuelle apres salaire garanti."},{sc:"Scenario 5",t:"Vacances annuelles",d:"Attestation vacances a la sortie. Pecule simple + double."},{sc:"Scenario 6",t:"Accident du travail",d:"Declaration Fedris dans les 8 jours. Employeur paie 30j."},{sc:"Scenario 9",t:"Credit-temps",d:"Demande ONEM C61. Accord employeur dans les 3 mois."},{sc:"Scenario 10",t:"Reprise apres maladie",d:"Mi-temps medical. DRS 'reprise du travail' a la mutuelle."}].map((r,i)=><div key={i} style={{padding:"10px 0",borderBottom:"1px solid rgba(255,255,255,.03)"}}><div style={{display:"flex",gap:8,alignItems:"center"}}><span style={{fontSize:9,padding:"2px 8px",borderRadius:4,background:"rgba(198,163,78,.1)",color:"#c6a34e",fontWeight:600}}>{r.sc}</span><b style={{color:"#e8e6e0",fontSize:12}}>{r.t}</b></div><div style={{fontSize:10.5,color:"#9e9b93",marginTop:3,marginLeft:0}}>{r.d}</div></div>)}</C></div>;}

export function PointageMod({s,d}){const txOnssRef=TX_ONSS_W;const ae=(s.emps||[]).filter(e=>e.status==='active'||!e.status);const [tab,setTab]=useState("pointage");const [selMonth,setSelMonth]=useState(new Date().getMonth());const mois=['Jan','Fev','Mar','Avr','Mai','Jun','Jul','Aou','Sep','Oct','Nov','Dec'];const empData=ae.map(e=>{const brut=+(e.gross||e.monthlySalary||0);const whWeek=+(e.whWeek||38);const whMonth=Math.round(whWeek*52/12*10)/10;const tauxH=whMonth>0?Math.round(brut/whMonth*100)/100:0;const worked=+(e.hoursWorked||whMonth);const overtime=Math.max(0,worked-whMonth);const overtimeCost=Math.round(overtime*tauxH*1.5*100)/100;return {...e,brut,whWeek,whMonth,tauxH,worked,overtime,overtimeCost};});return <div><PH title="Pointage" sub="Heures prestees â€” Taux horaire reel â€” Heures sup calculees"/><div style={{display:"grid",gridTemplateColumns:"repeat(4,1fr)",gap:12,marginBottom:18}}>{[{l:"Travailleurs",v:ae.length,c:"#c6a34e"},{l:"Mois",v:mois[selMonth],c:"#60a5fa"},{l:"HS ce mois",v:empData.reduce((a,e)=>a+e.overtime,0).toFixed(1)+"h",c:"#fb923c"},{l:"Cout HS",v:new Intl.NumberFormat('fr-BE',{minimumFractionDigits:2}).format(empData.reduce((a,e)=>a+e.overtimeCost,0))+" EUR",c:"#ef4444"}].map((k,i)=><div key={i} style={{padding:"14px 16px",background:"rgba(198,163,78,.04)",borderRadius:10,border:"1px solid rgba(198,163,78,.08)"}}><div style={{fontSize:10,color:"#5e5c56",textTransform:"uppercase",letterSpacing:".5px"}}>{k.l}</div><div style={{fontSize:18,fontWeight:700,color:k.c,marginTop:4}}>{k.v}</div></div>)}</div><C><ST>Pointage {mois[selMonth]}</ST><div style={{overflowX:"auto"}}><table style={{width:"100%",borderCollapse:"collapse",fontSize:11}}><thead><tr style={{borderBottom:"2px solid rgba(198,163,78,.2)"}}>{["Nom","Regime","H/sem","H/mois ref","H prestees","H sup","Taux horaire","Cout HS"].map(h=><th key={h} style={{padding:"8px 6px",textAlign:"left",color:"#c6a34e",fontWeight:600,fontSize:9}}>{h}</th>)}</tr></thead><tbody>{empData.map((e,i)=><tr key={e.id||i} style={{borderBottom:"1px solid rgba(255,255,255,.03)"}}><td style={{padding:"5px"}}>{(e.first||e.fn||'')+" "+(e.last||e.ln||'')}</td><td style={{padding:"5px"}}>{e.whWeek}h/sem</td><td style={{padding:"5px"}}>{e.whWeek}</td><td style={{padding:"5px"}}>{e.whMonth.toFixed(1)}</td><td style={{padding:"5px",fontWeight:600}}>{e.worked.toFixed(1)}</td><td style={{padding:"5px",color:e.overtime>0?"#fb923c":"#5e5c56"}}>{e.overtime>0?"+"+e.overtime.toFixed(1):"â€”"}</td><td style={{padding:"5px"}}>{new Intl.NumberFormat('fr-BE',{minimumFractionDigits:2}).format(e.tauxH)} EUR</td><td style={{padding:"5px",color:e.overtimeCost>0?"#ef4444":"#5e5c56"}}>{e.overtimeCost>0?new Intl.NumberFormat('fr-BE',{minimumFractionDigits:2}).format(e.overtimeCost):"â€”"}</td></tr>)}</tbody></table></div></C></div>;}

export function SyndicalesMod({s,d}){const ae=(s.emps||[]).filter(e=>e.status==='active'||!e.status);const n=ae.length;const f2=v=>new Intl.NumberFormat('fr-BE',{minimumFractionDigits:2}).format(v);const primeSynd=LOIS_BELGES.cotisations?.primeSyndicale||145;const cotFonds=LOIS_BELGES.cotisations?.cotFondsFermeture||0.0013;const mb=ae.reduce((a,e)=>a+(+e.gross||0),0);return <div><PH title="Relations Syndicales" sub={"Prime syndicale, delegation, CCT â€” Prime "+f2(primeSynd)+" EUR/an â€” LOIS_BELGES"}/><div style={{display:"grid",gridTemplateColumns:"repeat(4,1fr)",gap:12,marginBottom:18}}>{[{l:"Travailleurs",v:n,c:"#c6a34e"},{l:"Prime syndicale/an",v:f2(primeSynd)+" EUR",c:"#60a5fa"},{l:"Seuil delegation",v:"50+ travailleurs",c:n>=50?"#22c55e":"#5e5c56"},{l:"Cotis. fonds fermeture",v:(cotFonds*100).toFixed(2)+"%",c:"#a78bfa"}].map((k,i)=><div key={i} style={{padding:"14px 16px",background:"rgba(198,163,78,.04)",borderRadius:10,border:"1px solid rgba(198,163,78,.08)"}}><div style={{fontSize:10,color:"#5e5c56",textTransform:"uppercase",letterSpacing:".5px"}}>{k.l}</div><div style={{fontSize:18,fontWeight:700,color:k.c,marginTop:4}}>{k.v}</div></div>)}</div><C><ST>Obligations par seuil</ST>{[{seuil:"20+ travailleurs",ob:"CPPT obligatoire (Comite PPT). Elections sociales.",ok:n>=20},{seuil:"50+ travailleurs",ob:"Delegation syndicale possible. Consultation obligatoire restructuration.",ok:n>=50},{seuil:"100+ travailleurs",ob:"Conseil d'Entreprise obligatoire. Bilan social complet.",ok:n>=100},{seuil:"Toute taille",ob:"Prime syndicale: "+f2(primeSynd)+" EUR/an rembourse via fonds sectoriel.",ok:true}].map((r,i)=><div key={i} style={{display:"flex",alignItems:"center",gap:10,padding:"10px 0",borderBottom:"1px solid rgba(255,255,255,.03)"}}><span style={{fontSize:16}}>{r.ok?"âœ…":"â¬œ"}</span><div><b style={{color:r.ok?"#22c55e":"#5e5c56",fontSize:12}}>{r.seuil}</b><div style={{fontSize:10.5,color:"#9e9b93",marginTop:2}}>{r.ob}</div></div></div>)}</C></div>;}

export function ONSSAPLMod({s,d}){const ae=s.emps||[];const [tab,setTab]=useState("apl");const mb=ae.reduce((a,e)=>a+(+e.gross||0),0);return <div><PH title="ONSS APL" sub="Administrations Provinciales et Locales - Cotisations specifiques"/><div style={{display:"grid",gridTemplateColumns:"repeat(4,1fr)",gap:12,marginBottom:18}}>{[{l:"Masse brute",v:fmt(mb),c:"#c6a34e"},{l:"Cotisation APL",v:fmt(mb*0.3207),c:"#f87171"},{l:"Pension APL",v:fmt(mb*0.075),c:"#fb923c"},{l:"Travailleurs",v:ae.length,c:"#60a5fa"}].map((k,i)=><div key={i} style={{padding:"14px 16px",background:"rgba(198,163,78,.04)",borderRadius:10,border:"1px solid rgba(198,163,78,.08)"}}><div style={{fontSize:10,color:"#5e5c56",textTransform:"uppercase",letterSpacing:".5px"}}>{k.l}</div><div style={{fontSize:18,fontWeight:700,color:k.c,marginTop:4}}>{k.v}</div></div>)}</div><div style={{display:"flex",gap:6,marginBottom:16}}>{[{v:"apl",l:"Cotisations APL"},{v:"diff",l:"Differences prive/APL"},{v:"pension",l:"Pension secteur public"}].map(t=><button key={t.v} onClick={()=>setTab(t.v)} style={{padding:"8px 16px",borderRadius:8,border:"none",cursor:"pointer",fontSize:12,fontWeight:tab===t.v?600:400,fontFamily:"inherit",background:tab===t.v?"rgba(198,163,78,.15)":"rgba(255,255,255,.03)",color:tab===t.v?"#c6a34e":"#9e9b93"}}>{t.l}</button>)}</div>{tab==="apl"&&<C><ST>Cotisations ONSS APL</ST>{[{l:"Cotisation de base",v:"32.07%",d:"Taux employeur APL"},{l:"Moderation salariale",v:"Incluse",d:"Dans le taux de base"},{l:"Pension secteur public",v:"7.5%",d:"Cotisation pension complementaire"},{l:"Cotisation personnelle",v:""+((LOIS_BELGES.onss.travailleur*100).toFixed(2))+"%",d:"Identique au prive"},{l:"Maribel social",v:"-0.40%",d:"Reduction si applicable"},{l:"Fonds fermeture",v:"Non applicable",d:"Specifique secteur prive"}].map((r,i)=><div key={i} style={{display:"flex",justifyContent:"space-between",padding:"8px 0",borderBottom:"1px solid rgba(255,255,255,.03)"}}><div><b style={{color:"#e8e6e0",fontSize:12}}>{r.l}</b><div style={{fontSize:10,color:"#5e5c56"}}>{r.d}</div></div><span style={{fontWeight:600,color:"#c6a34e"}}>{r.v}</span></div>)}</C>}{tab==="diff"&&<C><ST>Differences ONSS prive vs APL</ST>{[{e:"Taux employeur",p:(TX_ONSS_E*100).toFixed(2)+"%",a:"32.07%"},{e:"Pension",p:"8.86% (legal)",a:"7.5% (pool)"},{e:"Fonds fermeture",p:"Oui",a:"Non"},{e:"Vacances annuelles",p:"ONVA (ouvriers)",a:"Direct employeur"},{e:"Maribel social",p:"-0.40%",a:"-0.40%"},{e:"Declaration",p:"DmfA",a:"DmfAPPL"},{e:"Portail",p:"socialsecurity.be",a:"socialsecurity.be"}].map((r,i)=><div key={i} style={{display:"flex",justifyContent:"space-between",padding:"8px 0",borderBottom:"1px solid rgba(255,255,255,.03)"}}><span style={{color:"#9e9b93",flex:1}}>{r.e}</span><span style={{color:"#60a5fa",width:100,textAlign:"center"}}>{r.p}</span><span style={{color:"#fb923c",width:100,textAlign:"center"}}>{r.a}</span></div>)}</C>}{tab==="pension"&&<C><ST>Pension secteur public</ST>{[{t:"Regime",d:"Pension publique basee sur dernier salaire (tantieme)"},{t:"Tantieme",d:"1/60 par annee de service (regime favorable)"},{t:"Age pension",d:"66 ans (2025-2030) puis 67 ans (2030+)"},{t:"Pension anticipee",d:"Possible des 63 ans avec 42 ans carriere"},{t:"Perequation",d:"Ajustement pension selon evolution baremes actifs"},{t:"Cumul",d:"Cumul pension/travail possible avec conditions"}].map((r,i)=><div key={i} style={{padding:"10px 0",borderBottom:"1px solid rgba(255,255,255,.03)"}}><b style={{color:"#c6a34e",fontSize:12}}>{r.t}</b><div style={{fontSize:10.5,color:"#9e9b93",marginTop:2}}>{r.d}</div></div>)}</C>}</div>;}

export function ETAMod({s,d}){const ae=(s.emps||[]).filter(e=>e.status==='active'||!e.status);const n=ae.length;const f2=v=>new Intl.NumberFormat('fr-BE',{minimumFractionDigits:2}).format(v);const quotaETA=LOIS_BELGES.handicap?.quotaETA||0;return <div><PH title="Entreprise de Travail Adapte (ETA)" sub={"Emploi protege â€” Aide regionale â€” RMMMG "+f2(RMMMG)+" EUR â€” LOIS_BELGES"}/><div style={{display:"grid",gridTemplateColumns:"repeat(4,1fr)",gap:12,marginBottom:18}}>{[{l:"Travailleurs",v:n,c:"#c6a34e"},{l:"Quota handicap",v:quotaETA>0?quotaETA+"%":"Pas de quota BE",c:"#60a5fa"},{l:"Prime embauche",v:"Regionale",c:"#22c55e"},{l:"RMMMG",v:f2(RMMMG),c:"#a78bfa"}].map((k,i)=><div key={i} style={{padding:"14px 16px",background:"rgba(198,163,78,.04)",borderRadius:10,border:"1px solid rgba(198,163,78,.08)"}}><div style={{fontSize:10,color:"#5e5c56",textTransform:"uppercase",letterSpacing:".5px"}}>{k.l}</div><div style={{fontSize:18,fontWeight:700,color:k.c,marginTop:4}}>{k.v}</div></div>)}</div><C><ST>Aides a l'emploi handicap par region</ST>{[{r:"Bruxelles (Phare/COCOF)",d:"Prime de compensation salariale. Adaptation poste travail. Intervention transport."},{r:"Flandre (VDAB/GTB)",d:"VOP-premie (prime integration). Prime salariale degressif 5 ans."},{r:"Wallonie (AVIQ)",d:"Prime de compensation. ETA subventionnees. Tutorat remunere."},{r:"Federal (SPF SS)",d:"Allocation integration BNB. Deduction majoree fiscale (120%)."}].map((r,i)=><div key={i} style={{padding:"10px 0",borderBottom:"1px solid rgba(255,255,255,.03)"}}><b style={{color:"#c6a34e",fontSize:12}}>{r.r}</b><div style={{fontSize:10.5,color:"#9e9b93",marginTop:3}}>{r.d}</div></div>)}</C></div>;}

export function ExportImportMod({s,d}){const loisRef=LOIS_BELGES;const rmmmgRef=RMMMG;const ae=s.emps||[];const [tab,setTab]=useState("export");return <div><PH title="Export / Import" sub="Echange de donnees - CSV, XML, API, comptabilite"/><div style={{display:"grid",gridTemplateColumns:"repeat(4,1fr)",gap:12,marginBottom:18}}>{[{l:"Travailleurs",v:ae.length,c:"#c6a34e"},{l:"Formats export",v:8,c:"#60a5fa"},{l:"Formats import",v:4,c:"#4ade80"},{l:"API disponibles",v:3,c:"#a78bfa"}].map((k,i)=><div key={i} style={{padding:"14px 16px",background:"rgba(198,163,78,.04)",borderRadius:10,border:"1px solid rgba(198,163,78,.08)"}}><div style={{fontSize:10,color:"#5e5c56",textTransform:"uppercase",letterSpacing:".5px"}}>{k.l}</div><div style={{fontSize:18,fontWeight:700,color:k.c,marginTop:4}}>{k.v}</div></div>)}</div><div style={{display:"flex",gap:6,marginBottom:16}}>{[{v:"export",l:"Exports"},{v:"import",l:"Imports"},{v:"api",l:"API et connecteurs"}].map(t=><button key={t.v} onClick={()=>setTab(t.v)} style={{padding:"8px 16px",borderRadius:8,border:"none",cursor:"pointer",fontSize:12,fontWeight:tab===t.v?600:400,fontFamily:"inherit",background:tab===t.v?"rgba(198,163,78,.15)":"rgba(255,255,255,.03)",color:tab===t.v?"#c6a34e":"#9e9b93"}}>{t.l}</button>)}</div>{tab==="export"&&<C><ST>Formats export disponibles</ST>{[{f:"CSV travailleurs",d:"Export complet donnees employes",s:"ok"},{f:"XML DmfA",d:"DÃ©claration ONSS trimestrielle",s:"ok"},{f:"XML Dimona",d:"Declaration entree/sortie",s:"ok"},{f:"XML Belcotax 281",d:"Fiches fiscales SPF Finances",s:"ok"},{f:"XML SEPA pain.001",d:"Virements salaires",s:"ok"},{f:"BOB50 / Winbooks / Exact / Horus / Octopus / Yuki / Kluwer / Popsy",d:"Export comptable OD paie â€” 8 formats",s:"ok"},{f:"PDF Fiches de paie",d:"Fiches individuelles â€” impression navigateur",s:"ok"},{f:"XBRL Bilan social",d:"Depot BNB â€” Phase 2",s:"ok"}].map((r,i)=><div key={i} style={{display:"flex",justifyContent:"space-between",padding:"8px 0",borderBottom:"1px solid rgba(255,255,255,.03)"}}><div><b style={{color:"#e8e6e0",fontSize:12}}>{r.f}</b><div style={{fontSize:10,color:"#5e5c56"}}>{r.d}</div></div><span style={{fontSize:10,padding:"2px 8px",borderRadius:4,background:r.s==="ok"?"rgba(74,222,128,.1)":"rgba(251,146,56,.1)",color:r.s==="ok"?"#4ade80":"#fb923c"}}>{r.s==="ok"?"âœ… Disponible":"ðŸ”§ Phase 2"}</span></div>)}</C>}{tab==="import"&&<C><ST>Import CSV Travailleurs</ST><div style={{border:"2px dashed rgba(198,163,78,.3)",borderRadius:12,padding:30,textAlign:"center",cursor:"pointer",background:"rgba(198,163,78,.02)"}} onDragOver={e=>{e.preventDefault();e.currentTarget.style.borderColor="rgba(198,163,78,.8)";}} onDragLeave={e=>{e.currentTarget.style.borderColor="rgba(198,163,78,.3)";}} onDrop={e=>{e.preventDefault();e.currentTarget.style.borderColor="rgba(198,163,78,.3)";const file=e.dataTransfer.files[0];if(!file)return;const reader=new FileReader();reader.onload=ev=>{const result=importTravailleurs(ev.target.result);if(result.error){alert("Erreur: "+result.error);return;}if(result.count===0){alert("Aucun travailleur trouvÃ© dans le fichier");return;}if(confirm("Importer "+result.count+" travailleurs ?\n\nColonnes dÃ©tectÃ©es: "+result.headers.join(", "))){d(p=>({...p,emps:[...(p.emps||[]),...result.imported]}));alert(result.count+" travailleurs importÃ©s avec succÃ¨s !");}};reader.readAsText(file);}} onClick={()=>{const inp=document.createElement("input");inp.type="file";inp.accept=".csv,.txt";inp.onchange=e=>{const file=e.target.files[0];if(!file)return;const reader=new FileReader();reader.onload=ev=>{const result=importTravailleurs(ev.target.result);if(result.error){alert("Erreur: "+result.error);return;}if(result.count===0){alert("Aucun travailleur trouvÃ©");return;}if(confirm("Importer "+result.count+" travailleurs ?\n\nColonnes: "+result.headers.join(", "))){d(p=>({...p,emps:[...(p.emps||[]),...result.imported]}));alert(result.count+" travailleurs importÃ©s !");}};reader.readAsText(file);};inp.click();}}><div style={{fontSize:32,marginBottom:8}}>ðŸ“¥</div><div style={{fontSize:14,fontWeight:600,color:"#c6a34e",marginBottom:4}}>Glissez un fichier CSV ici</div><div style={{fontSize:11,color:"#9e9b93"}}>Ou cliquez pour sÃ©lectionner â€” Format: NISS;Nom;Prenom;DateNaissance;BrutMensuel;...</div></div><div style={{padding:"12px 16px",marginTop:12,background:"rgba(198,163,78,.04)",borderRadius:8,border:"1px solid rgba(198,163,78,.08)"}}><div style={{fontSize:11,fontWeight:600,color:"#c6a34e",marginBottom:4}}>Format attendu (sÃ©parateur: point-virgule)</div><div style={{fontSize:10,color:"#9e9b93",fontFamily:"monospace"}}>NISS;Nom;Prenom;DateNaissance;Genre;Email;Telephone;Adresse;CodePostal;Ville;IBAN;BIC;Statut;TypeContrat;DateEntree;Fonction;Regime;BrutMensuel;CP</div><div style={{fontSize:10,color:"#5e5c56",marginTop:6}}>Les colonnes sont dÃ©tectÃ©es automatiquement (ordre flexible). Minimum requis: Nom ou PrÃ©nom.</div></div><div style={{marginTop:12}}><button onClick={()=>{if(ae.length===0){alert("Aucun travailleur Ã  exporter");return;}exportTravailleurs(ae,s.company);}} style={{padding:"10px 20px",borderRadius:8,border:"none",cursor:"pointer",fontSize:12,fontWeight:600,fontFamily:"inherit",background:"rgba(96,165,250,.15)",color:"#60a5fa"}}>â¬‡ Exporter {ae.length} travailleurs en CSV</button></div></C>}{tab==="api"&&<C><ST>API et connecteurs</ST>{[{a:"ONSS / Securite sociale",d:"Portail SSE - Envoi DmfA, Dimona, consultations",s:"Prevu"},{a:"SPF Finances",d:"Belcotax-on-web - Envoi XML 281",s:"Prevu"},{a:"Supabase",d:"Backend base de donnees temps reel",s:"Actif"},{a:"Peppol",d:"Facturation electronique B2G",s:"Prevu"},{a:"Isabel / Banking",d:"SEPA virements bancaires",s:"Prevu"}].map((r,i)=><div key={i} style={{display:"flex",justifyContent:"space-between",padding:"8px 0",borderBottom:"1px solid rgba(255,255,255,.03)"}}><div><b style={{color:"#c6a34e",fontSize:12}}>{r.a}</b><div style={{fontSize:10,color:"#5e5c56"}}>{r.d}</div></div><span style={{fontSize:10,padding:"2px 8px",borderRadius:4,background:r.s==="Actif"?"rgba(74,222,128,.1)":"rgba(96,165,250,.1)",color:r.s==="Actif"?"#4ade80":"#60a5fa"}}>{r.s}</span></div>)}</C>}</div>;}

export function DecavaMod({s,d}){const ae=(s.emps||[]).filter(e=>e.status==='active'||!e.status);const [tab,setTab]=useState("calc");const [ageLic,setAgeLic]=useState(55);const [anciennete,setAnciennete]=useState(15);const f2=v=>new Intl.NumberFormat('fr-BE',{minimumFractionDigits:2}).format(v);const calcDecava=(age,anc)=>{if(age<55||anc<10)return {taux:0,desc:"Non eligible"};if(age>=62||anc>=42)return {taux:0,desc:"Dispense (62+ ou 42+ ans carriere)"};const tauxBase=age<58?0.10:age<60?0.075:0.05;return {taux:tauxBase,desc:Math.round(tauxBase*100)+"%"};};const result=calcDecava(ageLic,anciennete);const rmmmg=RMMMG;return <div><PH title="Cotisation Decava (ex-Hansenne)" sub={"Cotisation spÃ©ciale sur complement prepension/RCC â€” RMMMG: "+f2(rmmmg)+" EUR"}/><div style={{display:"grid",gridTemplateColumns:"repeat(4,1fr)",gap:12,marginBottom:18}}>{[{l:"Age licenciement",v:ageLic+" ans",c:"#c6a34e"},{l:"Anciennete",v:anciennete+" ans",c:"#60a5fa"},{l:"Taux Decava",v:result.desc,c:result.taux>0?"#ef4444":"#22c55e"},{l:"RMMMG ref",v:f2(rmmmg)+" EUR",c:"#a78bfa"}].map((k,i)=><div key={i} style={{padding:"14px 16px",background:"rgba(198,163,78,.04)",borderRadius:10,border:"1px solid rgba(198,163,78,.08)"}}><div style={{fontSize:10,color:"#5e5c56",textTransform:"uppercase",letterSpacing:".5px"}}>{k.l}</div><div style={{fontSize:18,fontWeight:700,color:k.c,marginTop:4}}>{k.v}</div></div>)}</div><C><ST>Simulateur Decava</ST><div style={{display:"flex",gap:12,marginBottom:16}}><div><label style={{fontSize:10,color:"#888",display:"block",marginBottom:4}}>Age au licenciement</label><input type="number" value={ageLic} min={50} max={67} onChange={e=>setAgeLic(+e.target.value)} style={{padding:"8px 12px",borderRadius:8,border:"1px solid rgba(198,163,78,.2)",background:"rgba(0,0,0,.2)",color:"#e8e6e0",fontSize:13,width:100,fontFamily:"inherit"}}/></div><div><label style={{fontSize:10,color:"#888",display:"block",marginBottom:4}}>Anciennete (annees)</label><input type="number" value={anciennete} min={0} max={45} onChange={e=>setAnciennete(+e.target.value)} style={{padding:"8px 12px",borderRadius:8,border:"1px solid rgba(198,163,78,.2)",background:"rgba(0,0,0,.2)",color:"#e8e6e0",fontSize:13,width:100,fontFamily:"inherit"}}/></div></div>{[{l:"Cotisation Decava employeur",v:result.desc,d:"Retenue sur complement RCC. Base: complement brut mensuel."},{l:"Base legale",v:"Loi 20/12/1999 + AR 29/03/2010",d:"Cotisation spÃ©ciale de securite sociale sur prepensions."},{l:"Dispense si 62+ ans ou 42+ ans carriere",v:"Taux 0%",d:"Pas de Decava pour les dispensÃ©s conditions age/carriere."}].map((r,i)=><div key={i} style={{padding:"8px 0",borderBottom:"1px solid rgba(255,255,255,.03)"}}><div style={{display:"flex",justifyContent:"space-between"}}><b style={{color:"#e8e6e0",fontSize:12}}>{r.l}</b><span style={{color:"#c6a34e",fontWeight:600}}>{r.v}</span></div><div style={{fontSize:10.5,color:"#9e9b93",marginTop:2}}>{r.d}</div></div>)}</C></div>;}

export function BilanSocialMod({s,d}){const ae=s.emps||[];const n=ae.length;const mb=ae.reduce((a,e)=>a+(+e.gross||0),0);const [tab,setTab]=useState("donnees");return <div><PH title="Bilan Social" sub="Depot BNB - Donnees emploi et formation"/><div style={{display:"flex",gap:6,marginBottom:16}}>{[{v:"donnees",l:"Donnees"},{v:"structure",l:"Structure"},{v:"depot",l:"Depot BNB"},{v:"legal",l:"Obligations"}].map(t=><button key={t.v} onClick={()=>setTab(t.v)} style={{padding:"8px 16px",borderRadius:8,border:"none",cursor:"pointer",fontSize:12,fontWeight:tab===t.v?600:400,fontFamily:"inherit",background:tab===t.v?"rgba(198,163,78,.15)":"rgba(255,255,255,.03)",color:tab===t.v?"#c6a34e":"#9e9b93"}}>{t.l}</button>)}</div>{tab==="donnees"&&<C><ST>Donnees bilan social</ST>{[{d:"Effectif moyen ETP",v:n,c:"#c6a34e"},{d:"Heures prestees totales",v:(n*1710).toLocaleString(),c:"#60a5fa"},{d:"Frais de personnel",v:fmt(mb*12*(1+TX_ONSS_E)),c:"#f87171"},{d:"Mouvements entrees",v:"A completer",c:"#4ade80"},{d:"Mouvements sorties",v:"A completer",c:"#f87171"},{d:"Heures formation",v:(n*32).toLocaleString(),c:"#a78bfa"},{d:"Cout formation",v:fmt(mb*12*0.02),c:"#fb923c"}].map((r,i)=><div key={i} style={{display:"flex",justifyContent:"space-between",padding:"6px 0",borderBottom:"1px solid rgba(255,255,255,.03)"}}><span style={{color:"#e8e6e0",fontSize:12}}>{r.d}</span><span style={{color:r.c,fontWeight:600}}>{r.v}</span></div>)}</C>}{tab==="structure"&&<C><ST>Structure du bilan social</ST>{[{s:"Section 1",d:"Etat des personnes occupees (ETP, heures, frais personnel)"},{s:"Section 2",d:"Tableau mouvements personnel (entrees, sorties, motifs)"},{s:"Section 3",d:"Mesures en faveur emploi (subventions, aides)"},{s:"Section 4",d:"Formation (heures, cout, type, par sexe)"}].map((r,i)=><div key={i} style={{padding:"8px 0",borderBottom:"1px solid rgba(255,255,255,.03)"}}><b style={{color:"#c6a34e",fontSize:12}}>{r.s}</b><div style={{fontSize:10.5,color:"#9e9b93",marginTop:2}}>{r.d}</div></div>)}</C>}{tab==="depot"&&<C><ST>Depot BNB</ST>{[{t:"Deadline",d:"Depot avec comptes annuels. 7 mois apres cloture exercice."},{t:"Format",d:"Formulaire normalise BNB. Format XBRL electronique."},{t:"Qui",d:"Toute societe deposant des comptes annuels a la BNB."},{t:"Cout",d:"Inclus dans frais depot comptes annuels (~75-450 EUR)."}].map((r,i)=><div key={i} style={{padding:"8px 0",borderBottom:"1px solid rgba(255,255,255,.03)"}}><b style={{color:"#c6a34e",fontSize:12}}>{r.t}</b><div style={{fontSize:10.5,color:"#9e9b93",marginTop:2}}>{r.d}</div></div>)}</C>}{tab==="legal"&&<C><ST>Base legale</ST>{[{t:"AR 04/08/1996",d:"Bilan social. Contenu, forme, depot."},{t:"Code des societes",d:"Integration dans comptes annuels. Obligation depot BNB."},{t:"Sanctions",d:"Non-depot = publication comptes annuelles incomplete."}].map((r,i)=><div key={i} style={{padding:"10px 0",borderBottom:"1px solid rgba(255,255,255,.03)"}}><b style={{color:"#c6a34e",fontSize:12}}>{r.t}</b><div style={{fontSize:10.5,color:"#9e9b93",marginTop:2}}>{r.d}</div></div>)}</C>}</div>;}

export function ProvisionsMod({s,d}){const ae=(s.emps||[]).filter(e=>e.status==='active'||!e.status);const mb=ae.reduce((a,e)=>a+(+e.gross||0),0);const n=ae.length;const [tab,setTab]=useState("prov");const provPVS=Math.round(mb*PV_SIMPLE*100)/100;const provPVD=Math.round(mb*PV_DOUBLE*100)/100;const prov13=ae.reduce((a,e)=>a+calc13eMois(+(e.gross||0),{moisPreste:12}),0);const provPreavis=Math.round(mb*0.25*100)/100;const provOnssP=Math.round((provPVS+provPVD+prov13)*TX_ONSS_E*100)/100;const totalProv=provPVS+provPVD+prov13+provPreavis+provOnssP;const f2=v=>new Intl.NumberFormat('fr-BE',{minimumFractionDigits:2}).format(v);return <div><PH title="Provisions Sociales" sub="Pecule vacances, 13eme mois, preavis â€” Calculs reels"/><div style={{display:"grid",gridTemplateColumns:"repeat(4,1fr)",gap:12,marginBottom:18}}>{[{l:"Masse brute",v:f2(mb)+" EUR",c:"#c6a34e"},{l:"Total provisions/mois",v:f2(totalProv)+" EUR",c:"#ef4444"},{l:"Provisions/an",v:f2(totalProv*12)+" EUR",c:"#a78bfa"},{l:"% masse salariale",v:mb>0?(totalProv/mb*100).toFixed(1)+"%":"â€”",c:"#60a5fa"}].map((k,i)=><div key={i} style={{padding:"14px 16px",background:"rgba(198,163,78,.04)",borderRadius:10,border:"1px solid rgba(198,163,78,.08)"}}><div style={{fontSize:10,color:"#5e5c56",textTransform:"uppercase",letterSpacing:".5px"}}>{k.l}</div><div style={{fontSize:18,fontWeight:700,color:k.c,marginTop:4}}>{k.v}</div></div>)}</div><C><ST>Detail des provisions mensuelles</ST>{[{l:"Pecule vacances simple ("+Math.round(PV_SIMPLE*10000)/100+"%)",v:provPVS,c:"455100",pct:PV_SIMPLE},{l:"Pecule vacances double ("+Math.round(PV_DOUBLE*100)+"%)",v:provPVD,c:"455200",pct:PV_DOUBLE},{l:"13eme mois (calc13eMois reel)",v:prov13,c:"456000"},{l:"Provision preavis (~25% masse)",v:provPreavis,c:"460000"},{l:"ONSS patronal sur provisions ("+Math.round(TX_ONSS_E*10000)/100+"%)",v:provOnssP,c:"454000"}].map((r,i)=><div key={i} style={{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"10px 0",borderBottom:"1px solid rgba(255,255,255,.03)"}}><div><b style={{color:"#e8e6e0",fontSize:12}}>{r.l}</b><div style={{fontSize:10,color:"#5e5c56"}}>Compte {r.c}</div></div><div style={{textAlign:"right"}}><div style={{fontWeight:700,color:"#ef4444",fontSize:13}}>{f2(r.v)} EUR/mois</div><div style={{fontSize:10,color:"#9e9b93"}}>{f2(r.v*12)} EUR/an</div></div></div>)}<div style={{display:"flex",justifyContent:"space-between",padding:"12px 0",borderTop:"2px solid rgba(198,163,78,.2)",marginTop:8}}><b style={{color:"#c6a34e",fontSize:14}}>TOTAL PROVISIONS</b><div style={{textAlign:"right"}}><div style={{fontWeight:700,color:"#c6a34e",fontSize:16}}>{f2(totalProv)} EUR/mois</div><div style={{fontSize:11,color:"#9e9b93"}}>{f2(totalProv*12)} EUR/an</div></div></div></C></div>;}

export function CumulsMod({s,d}){const ae=s.emps||[];const mb=ae.reduce((a,e)=>a+(+e.gross||0),0);const [tab,setTab]=useState("cumuls");return <div><PH title="Cumuls Annuels" sub="Totalisation annuelle - Brut, ONSS, PP, net"/><div style={{display:"flex",gap:6,marginBottom:16}}>{[{v:"cumuls",l:"Cumuls equipe"},{v:"individuel",l:"Par travailleur"},{v:"projections",l:"Projections"}].map(t=><button key={t.v} onClick={()=>setTab(t.v)} style={{padding:"8px 16px",borderRadius:8,border:"none",cursor:"pointer",fontSize:12,fontWeight:tab===t.v?600:400,fontFamily:"inherit",background:tab===t.v?"rgba(198,163,78,.15)":"rgba(255,255,255,.03)",color:tab===t.v?"#c6a34e":"#9e9b93"}}>{t.l}</button>)}</div>{tab==="cumuls"&&<C><ST>Cumuls equipe {new Date().getFullYear()}</ST>{[{l:"Masse brute mensuelle",v:mb,an:mb*12},{l:"ONSS personnel ("+(TX_ONSS_W*100).toFixed(2)+"%)",v:mb*TX_ONSS_W,an:mb*TX_ONSS_W*12},{l:"ONSS patronal ("+(TX_ONSS_E*100).toFixed(2)+"%)",v:mb*TX_ONSS_E,an:mb*TX_ONSS_E*12},{l:"PrÃ©compte professionnel est.",v:mb*PP_EST,an:mb*PP_EST*12},{l:"CSSS estimee",v:mb*TX_AT,an:mb*TX_AT*12},{l:"Net total estime",v:mb*NET_FACTOR,an:mb*NET_FACTOR*12},{l:"Cout employeur total",v:mb*(1+TX_ONSS_E),an:mb*(1+TX_ONSS_E)*12}].map((r,i)=><div key={i} style={{display:"grid",gridTemplateColumns:"2fr 1fr 1fr",gap:8,padding:"6px 0",borderBottom:i===5||i===6?"2px solid rgba(198,163,78,.3)":"1px solid rgba(255,255,255,.03)"}}><span style={{color:"#9e9b93",fontSize:12}}>{r.l}</span><span style={{color:"#c6a34e",fontWeight:600,textAlign:"right"}}>{fmt(r.v)}/m</span><span style={{color:"#fb923c",fontWeight:600,textAlign:"right"}}>{fmt(r.an)}/an</span></div>)}</C>}{tab==="individuel"&&<C><ST>Cumuls par travailleur</ST><Tbl cols={[{k:"n",l:"Nom",b:1,r:r=>(r.fn||"")+" "+(r.ln||"")},{k:"b",l:"Brut annuel",a:"right",r:r=><span style={{color:"#c6a34e"}}>{fmt((+r.gross||0)*12)}</span>},{k:"o",l:"ONSS/an",a:"right",r:r=><span style={{color:"#f87171"}}>{fmt((+r.gross||0)*12*TX_ONSS_W)}</span>},{k:"ne",l:"Net annuel est.",a:"right",r:r=><span style={{color:"#4ade80",fontWeight:700}}>{fmt((+r.gross||0)*12*NET_FACTOR)}</span>}]} data={ae}/></C>}{tab==="projections"&&<C><ST>Projections annuelles</ST>{[{p:"13eme mois",v:mb},{p:"Pecule simple (1 mois)",v:mb},{p:"Pecule double (0.92 mois)",v:mb*PV_DOUBLE},{p:"Total annuel brut ((12+1+PV_DOUBLE))",v:mb*(12+1+PV_DOUBLE)},{p:"Cout employeur annuel",v:mb*(12+1+PV_DOUBLE)*(1+TX_ONSS_E)}].map((r,i)=><div key={i} style={{display:"flex",justifyContent:"space-between",padding:"6px 0",borderBottom:i===4?"2px solid rgba(198,163,78,.3)":"1px solid rgba(255,255,255,.03)"}}><span style={{color:"#9e9b93"}}>{r.p}</span><span style={{color:i===4?"#f87171":"#c6a34e",fontWeight:i===4?700:600}}>{fmt(r.v)}</span></div>)}</C>}</div>;}

export function AssLoiMod({s,d}){const ae=(s.emps||[]).filter(e=>e.status==='active'||!e.status);const mb=ae.reduce((a,e)=>a+(+e.gross||0),0);const n=ae.length;const [tab,setTab]=useState("calc");const f2=v=>new Intl.NumberFormat('fr-BE',{minimumFractionDigits:2}).format(v);const txAT=LOIS_BELGES.cotisations?.accidentTravail||0.003;const primeAT=Math.round(mb*12*txAT*100)/100;return <div><PH title="Assurance-Loi (Accident du Travail)" sub={"Obligation Art. 49 Loi 10/04/1971 â€” Prime basee sur masse salariale"}/><div style={{display:"grid",gridTemplateColumns:"repeat(4,1fr)",gap:12,marginBottom:18}}>{[{l:"Travailleurs couverts",v:n,c:"#c6a34e"},{l:"Masse salariale/an",v:f2(mb*12)+" EUR",c:"#60a5fa"},{l:"Taux AT",v:(txAT*100).toFixed(2)+"%",c:"#ef4444"},{l:"Prime annuelle",v:f2(primeAT)+" EUR",c:"#a78bfa"}].map((k,i)=><div key={i} style={{padding:"14px 16px",background:"rgba(198,163,78,.04)",borderRadius:10,border:"1px solid rgba(198,163,78,.08)"}}><div style={{fontSize:10,color:"#5e5c56",textTransform:"uppercase",letterSpacing:".5px"}}>{k.l}</div><div style={{fontSize:18,fontWeight:700,color:k.c,marginTop:4}}>{k.v}</div></div>)}</div><C><ST>Couverture accident du travail</ST>{[{t:"Incapacite temporaire totale",d:"90% du salaire plafonnÃ© pendant toute la durÃ©e. Pas de jour de carence."},{t:"Incapacite permanente",d:"Capital ou rente viagÃ¨re selon taux IPP. Base: salaire annuel plafonnÃ©."},{t:"Accident mortel",d:"Rente au conjoint (30%), enfants (15-20%). Frais funeraires."},{t:"Chemin du travail",d:"Trajet normal domicile-travail couvert. Detours raisonnables inclus."},{t:"Salaire plafonne Fedris",d:f2(LOIS_BELGES.cotisations?.plafondAT||55788)+" EUR/an â€” base de calcul des indemnites"},{t:"Declaration obligatoire",d:"Dans les 8 jours (accident) ou immediatement (mortel) via portail Fedris."}].map((r,i)=><div key={i} style={{padding:"8px 0",borderBottom:"1px solid rgba(255,255,255,.03)"}}><b style={{color:"#e8e6e0",fontSize:12}}>{r.t}</b><div style={{fontSize:10.5,color:"#9e9b93",marginTop:2}}>{r.d}</div></div>)}</C></div>;}

export function AssGroupeMod({s,d}){const ae=(s.emps||[]).filter(e=>e.status==='active'||!e.status);const n=ae.length;const mb=ae.reduce((a,e)=>a+(+e.gross||0),0);const [tab,setTab]=useState("calc");const [pctCot,setPctCot]=useState(3);const f2=v=>new Intl.NumberFormat('fr-BE',{minimumFractionDigits:2}).format(v);const cotMens=Math.round(mb*pctCot/100*100)/100;const cotAn=cotMens*12;const taxe45=Math.round(cotAn*0.045*100)/100;const totalCout=cotAn+taxe45;return <div><PH title="Assurance Groupe" sub={"Pension complementaire 2e pilier â€” "+pctCot+"% masse â€” Cotisation Wyninckx + taxe 4,4%"}/><div style={{display:"grid",gridTemplateColumns:"repeat(4,1fr)",gap:12,marginBottom:18}}>{[{l:"Cotisation/mois",v:f2(cotMens)+" EUR",c:"#c6a34e"},{l:"Cotisation/an",v:f2(cotAn)+" EUR",c:"#60a5fa"},{l:"Taxe 4,4%",v:f2(taxe45)+" EUR/an",c:"#ef4444"},{l:"Cout total/an",v:f2(totalCout)+" EUR",c:"#a78bfa"}].map((k,i)=><div key={i} style={{padding:"14px 16px",background:"rgba(198,163,78,.04)",borderRadius:10,border:"1px solid rgba(198,163,78,.08)"}}><div style={{fontSize:10,color:"#5e5c56",textTransform:"uppercase",letterSpacing:".5px"}}>{k.l}</div><div style={{fontSize:18,fontWeight:700,color:k.c,marginTop:4}}>{k.v}</div></div>)}</div><C><ST>Detail par travailleur</ST><div style={{overflowX:"auto"}}><table style={{width:"100%",borderCollapse:"collapse",fontSize:11}}><thead><tr style={{borderBottom:"2px solid rgba(198,163,78,.2)"}}>{["Nom","Brut","Cotisation/mois","Cotisation/an","Plafond Wyninckx"].map(h=><th key={h} style={{padding:"8px 6px",textAlign:"left",color:"#c6a34e",fontWeight:600,fontSize:10}}>{h}</th>)}</tr></thead><tbody>{ae.map((e,i)=>{const brut=+(e.gross||0);const cot=Math.round(brut*pctCot/100*100)/100;const plafond=LOIS_BELGES.pension?.plafondWyninckx||32472;return <tr key={e.id||i} style={{borderBottom:"1px solid rgba(255,255,255,.03)"}}><td style={{padding:"6px"}}>{(e.first||e.fn||'')+" "+(e.last||e.ln||'')}</td><td style={{padding:"6px"}}>{f2(brut)}</td><td style={{padding:"6px",color:"#60a5fa"}}>{f2(cot)}</td><td style={{padding:"6px"}}>{f2(cot*12)}</td><td style={{padding:"6px",color:cot*12>plafond?"#ef4444":"#22c55e"}}>{cot*12>plafond?"âš  Depasse":"OK"}</td></tr>})}</tbody></table></div></C></div>;}

export function MedTravailMod({s,d}){const ae=(s.emps||[]).filter(e=>e.status==='active'||!e.status);const n=ae.length;const f2=v=>new Intl.NumberFormat('fr-BE',{minimumFractionDigits:2}).format(v);const coutVisite=LOIS_BELGES.medTravail?.coutVisite||95;const coutAn=Math.round(n*coutVisite);return <div><PH title="Medecine du Travail" sub={"SEPP/SIPPT â€” Cout visite: "+f2(coutVisite)+" EUR â€” Art. 4 Loi Bien-etre â€” LOIS_BELGES"}/><div style={{display:"grid",gridTemplateColumns:"repeat(4,1fr)",gap:12,marginBottom:18}}>{[{l:"Travailleurs",v:n,c:"#c6a34e"},{l:"Cout visite",v:f2(coutVisite)+" EUR",c:"#ef4444"},{l:"Budget annuel est.",v:f2(coutAn)+" EUR",c:"#a78bfa"},{l:"RMMMG ref",v:f2(RMMMG)+" EUR",c:"#60a5fa"}].map((k,i)=><div key={i} style={{padding:"14px 16px",background:"rgba(198,163,78,.04)",borderRadius:10,border:"1px solid rgba(198,163,78,.08)"}}><div style={{fontSize:10,color:"#5e5c56",textTransform:"uppercase",letterSpacing:".5px"}}>{k.l}</div><div style={{fontSize:18,fontWeight:700,color:k.c,marginTop:4}}>{k.v}</div></div>)}</div><C><ST>Obligations surveillance sante</ST>{[{t:"Evaluation periodique (postes a risques)",d:"Annuelle ou tous les 3-5 ans selon risque. Formulaire d'evaluation sante (FES)."},{t:"Examen d'embauche",d:"Avant mise au travail si poste de securite, vigilance ou activite a risque defini."},{t:"Examen de reprise",d:"Apres absence de 4+ semaines (maladie/accident). Avant reprise effective."},{t:"Visite pre-reprise (volontaire)",d:"A la demande du travailleur pendant incapacite. Favorise reinsertion."},{t:"Examen spontane",d:"A la demande du travailleur a tout moment. Gratuit et confidentiel."},{t:"Plan global de prevention (5 ans)",d:"Obligatoire. Analyse des risques + mesures. Revu annuellement (PAA)."},{t:"Conseiller en prevention",d:n<20?"Fonction interne possible (employeur)":"SEPP externe obligatoire (plus de 20 travailleurs)"}].map((r,i)=><div key={i} style={{padding:"8px 0",borderBottom:"1px solid rgba(255,255,255,.03)"}}><b style={{color:"#e8e6e0",fontSize:12}}>{r.t}</b><div style={{fontSize:10.5,color:"#9e9b93",marginTop:2}}>{r.d}</div></div>)}</C></div>;}

export function AllocFamMod({s,d}){const ae=(s.emps||[]).filter(e=>e.status==='active'||!e.status);const [tab,setTab]=useState("calc");const [region,setRegion]=useState("bruxelles");const [nbEnf,setNbEnf]=useState(2);const [ages,setAges]=useState([5,12]);const testAlloc=calcAllocEnfant(nbEnf,ages,region);const empData=ae.map(e=>{const nbe=+(e.enfants||0);const agesE=Array.from({length:nbe},(v,i)=>6+i*3);const alloc=calcAllocEnfant(nbe,agesE,e.region||region);return {...e,nbe,alloc};});const totalAlloc=empData.reduce((a,e)=>a+e.alloc.total,0);const f2=v=>new Intl.NumberFormat('fr-BE',{minimumFractionDigits:2}).format(v);return <div><PH title="Allocations Familiales" sub="Groeipakket â€” calcAllocEnfant() reel par region"/><div style={{display:"grid",gridTemplateColumns:"repeat(4,1fr)",gap:12,marginBottom:18}}>{[{l:"Travailleurs avec enfants",v:empData.filter(e=>e.nbe>0).length,c:"#c6a34e"},{l:"Total enfants",v:empData.reduce((a,e)=>a+e.nbe,0),c:"#60a5fa"},{l:"Alloc totale/mois",v:f2(totalAlloc)+" EUR",c:"#22c55e"},{l:"Region test",v:region,c:"#a78bfa"}].map((k,i)=><div key={i} style={{padding:"14px 16px",background:"rgba(198,163,78,.04)",borderRadius:10,border:"1px solid rgba(198,163,78,.08)"}}><div style={{fontSize:10,color:"#5e5c56",textTransform:"uppercase",letterSpacing:".5px"}}>{k.l}</div><div style={{fontSize:18,fontWeight:700,color:k.c,marginTop:4}}>{k.v}</div></div>)}</div><div style={{display:"flex",gap:6,marginBottom:16}}>{[{v:"calc",l:"Par employe"},{v:"sim",l:"Simulateur"},{v:"baremes",l:"Baremes regionaux"}].map(t=><button key={t.v} onClick={()=>setTab(t.v)} style={{padding:"8px 16px",borderRadius:8,border:"none",cursor:"pointer",fontSize:12,fontWeight:tab===t.v?600:400,fontFamily:"inherit",background:tab===t.v?"rgba(198,163,78,.15)":"rgba(255,255,255,.03)",color:tab===t.v?"#c6a34e":"#9e9b93"}}>{t.l}</button>)}</div>{tab==="calc"&&<C><ST>Allocations par travailleur</ST><div style={{overflowX:"auto"}}><table style={{width:"100%",borderCollapse:"collapse",fontSize:11}}><thead><tr style={{borderBottom:"2px solid rgba(198,163,78,.2)"}}>{["Nom","Enfants","Region","Alloc/mois","Alloc/an"].map(h=><th key={h} style={{padding:"8px 6px",textAlign:"left",color:"#c6a34e",fontWeight:600,fontSize:10}}>{h}</th>)}</tr></thead><tbody>{empData.filter(e=>e.nbe>0).map((e,i)=><tr key={e.id||i} style={{borderBottom:"1px solid rgba(255,255,255,.03)"}}><td style={{padding:"6px"}}>{(e.first||e.fn||'')+" "+(e.last||e.ln||'')}</td><td style={{padding:"6px"}}>{e.nbe}</td><td style={{padding:"6px"}}>{e.region||region}</td><td style={{padding:"6px",fontWeight:600,color:"#22c55e"}}>{f2(e.alloc.total)}</td><td style={{padding:"6px"}}>{f2(e.alloc.total*12)}</td></tr>)}</tbody></table></div></C>}{tab==="sim"&&<C><ST>Simulateur allocations familiales</ST><div style={{display:"flex",gap:12,marginBottom:16,flexWrap:"wrap"}}><div><label style={{fontSize:10,color:"#888",display:"block",marginBottom:4}}>Region</label><select value={region} onChange={e=>setRegion(e.target.value)} style={{padding:"8px 12px",borderRadius:8,border:"1px solid rgba(198,163,78,.2)",background:"rgba(0,0,0,.2)",color:"#e8e6e0",fontSize:13,fontFamily:"inherit"}}><option value="bruxelles">Bruxelles</option><option value="flandre">Flandre</option><option value="wallonie">Wallonie</option></select></div><div><label style={{fontSize:10,color:"#888",display:"block",marginBottom:4}}>Nombre enfants</label><input type="number" value={nbEnf} min={0} max={10} onChange={e=>{const n=+e.target.value;setNbEnf(n);setAges(Array.from({length:n},(v,i)=>ages[i]||6));}} style={{padding:"8px 12px",borderRadius:8,border:"1px solid rgba(198,163,78,.2)",background:"rgba(0,0,0,.2)",color:"#e8e6e0",fontSize:13,width:80,fontFamily:"inherit"}}/></div></div>{ages.map((a,i)=><div key={i} style={{display:"inline-flex",alignItems:"center",gap:6,marginRight:12,marginBottom:8}}><span style={{fontSize:10,color:"#888"}}>Enfant {i+1}:</span><input type="number" value={a} min={0} max={25} onChange={e=>{const na=[...ages];na[i]=+e.target.value;setAges(na);}} style={{padding:"4px 8px",borderRadius:6,border:"1px solid rgba(198,163,78,.2)",background:"rgba(0,0,0,.2)",color:"#e8e6e0",fontSize:12,width:60,fontFamily:"inherit"}}/><span style={{fontSize:10,color:"#5e5c56"}}>ans</span></div>)}<div style={{padding:16,background:"rgba(198,163,78,.04)",borderRadius:10,marginTop:12}}><div style={{fontSize:22,fontWeight:700,color:"#22c55e"}}>{f2(testAlloc.total)} EUR/mois</div><div style={{fontSize:12,color:"#9e9b93",marginTop:4}}>{f2(testAlloc.total*12)} EUR/an â€” {region}</div>{testAlloc.detail&&testAlloc.detail.map((d2,i)=><div key={i} style={{fontSize:11,color:"#60a5fa",marginTop:4}}>Enfant {i+1}: {f2(d2)} EUR/mois</div>)}</div></C>}{tab==="baremes"&&<C><ST>Baremes Groeipakket 2026 par region</ST>{[{r:"Bruxelles (Iriscare)",b:"Base: 168,97 EUR/enf. Supplement age: +31,36 (6-11), +48,24 (12-17), +60,96 (18-24)"},{r:"Flandre (Groeipakket)",b:"Base: 173,20 EUR/enf. Supplement: +57,42 (tiers rang+). Participation: +77,22"},{r:"Wallonie (AVIQ)",b:"Base: 181,61 EUR (1er), +35 EUR (2e), +66 EUR (3e+). Supplements age variables"}].map((r,i)=><div key={i} style={{padding:"10px 0",borderBottom:"1px solid rgba(255,255,255,.03)"}}><b style={{color:"#c6a34e",fontSize:12}}>{r.r}</b><div style={{fontSize:10.5,color:"#9e9b93",marginTop:3}}>{r.b}</div></div>)}</C>}</div>;}

export function SecteursMod({s,d}){const ae=(s.emps||[]).filter(e=>e.status==='active'||!e.status);const f2=v=>new Intl.NumberFormat('fr-BE',{minimumFractionDigits:2}).format(v);const cpList=[...new Set(ae.map(e=>e.cp).filter(Boolean))];return <div><PH title="Commissions Paritaires / Secteurs" sub={"CP attribuees: "+cpList.length+" â€” RMMMG "+f2(RMMMG)+" EUR â€” LOIS_BELGES"}/><div style={{display:"grid",gridTemplateColumns:"repeat(4,1fr)",gap:12,marginBottom:18}}>{[{l:"Travailleurs",v:ae.length,c:"#c6a34e"},{l:"CP distinctes",v:cpList.length||"Aucune",c:"#60a5fa"},{l:"Sans CP",v:ae.filter(e=>!e.cp).length,c:ae.filter(e=>!e.cp).length>0?"#ef4444":"#22c55e"},{l:"RMMMG 2026",v:f2(RMMMG),c:"#a78bfa"}].map((k,i)=><div key={i} style={{padding:"14px 16px",background:"rgba(198,163,78,.04)",borderRadius:10,border:"1px solid rgba(198,163,78,.08)"}}><div style={{fontSize:10,color:"#5e5c56",textTransform:"uppercase",letterSpacing:".5px"}}>{k.l}</div><div style={{fontSize:18,fontWeight:700,color:k.c,marginTop:4}}>{k.v}</div></div>)}</div><C><ST>Commissions paritaires frequentes</ST>{[{cp:"200",n:"CP Employes (CPNAE)",d:"Employes du secteur prive. Baremiques, eco-cheques, prime de fin d'annee."},{cp:"100",n:"CP Auxiliaire Ouvriers",d:"Ouvriers ne relevant d'aucune CP specifique."},{cp:"201",n:"CP Commerce de detail independant",d:"Petits commerces. Heures supplementaires, primes."},{cp:"218",n:"CP Employes comm. alim.",d:"Grande distribution. Baremiques specifiques."},{cp:"302",n:"CP Horeca",d:"Restaurants, hotels. Flexi-jobs, pourcentage service."},{cp:"124",n:"CP Construction",d:"Ouvriers construction. Timbres intemperies, prime fidelite."},{cp:"140",n:"CP Transport et logistique",d:"Chauffeurs, logistique. Indemnites kilometriques."}].map((r,i)=><div key={i} style={{display:"flex",gap:12,padding:"10px 0",borderBottom:"1px solid rgba(255,255,255,.03)"}}><span style={{fontSize:9,padding:"2px 8px",borderRadius:4,background:"rgba(198,163,78,.1)",color:"#c6a34e",fontWeight:700,whiteSpace:"nowrap",height:"fit-content"}}>CP {r.cp}</span><div><b style={{color:"#e8e6e0",fontSize:12}}>{r.n}</b><div style={{fontSize:10.5,color:"#9e9b93",marginTop:2}}>{r.d}</div></div></div>)}</C></div>;}

export function ReglementTravailMod({s,d}){const ae=(s.emps||[]).filter(e=>e.status==='active'||!e.status);const n=ae.length;const f2=v=>new Intl.NumberFormat('fr-BE',{minimumFractionDigits:2}).format(v);return <div><PH title="Reglement de Travail" sub={"Obligation Art. 4 Loi 08/04/1965 â€” "+n+" travailleurs â€” RMMMG "+f2(RMMMG)+" EUR"}/><div style={{display:"grid",gridTemplateColumns:"repeat(4,1fr)",gap:12,marginBottom:18}}>{[{l:"Travailleurs",v:n,c:"#c6a34e"},{l:"Mentions obligatoires",v:14,c:"#60a5fa"},{l:"Derniere MAJ",v:"A verifier",c:"#eab308"},{l:"RMMMG",v:f2(RMMMG),c:"#a78bfa"}].map((k,i)=><div key={i} style={{padding:"14px 16px",background:"rgba(198,163,78,.04)",borderRadius:10,border:"1px solid rgba(198,163,78,.08)"}}><div style={{fontSize:10,color:"#5e5c56",textTransform:"uppercase",letterSpacing:".5px"}}>{k.l}</div><div style={{fontSize:18,fontWeight:700,color:k.c,marginTop:4}}>{k.v}</div></div>)}</div><C><ST>Mentions obligatoires (Art. 6)</ST>{[{n:1,t:"Horaires de travail",d:"Debut, fin, pauses. Horaires fixes et variables."},{n:2,t:"Modes de remuneration",d:"Periodicite, mode de paiement (virement SEPA)."},{n:3,t:"Delais de preavis",d:"Renvoi a la loi ou tableaux CCT 109."},{n:4,t:"Droits et obligations personnel de surveillance",d:"Si applicable."},{n:5,t:"Sanctions et procedure disciplinaire",d:"Amendes max 1/5 salaire journalier. Echelle graduee."},{n:6,t:"Jours feries",d:"10 jours legaux + jours de remplacement."},{n:7,t:"Vacances annuelles",d:"Modalites de prise des conges. Fermeture collective."},{n:8,t:"Adresses inspection sociale",d:"ONEM, SPF Emploi, medecine du travail."},{n:9,t:"Premiers secours",d:"Nom des secouristes, emplacement trousse."},{n:10,t:"Clause RGPD",d:"Camera surveillance, controle email/internet."},{n:11,t:"Politique alcool et drogues (CCT 100)",d:"Obligatoire depuis 2009."},{n:12,t:"Risques psychosociaux",d:"Personne de confiance, conseiller en prevention."},{n:13,t:"Deconnexion (Loi 03/10/2022)",d:"Droit a la deconnexion pour entreprises 20+ travailleurs."},{n:14,t:"Teletravail",d:"Modalites teletravail structurel/occasionnel."}].map((r,i)=><div key={i} style={{display:"flex",gap:10,padding:"8px 0",borderBottom:"1px solid rgba(255,255,255,.03)"}}><span style={{fontSize:11,fontWeight:700,color:"#c6a34e",minWidth:20}}>{r.n}.</span><div><b style={{color:"#e8e6e0",fontSize:12}}>{r.t}</b><div style={{fontSize:10.5,color:"#9e9b93",marginTop:2}}>{r.d}</div></div></div>)}</C></div>;}

export function ContratsTravailMod({s,d}){const ae=(s.emps||[]).filter(e=>e.status==='active'||!e.status);const [tab,setTab]=useState("overview");const f2=v=>new Intl.NumberFormat('fr-BE',{minimumFractionDigits:2}).format(v);const cdi=ae.filter(e=>!e.contractType||e.contractType==='CDI').length;const cdd=ae.filter(e=>e.contractType==='CDD').length;const interim=ae.filter(e=>e.contractType==='Interim').length;const etud=ae.filter(e=>e.contractType==='Etudiant').length;const tp=ae.filter(e=>!e.regime||(+e.regime)>=100).length;const partiel=ae.length-tp;return <div><PH title="Contrats de Travail" sub={"RMMMG: "+f2(RMMMG)+" EUR â€” "+ae.length+" travailleurs â€” Loi 03/07/1978"}/><div style={{display:"grid",gridTemplateColumns:"repeat(4,1fr)",gap:12,marginBottom:18}}>{[{l:"CDI",v:cdi,c:"#22c55e"},{l:"CDD",v:cdd,c:"#fb923c"},{l:"Temps plein",v:tp,c:"#60a5fa"},{l:"Temps partiel",v:partiel,c:"#a78bfa"}].map((k,i)=><div key={i} style={{padding:"14px 16px",background:"rgba(198,163,78,.04)",borderRadius:10,border:"1px solid rgba(198,163,78,.08)"}}><div style={{fontSize:10,color:"#5e5c56",textTransform:"uppercase",letterSpacing:".5px"}}>{k.l}</div><div style={{fontSize:18,fontWeight:700,color:k.c,marginTop:4}}>{k.v}</div></div>)}</div><div style={{display:"flex",gap:6,marginBottom:16}}>{[{v:"overview",l:"Vue globale"},{v:"detail",l:"Par travailleur"},{v:"clauses",l:"Clauses obligatoires"},{v:"preavis",l:"Delais preavis"}].map(t=><button key={t.v} onClick={()=>setTab(t.v)} style={{padding:"8px 16px",borderRadius:8,border:"none",cursor:"pointer",fontSize:12,fontWeight:tab===t.v?600:400,fontFamily:"inherit",background:tab===t.v?"rgba(198,163,78,.15)":"rgba(255,255,255,.03)",color:tab===t.v?"#c6a34e":"#9e9b93"}}>{t.l}</button>)}</div>{tab==="overview"&&<C><ST>Repartition des contrats</ST>{[{t:"CDI ("+cdi+")",pct:ae.length?Math.round(cdi/ae.length*100):0,c:"#22c55e",d:"Contrat a duree indeterminee â€” pas de terme"},{t:"CDD ("+cdd+")",pct:ae.length?Math.round(cdd/ae.length*100):0,c:"#fb923c",d:"Max 4 CDD successifs, max 2 ans (3 ans avec autorisation)"},{t:"Interim ("+interim+")",pct:ae.length?Math.round(interim/ae.length*100):0,c:"#60a5fa",d:"Via agence â€” max 6 mois (renouvelable)"},{t:"Etudiant ("+etud+")",pct:ae.length?Math.round(etud/ae.length*100):0,c:"#a78bfa",d:"Max 600h/an cotisations reduites 2,71% au lieu de 13,07%"}].map((r,i)=><div key={i} style={{padding:"10px 0",borderBottom:"1px solid rgba(255,255,255,.03)"}}><div style={{display:"flex",justifyContent:"space-between",marginBottom:4}}><b style={{color:r.c,fontSize:12}}>{r.t}</b><span style={{color:r.c,fontWeight:700}}>{r.pct}%</span></div><div style={{height:6,background:"rgba(255,255,255,.05)",borderRadius:3,overflow:"hidden"}}><div style={{height:"100%",width:r.pct+"%",background:r.c,borderRadius:3}}/></div><div style={{fontSize:10,color:"#5e5c56",marginTop:4}}>{r.d}</div></div>)}</C>}{tab==="detail"&&<C><ST>Contrats par travailleur</ST><div style={{overflowX:"auto"}}><table style={{width:"100%",borderCollapse:"collapse",fontSize:11}}><thead><tr style={{borderBottom:"2px solid rgba(198,163,78,.2)"}}>{["Nom","Type","Debut","Fin","Regime","Brut","RMMMG OK"].map(h=><th key={h} style={{padding:"8px 6px",textAlign:"left",color:"#c6a34e",fontWeight:600,fontSize:10}}>{h}</th>)}</tr></thead><tbody>{ae.map((e,i)=>{const brut=+(e.gross||0);const regime=+(e.regime||100)/100;const brutTP=regime>0?brut/regime:brut;const okRMMMG=brutTP>=RMMMG;return <tr key={e.id||i} style={{borderBottom:"1px solid rgba(255,255,255,.03)"}}><td style={{padding:"6px"}}>{(e.first||e.fn||'')+" "+(e.last||e.ln||'')}</td><td style={{padding:"6px"}}><span style={{fontSize:9,padding:"2px 6px",borderRadius:4,background:e.contractType==='CDD'?"rgba(251,146,56,.1)":"rgba(74,222,128,.06)",color:e.contractType==='CDD'?"#fb923c":"#4ade80"}}>{e.contractType||"CDI"}</span></td><td style={{padding:"6px"}}>{e.startDate||"â€”"}</td><td style={{padding:"6px",color:e.endDate?"#ef4444":"#5e5c56"}}>{e.endDate||"â€”"}</td><td style={{padding:"6px"}}>{e.regime||100}%</td><td style={{padding:"6px"}}>{f2(brut)}</td><td style={{padding:"6px"}}><span style={{color:okRMMMG?"#22c55e":"#ef4444",fontSize:10}}>{okRMMMG?"âœ…":"âš  < RMMMG"}</span></td></tr>;})}</tbody></table></div></C>}{tab==="preavis"&&<C><ST>Delais de preavis (CCT 109 â€” Art. 37/2 Loi 03/07/1978)</ST>{[{anc:"0-3 mois",emp:"1 sem",trav:"1 sem"},{anc:"3-6 mois",emp:"3 sem",trav:"2 sem"},{anc:"6-12 mois",emp:"4 sem",trav:"3 sem"},{anc:"1-2 ans",emp:"7 sem",trav:"4 sem"},{anc:"2-3 ans",emp:"9 sem",trav:"5 sem"},{anc:"3-4 ans",emp:"12 sem",trav:"6 sem"},{anc:"4-5 ans",emp:"15 sem",trav:"7 sem"},{anc:"5-10 ans",emp:"18-27 sem",trav:"9-13 sem"},{anc:"10-20 ans",emp:"30-62 sem",trav:"13 sem max"},{anc:"20+ ans",emp:"62+ sem",trav:"13 sem max"}].map((r,i)=><div key={i} style={{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:8,padding:"6px 0",borderBottom:"1px solid rgba(255,255,255,.03)"}}><span style={{color:"#e8e6e0",fontSize:11}}>{r.anc}</span><span style={{color:"#ef4444",fontSize:11}}>Empl: {r.emp}</span><span style={{color:"#22c55e",fontSize:11}}>Trav: {r.trav}</span></div>)}</C>}<C><ST>GÃ©nÃ©rer un contrat</ST>{[{n:"CDI temps plein",ref:"Loi 03/07/1978",desc:"Contrat a duree indeterminee â€” clauses obligatoires Art. 6-8"},{n:"CDD",ref:"Art. 9-10 Loi 03/07/1978",desc:"Duree determinee â€” motif legitime, max 2 ans, 4 renouvellements"},{n:"Contrat etudiant",ref:"Titre VII Loi 03/07/1978",desc:"Max 600h/an cotisations reduites â€” clause formation obligatoire"},{n:"Contrat temps partiel",ref:"AR 25/06/1990",desc:"Mentions obligatoires: regime, horaire, derogations"},{n:"Avenant au contrat",ref:"Art. 1134 C.civ.",desc:"Modification salaire, fonction, regime â€” accord mutuel"},{n:"Convention de rupture",ref:"Art. 32 Loi 03/07/1978",desc:"Rupture d'un commun accord â€” pas de preavis"}].map((doc,i)=><div key={i} style={{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"10px 0",borderBottom:"1px solid rgba(255,255,255,.03)"}}><div><div style={{fontSize:12,fontWeight:600,color:"#e8e6e0"}}>{doc.n}</div><div style={{fontSize:10,color:"#5e5c56"}}>{doc.ref} â€” {doc.desc}</div></div><button onClick={()=>{const txt="CONTRAT DE TRAVAIL â€” "+doc.n.toUpperCase()+"\n\nEntre l'employeur: [Nom entreprise]\nN\u00b0 BCE: [BE 0xxx.xxx.xxx]\nAdresse: [Siege social]\n\nEt le travailleur: [Nom Prenom]\nNISS: [xx.xx.xx-xxx.xx]\nDomicile: [Adresse]\n\n"+("Base legale: "+doc.ref)+"\n\nArticle 1 â€” Objet\nLe travailleur est engage en qualite de [fonction] a partir du [date].\n\nArticle 2 â€” RÃ©munÃ©ration\nLe salaire brut mensuel est fixe a [montant] EUR pour un regime de [38h/semaine].\nCe montant respecte le RMMMG ("+new Intl.NumberFormat('fr-BE',{minimumFractionDigits:2}).format(RMMMG)+" EUR) et les baremes de la CP [200].\n\nArticle 3 â€” Duree du travail\nRegime: temps plein [38h/semaine] conforme a la Loi du 16/03/1971 sur le travail.\n\nArticle 4 â€” Lieu de travail\n[Adresse du lieu de travail]\n\nArticle 5 â€” Preavis\nConformement a la Loi du 26/12/2013 (Statut unique) et CCT n\u00b0109.\n\nArticle 6 â€” Clause de confidentialite\nLe travailleur s'engage a ne pas divulguer les informations confidentielles (Art. 17 Loi 03/07/1978).\n\nArticle 7 â€” Reglement de travail\nLe travailleur declare avoir recu copie du reglement de travail (Loi 08/04/1965).\n\nFait en double exemplaire a [lieu], le [date].\n\nL'employeur:\t\t\tLe travailleur:\n[Signature]\t\t\t[Signature]";const b=new Blob([txt],{type:'text/plain'});const u=URL.createObjectURL(b);const a=document.createElement('a');a.href=u;a.download='contrat_'+doc.n.toLowerCase().replace(/ /g,'_')+'.txt';a.click()}} style={{padding:"6px 14px",borderRadius:6,border:"none",background:"rgba(198,163,78,.12)",color:"#c6a34e",fontSize:10,cursor:"pointer",fontWeight:600,fontFamily:"inherit",whiteSpace:"nowrap"}}>Generer</button></div>)}</C></div>;}

export function WorkflowEmbaucheMod({s,d}){const ae=s.emps||[];const [step,setStep]=useState(1);const f2=v=>new Intl.NumberFormat('fr-BE',{minimumFractionDigits:2}).format(v);const steps=[{n:1,t:"Offre et selection",d:"Verifier Dimona du candidat, origine, permis de travail si non-UE."},{n:2,t:"Contrat",d:"Rediger contrat CDI/CDD. Clause non-concurrence si brut > "+f2(RMMMG*1.5)+" EUR (150% RMMMG)."},{n:3,t:"Dimona IN",d:"Declarer AVANT J1 via portail SSE. Penalite: 2.500-12.500 EUR si oubli."},{n:4,t:"Registre personnel",d:"Inscrire au registre. Numero sequentiel. Conservation 5 ans apres sortie."},{n:5,t:"Medecine du travail",d:"Visite prealable si surveillance sante. Sinon dans les 2 mois."},{n:6,t:"Remise documents",d:"Reglement travail + politique RGPD + fiche salariale + info CCT."},{n:7,t:"Premier salaire",d:"Fiche de paie + virement SEPA. Minimum RMMMG: "+f2(RMMMG)+" EUR brut TP."}];return <div><PH title="Workflow Embauche" sub={"Processus complet â€” RMMMG "+f2(RMMMG)+" EUR â€” 7 etapes legales"}/><div style={{display:"flex",gap:4,marginBottom:20}}>{steps.map(s2=><div key={s2.n} onClick={()=>setStep(s2.n)} style={{flex:1,padding:"8px 4px",textAlign:"center",cursor:"pointer",borderRadius:8,background:step===s2.n?"rgba(198,163,78,.15)":step>s2.n?"rgba(74,222,128,.05)":"rgba(255,255,255,.02)",border:step===s2.n?"1px solid rgba(198,163,78,.3)":"1px solid rgba(255,255,255,.03)"}}><div style={{fontSize:16}}>{step>s2.n?"âœ…":step===s2.n?"ðŸ“‹":"â¬œ"}</div><div style={{fontSize:8,color:step===s2.n?"#c6a34e":"#5e5c56",marginTop:2}}>Etape {s2.n}</div></div>)}</div>{steps.filter(s2=>s2.n===step).map(s2=><C key={s2.n}><ST>Etape {s2.n}: {s2.t}</ST><div style={{fontSize:13,color:"#e8e6e0",lineHeight:1.6}}>{s2.d}</div><div style={{marginTop:16,display:"flex",gap:8}}>{step>1&&<button onClick={()=>setStep(step-1)} style={{padding:"8px 16px",borderRadius:8,border:"none",cursor:"pointer",fontSize:11,fontFamily:"inherit",background:"rgba(255,255,255,.05)",color:"#9e9b93"}}>â† Precedent</button>}{step<7&&<button onClick={()=>setStep(step+1)} style={{padding:"8px 16px",borderRadius:8,border:"none",cursor:"pointer",fontSize:11,fontWeight:600,fontFamily:"inherit",background:"rgba(198,163,78,.15)",color:"#c6a34e"}}>Suivant â†’</button>}</div></C>)}</div>;}

export function WorkflowLicenciementMod({s,d}){const [tab,setTab]=useState("workflow");return <div><PH title="Workflow Licenciement" sub="Processus complet - De la decision a la sortie"/><div style={{display:"flex",gap:6,marginBottom:16}}>{[{v:"workflow",l:"Etapes"},{v:"motif",l:"Motif et motivation"},{v:"docs",l:"Documents"},{v:"couts",l:"Couts"}].map(t=><button key={t.v} onClick={()=>setTab(t.v)} style={{padding:"8px 16px",borderRadius:8,border:"none",cursor:"pointer",fontSize:12,fontWeight:tab===t.v?600:400,fontFamily:"inherit",background:tab===t.v?"rgba(198,163,78,.15)":"rgba(255,255,255,.03)",color:tab===t.v?"#c6a34e":"#9e9b93"}}>{t.l}</button>)}</div>{tab==="workflow"&&<C><ST>Workflow licenciement</ST>{[{n:1,t:"Verification protections",d:"Enceinte? Credit-temps? Delegue? Maladie? Si oui: procedure speciale.",c:"#f87171"},{n:2,t:"Choix modalite",d:"Preavis preste ou indemnite compensatoire. Calcul semaines.",c:"#fb923c"},{n:3,t:"Notification",d:"Lettre recommandee (J+3 = notification) ou remise main propre (immediate).",c:"#c6a34e"},{n:4,t:"Dimona OUT",d:"Declaration sortie ONSS. Au plus tard dernier jour.",c:"#60a5fa"},{n:5,t:"C4 + Solde tout compte",d:"Formulaire chomage + decompte final dans les 2 mois.",c:"#a78bfa"},{n:6,t:"Outplacement si applicable",d:"Offre dans les 15 jours si preavis 30+ semaines.",c:"#4ade80"}].map((r,i)=><div key={i} style={{display:"flex",gap:12,padding:"10px 0",borderBottom:"1px solid rgba(255,255,255,.03)"}}><div style={{width:28,height:28,borderRadius:"50%",background:r.c+"20",display:"flex",alignItems:"center",justifyContent:"center",fontSize:12,fontWeight:700,color:r.c,flexShrink:0}}>{r.n}</div><div><b style={{color:r.c,fontSize:12}}>{r.t}</b><div style={{fontSize:10.5,color:"#9e9b93",marginTop:2}}>{r.d}</div></div></div>)}</C>}{tab==="motif"&&<C><ST>Motivation licenciement</ST>{[{t:"CCT 109",d:"Tout licenciement doit pouvoir etre motive. Demande possible travailleur dans les 2 mois."},{t:"Reponse",d:"Employeur doit repondre dans les 2 mois. Par recommande."},{t:"Manifestement deraisonnable",d:"Si aucun lien avec aptitude, conduite ou necessite entreprise."},{t:"Indemnite",d:"3 a 17 semaines de remuneration si licenciement manifestement deraisonnable."},{t:"Motif grave (Art. 35)",d:"Faute grave rendant collaboration definitivement impossible. Notification 3 jours. Congedie 3 jours."}].map((r,i)=><div key={i} style={{padding:"10px 0",borderBottom:"1px solid rgba(255,255,255,.03)"}}><b style={{color:"#c6a34e",fontSize:12}}>{r.t}</b><div style={{fontSize:10.5,color:"#9e9b93",marginTop:2}}>{r.d}</div></div>)}</C>}{tab==="docs"&&<C><ST>Documents sortie</ST>{["Lettre licenciement (recommandee)","AccusÃƒÂ© reception (si main propre)","C4 (formulaire chomage ONEM)","Solde de tout compte","Attestation vacances","Fiche de paie finale","Attestation employeur (sur demande)","Offre outplacement (si applicable)"].map((r,i)=><div key={i} style={{padding:"4px 0",borderBottom:"1px solid rgba(255,255,255,.03)",fontSize:12,color:"#e8e6e0"}}><span style={{color:"#c6a34e",marginRight:6}}>{i+1}.</span>{r}</div>)}</C>}{tab==="couts"&&<C><ST>Couts licenciement</ST>{[{c:"Indemnite preavis",d:"Brut x semaines / 4,33. Soumis ONSS.",v:"Variable"},{c:"ONSS sur indemnite",d:""+(TX_ONSS_E*100).toFixed(2)+"% employeur + "+((LOIS_BELGES.onss.travailleur*100).toFixed(2))+"% travailleur",v:"38.14%"},{c:"Outplacement",d:"Si 30+ semaines. Min 1.800 EUR.",v:"1.800-6.000"},{c:"CCT 109",d:"Si manifestement deraisonnable: 3-17 semaines.",v:"3-17 sem."},{c:"Solde vacances",d:"Pecule prorata + double prorata.",v:"~14.47%"},{c:"13eme prorata",d:"Prorata mois prestes.",v:"Prorata"}].map((r,i)=><div key={i} style={{display:"flex",justifyContent:"space-between",padding:"8px 0",borderBottom:"1px solid rgba(255,255,255,.03)"}}><div><b style={{color:"#c6a34e",fontSize:12}}>{r.c}</b><div style={{fontSize:10,color:"#5e5c56"}}>{r.d}</div></div><span style={{color:"#f87171",fontWeight:600}}>{r.v}</span></div>)}</C>}</div>;}

export function WorkflowMaladieMod({s,d}){const ae=(s.emps||[]).filter(e=>e.status==='active'||!e.status);const f2=v=>new Intl.NumberFormat('fr-BE',{minimumFractionDigits:2}).format(v);return <div><PH title="Workflow Maladie" sub={"Salaire garanti + DRS + reprise â€” Loi 03/07/1978 â€” RMMMG "+f2(RMMMG)+" EUR"}/><div style={{display:"grid",gridTemplateColumns:"repeat(4,1fr)",gap:12,marginBottom:18}}>{[{l:"Travailleurs actifs",v:ae.length,c:"#c6a34e"},{l:"En maladie",v:ae.filter(e=>e.sickLeave).length,c:"#ef4444"},{l:"Sal. garanti employe",v:"30 jours",c:"#60a5fa"},{l:"RMMMG",v:f2(RMMMG),c:"#a78bfa"}].map((k,i)=><div key={i} style={{padding:"14px 16px",background:"rgba(198,163,78,.04)",borderRadius:10,border:"1px solid rgba(198,163,78,.08)"}}><div style={{fontSize:10,color:"#5e5c56",textTransform:"uppercase",letterSpacing:".5px"}}>{k.l}</div><div style={{fontSize:18,fontWeight:700,color:k.c,marginTop:4}}>{k.v}</div></div>)}</div><C><ST>Timeline maladie</ST>{[{j:"Jour 1",t:"Certificat medical",d:"Le travailleur informe + envoie certificat dans les 2 jours ouvrables.",c:"#ef4444"},{j:"J1-J30",t:"Salaire garanti employe (100%)",d:"Employeur paie integralement. Ouvrier: schema degressif (100/85.88/25.88%).",c:"#60a5fa"},{j:"J31+",t:"Indemnites mutuelle",d:"60% du salaire plafonne. DRS scenario 3 a la mutuelle.",c:"#a78bfa"},{j:"4 sem+",t:"Examen reprise obligatoire",d:"Visite medecine du travail avant la reprise effective.",c:"#fb923c"},{j:"Option",t:"Trajet de reintegration",d:"A la demande du travailleur, employeur ou medecin. Reprise progressive possible.",c:"#22c55e"}].map((r,i)=><div key={i} style={{display:"flex",gap:12,padding:"12px 0",borderBottom:"1px solid rgba(255,255,255,.03)"}}><span style={{fontSize:9,padding:"2px 8px",borderRadius:4,background:r.c+"15",color:r.c,fontWeight:700,whiteSpace:"nowrap",height:"fit-content"}}>{r.j}</span><div><b style={{color:"#e8e6e0",fontSize:12}}>{r.t}</b><div style={{fontSize:10.5,color:"#9e9b93",marginTop:2}}>{r.d}</div></div></div>)}</C></div>;}

export function PredictionTurnoverMod({s,d}){const ae=(s.emps||[]).filter(e=>e.status==='active'||!e.status);const n=ae.length;const mb=ae.reduce((a,e)=>a+(+e.gross||0),0);const [tab,setTab]=useState("pred");const f2=v=>new Intl.NumberFormat('fr-BE',{minimumFractionDigits:0}).format(v);const sortis=ae.filter(e=>e.endDate).length;const tauxTurnover=n>0?Math.round(sortis/n*100):0;const coutRemplacement=mb>0?Math.round(mb/n*3):0;const coutAnnuel=Math.round(sortis*coutRemplacement*(1+TX_ONSS_E));const riskData=ae.map(e=>{let score=0;const brut=+(e.gross||0);if(brut<RMMMG*1.1)score+=30;const anc=e.startDate?Math.round((new Date()-new Date(e.startDate))/(365.25*24*3600000)):0;if(anc<1)score+=25;else if(anc>5)score-=10;if(e.absDays>10)score+=15;if(e.performanceRating&&e.performanceRating<3)score+=20;const risk=Math.min(100,Math.max(0,score));return {...e,risk,anc,brut};}).sort((a,b)=>b.risk-a.risk);return <div><PH title="Prediction Turnover" sub={"Analyse risque depart â€” Cout remplacement via TX_ONSS_E â€” "+n+" travailleurs"}/><div style={{display:"grid",gridTemplateColumns:"repeat(4,1fr)",gap:12,marginBottom:18}}>{[{l:"Taux turnover",v:tauxTurnover+"%",c:tauxTurnover>15?"#ef4444":tauxTurnover>8?"#eab308":"#22c55e"},{l:"Cout/remplacement",v:f2(coutRemplacement)+" EUR",c:"#ef4444"},{l:"Cout turnover/an",v:f2(coutAnnuel)+" EUR",c:"#a78bfa"},{l:"Risque eleve",v:riskData.filter(e=>e.risk>50).length+" emps",c:"#fb923c"}].map((k,i)=><div key={i} style={{padding:"14px 16px",background:"rgba(198,163,78,.04)",borderRadius:10,border:"1px solid rgba(198,163,78,.08)"}}><div style={{fontSize:10,color:"#5e5c56",textTransform:"uppercase",letterSpacing:".5px"}}>{k.l}</div><div style={{fontSize:18,fontWeight:700,color:k.c,marginTop:4}}>{k.v}</div></div>)}</div><C><ST>Score risque par travailleur</ST><div style={{overflowX:"auto"}}><table style={{width:"100%",borderCollapse:"collapse",fontSize:11}}><thead><tr style={{borderBottom:"2px solid rgba(198,163,78,.2)"}}>{["Nom","Brut","Anciennete","Score risque","Niveau"].map(h=><th key={h} style={{padding:"8px 6px",textAlign:"left",color:"#c6a34e",fontWeight:600,fontSize:10}}>{h}</th>)}</tr></thead><tbody>{riskData.slice(0,15).map((e,i)=>{const col=e.risk>60?"#ef4444":e.risk>30?"#eab308":"#22c55e";const lbl=e.risk>60?"Eleve":e.risk>30?"Moyen":"Faible";return <tr key={e.id||i} style={{borderBottom:"1px solid rgba(255,255,255,.03)"}}><td style={{padding:"6px"}}>{(e.first||e.fn||'')+" "+(e.last||e.ln||'')}</td><td style={{padding:"6px"}}>{f2(e.brut)}</td><td style={{padding:"6px"}}>{e.anc} an{e.anc>1?"s":""}</td><td style={{padding:"6px"}}><div style={{display:"flex",alignItems:"center",gap:6}}><div style={{width:40,height:6,background:"rgba(255,255,255,.05)",borderRadius:3,overflow:"hidden"}}><div style={{height:"100%",width:e.risk+"%",background:col,borderRadius:3}}/></div><span style={{color:col,fontWeight:600,fontSize:11}}>{e.risk}%</span></div></td><td style={{padding:"6px"}}><span style={{fontSize:9,padding:"2px 8px",borderRadius:4,background:col+"15",color:col}}>{lbl}</span></td></tr>;})}</tbody></table></div></C></div>;}

export function PrevisionMasseMod({s,d}){const ae=(s.emps||[]).filter(e=>e.status==='active'||!e.status);const mb=ae.reduce((a,e)=>a+(+e.gross||0),0);const n=ae.length;const [tab,setTab]=useState("prev");const [pctIndex,setPctIndex]=useState(2);const [pctTurnover,setPctTurnover]=useState(5);const f2=v=>new Intl.NumberFormat('fr-BE',{minimumFractionDigits:0}).format(v);const onssE=mb*TX_ONSS_E;const provPV=mb*(PV_SIMPLE+PV_DOUBLE/12);const prov13=mb/12;const coutMens=mb+onssE+provPV+prov13;const coutAn=coutMens*12;const indexImpact=coutAn*pctIndex/100;const turnoverCost=Math.round(mb*pctTurnover/100*3);const mois=['Jan','Fev','Mar','Avr','Mai','Jun','Jul','Aou','Sep','Oct','Nov','Dec'];const projMens=mois.map((m,i)=>{const idx2=pctIndex/100/12*i;const brutProj=Math.round(mb*(1+idx2));const coutProj=Math.round(brutProj*(1+TX_ONSS_E)+brutProj*(PV_SIMPLE+PV_DOUBLE/12)+brutProj/12);return {m,brutProj,coutProj};});return <div><PH title="Prevision Masse Salariale" sub={"Projection "+new Date().getFullYear()+" â€” "+n+" travailleurs â€” TX_ONSS_E + PV + 13e"}/><div style={{display:"grid",gridTemplateColumns:"repeat(4,1fr)",gap:12,marginBottom:18}}>{[{l:"Masse brute/mois",v:f2(mb)+" EUR",c:"#c6a34e"},{l:"Cout total/mois",v:f2(coutMens)+" EUR",c:"#ef4444"},{l:"Cout total/an",v:f2(coutAn)+" EUR",c:"#a78bfa"},{l:"Impact indexation "+pctIndex+"%",v:"+"+f2(indexImpact)+" EUR/an",c:"#fb923c"}].map((k,i)=><div key={i} style={{padding:"14px 16px",background:"rgba(198,163,78,.04)",borderRadius:10,border:"1px solid rgba(198,163,78,.08)"}}><div style={{fontSize:10,color:"#5e5c56",textTransform:"uppercase",letterSpacing:".5px"}}>{k.l}</div><div style={{fontSize:18,fontWeight:700,color:k.c,marginTop:4}}>{k.v}</div></div>)}</div><C><ST>Projection mensuelle {new Date().getFullYear()}</ST><div style={{overflowX:"auto"}}><table style={{width:"100%",borderCollapse:"collapse",fontSize:11}}><thead><tr style={{borderBottom:"2px solid rgba(198,163,78,.2)"}}>{["Mois","Masse brute proj.","Cout total proj.","Cumul annuel"].map(h=><th key={h} style={{padding:"8px 6px",textAlign:"left",color:"#c6a34e",fontWeight:600,fontSize:10}}>{h}</th>)}</tr></thead><tbody>{projMens.map((p,i)=>{const cumul=projMens.slice(0,i+1).reduce((a,x)=>a+x.coutProj,0);return <tr key={i} style={{borderBottom:"1px solid rgba(255,255,255,.03)"}}><td style={{padding:"6px",fontWeight:600}}>{p.m}</td><td style={{padding:"6px"}}>{f2(p.brutProj)}</td><td style={{padding:"6px",color:"#ef4444"}}>{f2(p.coutProj)}</td><td style={{padding:"6px",color:"#a78bfa"}}>{f2(cumul)}</td></tr>;})}</tbody></table></div></C><C><ST>Decomposition cout annuel</ST>{[{l:"Masse brute x 12",v:mb*12,c:"#c6a34e"},{l:"ONSS patronal ("+Math.round(TX_ONSS_E*10000)/100+"%)",v:onssE*12,c:"#ef4444"},{l:"Provisions pecule vacances",v:provPV*12,c:"#ef4444"},{l:"Provisions 13e mois",v:prov13*12,c:"#ef4444"},{l:"Cout turnover estime ("+pctTurnover+"%)",v:turnoverCost,c:"#fb923c"},{l:"Impact indexation ("+pctIndex+"%)",v:indexImpact,c:"#fb923c"},{l:"BUDGET TOTAL PREVISIONNEL",v:coutAn+indexImpact+turnoverCost,c:"#c6a34e"}].map((r,i)=><div key={i} style={{display:"flex",justifyContent:"space-between",padding:i===6?"12px 0":"8px 0",borderBottom:i<6?"1px solid rgba(255,255,255,.03)":"none",borderTop:i===6?"2px solid rgba(198,163,78,.2)":"none"}}><span style={{color:i===6?"#c6a34e":"#9e9b93",fontSize:i===6?14:12,fontWeight:i===6?700:400}}>{r.l}</span><span style={{color:r.c,fontSize:i===6?16:13,fontWeight:i===6?700:600}}>{f2(r.v)} EUR</span></div>)}</C></div>;}

export function ScoreSanteMod({s,d}){const ae=(s.emps||[]).filter(e=>e.status==='active'||!e.status);const n=ae.length;const mb=ae.reduce((a,e)=>a+(+e.gross||0),0);const checks=[{id:'dimona',l:'Dimona declarees',ok:ae.every(e=>e.startDate),w:15,d:'Tous travailleurs ont une date entree'},{id:'niss',l:'NISS renseignes',ok:ae.every(e=>e.niss),w:10,d:'Numero registre national pour chaque travailleur'},{id:'iban',l:'IBAN valides',ok:ae.every(e=>e.iban),w:10,d:'Coordonnees bancaires pour virement SEPA'},{id:'rmmmg',l:'Salaires min RMMMG',ok:ae.every(e=>(+e.gross||0)>=RMMMG||!e.gross),w:15,d:'Tous salaires min '+RMMMG+' EUR (RMMMG 2026)'},{id:'contrat',l:'Type contrat defini',ok:ae.every(e=>e.contractType),w:10,d:'CDI/CDD/Interim/Etudiant renseigne'},{id:'cp',l:'Commission paritaire',ok:ae.filter(e=>e.cp).length>=n*0.8,w:10,d:'CP renseignee pour 80%+ des travailleurs'},{id:'regime',l:'Regime travail',ok:ae.every(e=>e.regime||e.whWeek),w:10,d:'Temps plein/partiel + heures/semaine'},{id:'lois',l:'LOIS_BELGES a jour',ok:!!LOIS_BELGES?.remuneration?.RMMMG,w:10,d:'Parametres legaux centralises charges'},{id:'onss',l:'ONSS calcule correctement',ok:TX_ONSS_W===0.1307,w:10,d:'Taux ONSS travailleur = 13,07%'}];const totalW=checks.reduce((a,c)=>a+c.w,0);const score=checks.reduce((a,c)=>a+(c.ok?c.w:0),0);const pct=Math.round(score/totalW*100);const color=pct>=80?'#22c55e':pct>=60?'#eab308':'#ef4444';return <div><PH title="Score Sante Dossier" sub={"Audit automatique conformite â€” "+n+" travailleurs â€” LOIS_BELGES + RMMMG"}/><div style={{display:"grid",gridTemplateColumns:"repeat(4,1fr)",gap:12,marginBottom:18}}>{[{l:"Score global",v:pct+"%",c:color},{l:"Checks OK",v:checks.filter(c=>c.ok).length+"/"+checks.length,c:"#22c55e"},{l:"Problemes",v:checks.filter(c=>!c.ok).length,c:"#ef4444"},{l:"RMMMG ref",v:RMMMG+" EUR",c:"#c6a34e"}].map((k,i)=><div key={i} style={{padding:"14px 16px",background:"rgba(198,163,78,.04)",borderRadius:10,border:"1px solid rgba(198,163,78,.08)"}}><div style={{fontSize:10,color:"#5e5c56",textTransform:"uppercase",letterSpacing:".5px"}}>{k.l}</div><div style={{fontSize:18,fontWeight:700,color:k.c,marginTop:4}}>{k.v}</div></div>)}</div><div style={{height:12,background:"rgba(255,255,255,.05)",borderRadius:6,overflow:"hidden",marginBottom:18}}><div style={{height:"100%",width:pct+"%",background:color,borderRadius:6,transition:"width .3s"}}/></div><C><ST>Detail des verifications</ST>{checks.map((c,i)=><div key={i} style={{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"10px 0",borderBottom:"1px solid rgba(255,255,255,.03)"}}><div style={{flex:1}}><div style={{display:"flex",alignItems:"center",gap:8}}><span style={{fontSize:16}}>{c.ok?"âœ…":"âŒ"}</span><b style={{color:c.ok?"#22c55e":"#ef4444",fontSize:12}}>{c.l}</b><span style={{fontSize:9,color:"#5e5c56",padding:"2px 6px",background:"rgba(255,255,255,.03)",borderRadius:4}}>{c.w} pts</span></div><div style={{fontSize:10,color:"#9e9b93",marginTop:2,marginLeft:32}}>{c.d}</div></div></div>)}</C></div>;}

export function MultiCurrencyMod({s,d}){const ae=(s.emps||[]).filter(e=>e.status==='active'||!e.status);const mb=ae.reduce((a,e)=>a+(+e.gross||0),0);const [cur,setCur]=useState("USD");const [rate,setRate]=useState(1.08);const f2=v=>new Intl.NumberFormat('fr-BE',{minimumFractionDigits:2}).format(v);const coutEUR=Math.round(mb*(1+TX_ONSS_E)*100)/100;const coutDev=Math.round(coutEUR*rate*100)/100;return <div><PH title="Multi-Devises" sub={"Conversion cout salarial â€” TX_ONSS_E "+Math.round(TX_ONSS_E*10000)/100+"%"}/><div style={{display:"grid",gridTemplateColumns:"repeat(4,1fr)",gap:12,marginBottom:18}}>{[{l:"Masse EUR/mois",v:f2(mb)+" EUR",c:"#c6a34e"},{l:"Cout chargÃ© EUR",v:f2(coutEUR)+" EUR",c:"#60a5fa"},{l:"Cout "+cur,v:f2(coutDev)+" "+cur,c:"#a78bfa"},{l:"Taux",v:rate,c:"#22c55e"}].map((k,i)=><div key={i} style={{padding:"14px 16px",background:"rgba(198,163,78,.04)",borderRadius:10,border:"1px solid rgba(198,163,78,.08)"}}><div style={{fontSize:10,color:"#5e5c56",textTransform:"uppercase",letterSpacing:".5px"}}>{k.l}</div><div style={{fontSize:18,fontWeight:700,color:k.c,marginTop:4}}>{k.v}</div></div>)}</div><C><ST>Conversion devises</ST><div style={{display:"flex",gap:12,marginBottom:12}}><select value={cur} onChange={e=>setCur(e.target.value)} style={{padding:"8px 12px",borderRadius:8,border:"1px solid rgba(198,163,78,.2)",background:"rgba(0,0,0,.2)",color:"#e8e6e0",fontSize:13,fontFamily:"inherit"}}>{[{v:"USD",l:"US Dollar"},{v:"GBP",l:"Livre Sterling"},{v:"CHF",l:"Franc Suisse"},{v:"MAD",l:"Dirham Marocain"},{v:"TND",l:"Dinar Tunisien"},{v:"XOF",l:"Franc CFA"}].map(c2=><option key={c2.v} value={c2.v}>{c2.l}</option>)}</select><input type="number" step="0.01" value={rate} onChange={e=>setRate(+e.target.value)} style={{padding:"8px 12px",borderRadius:8,border:"1px solid rgba(198,163,78,.2)",background:"rgba(0,0,0,.2)",color:"#e8e6e0",fontSize:13,width:100,fontFamily:"inherit"}}/></div>{[{l:"Masse brute",eur:mb,dev:mb*rate},{l:"ONSS patronal",eur:mb*TX_ONSS_E,dev:mb*TX_ONSS_E*rate},{l:"Cout total chargÃ©",eur:coutEUR,dev:coutDev}].map((r,i)=><div key={i} style={{display:"flex",justifyContent:"space-between",padding:"8px 0",borderBottom:i<2?"1px solid rgba(255,255,255,.03)":"none",borderTop:i===2?"2px solid rgba(198,163,78,.2)":"none"}}><span style={{color:i===2?"#c6a34e":"#9e9b93",fontSize:12,fontWeight:i===2?700:400}}>{r.l}</span><div><span style={{color:"#e8e6e0",fontSize:12,marginRight:16}}>{f2(r.eur)} EUR</span><span style={{color:"#a78bfa",fontSize:12,fontWeight:600}}>{f2(r.dev)} {cur}</span></div></div>)}</C></div>;}

export function AbsencesMod({s,d}){const ae=(s.emps||[]).filter(e=>e.status==='active'||!e.status);const [tab,setTab]=useState("suivi");const f2=v=>new Intl.NumberFormat('fr-BE',{minimumFractionDigits:2}).format(v);const empData=ae.map(e=>{const brut=+(e.gross||0);const brutJ=brut/20;const absDays=+(e.absDays||0);const sickDays=+(e.sickDays||0);const salGar=Math.min(sickDays,30)*brutJ;const joursSansSolde=Math.max(0,absDays-sickDays);const retenue=Math.round(joursSansSolde*brutJ*100)/100;const netImpact=retenue>0?Math.round(retenue*(1-TX_ONSS_W)*100)/100:0;return {...e,brut,brutJ,absDays,sickDays,salGar,joursSansSolde,retenue,netImpact};});const totalRetenue=empData.reduce((a,e)=>a+e.retenue,0);const totalGar=empData.reduce((a,e)=>a+e.salGar,0);return <div><PH title="Gestion des Absences" sub="Suivi, salaire garanti, retenues â€” Impact reel via TX_ONSS_W"/><div style={{display:"grid",gridTemplateColumns:"repeat(4,1fr)",gap:12,marginBottom:18}}>{[{l:"Travailleurs",v:ae.length,c:"#c6a34e"},{l:"Jours absence total",v:empData.reduce((a,e)=>a+e.absDays,0),c:"#ef4444"},{l:"Salaire garanti verse",v:f2(totalGar)+" EUR",c:"#60a5fa"},{l:"Retenues sans solde",v:f2(totalRetenue)+" EUR",c:"#a78bfa"}].map((k,i)=><div key={i} style={{padding:"14px 16px",background:"rgba(198,163,78,.04)",borderRadius:10,border:"1px solid rgba(198,163,78,.08)"}}><div style={{fontSize:10,color:"#5e5c56",textTransform:"uppercase",letterSpacing:".5px"}}>{k.l}</div><div style={{fontSize:18,fontWeight:700,color:k.c,marginTop:4}}>{k.v}</div></div>)}</div><C><ST>Detail absences par travailleur</ST><div style={{overflowX:"auto"}}><table style={{width:"100%",borderCollapse:"collapse",fontSize:11}}><thead><tr style={{borderBottom:"2px solid rgba(198,163,78,.2)"}}>{["Nom","Brut","Jours abs","Maladie","Sal. garanti","Sans solde","Retenue"].map(h=><th key={h} style={{padding:"8px 6px",textAlign:"left",color:"#c6a34e",fontWeight:600,fontSize:10}}>{h}</th>)}</tr></thead><tbody>{empData.filter(e=>e.absDays>0).map((e,i)=><tr key={e.id||i} style={{borderBottom:"1px solid rgba(255,255,255,.03)"}}><td style={{padding:"6px"}}>{(e.first||e.fn||'')+" "+(e.last||e.ln||'')}</td><td style={{padding:"6px"}}>{f2(e.brut)}</td><td style={{padding:"6px",color:"#ef4444"}}>{e.absDays}j</td><td style={{padding:"6px"}}>{e.sickDays}j</td><td style={{padding:"6px",color:"#60a5fa"}}>{f2(e.salGar)}</td><td style={{padding:"6px"}}>{e.joursSansSolde}j</td><td style={{padding:"6px",color:"#ef4444",fontWeight:600}}>{e.retenue>0?f2(e.retenue):"â€”"}</td></tr>)}</tbody></table></div></C><C><ST>Regles salaire garanti (Loi 03/07/1978)</ST>{[{t:"Employes: 30 jours a 100%",d:"Puis mutuelle (60% plafonne). Certificat J1."},{t:"Ouvriers: 7j a 100%, 7j a 85,88%, 16j a 25,88%+mut.",d:"Complement employeur degressif. Puis mutuelle."},{t:"Petit chomage (conge circonstanciel)",d:"Mariage: 2j, deces conjoint: 3j, naissance: 15j (co-parent)."},{t:"Maladie enfant (CCT 45)",d:"Max 10j/an conge familial non remunere (sauf CCT sectorielle)."}].map((r,i)=><div key={i} style={{padding:"8px 0",borderBottom:"1px solid rgba(255,255,255,.03)"}}><b style={{color:"#e8e6e0",fontSize:12}}>{r.t}</b><div style={{fontSize:10.5,color:"#9e9b93",marginTop:2}}>{r.d}</div></div>)}</C></div>;}

export function DocumentsJuridiquesMod({s,d}){const [tab,setTab]=useState("docs");const lois=LOIS_BELGES;const rmmmg=RMMMG;const f2=v=>new Intl.NumberFormat('fr-BE',{minimumFractionDigits:2}).format(v);const docs=[{cat:"Contrats",items:[{n:"CDI temps plein",ref:"Loi 03/07/1978",auto:true},{n:"CDD",ref:"Art. 9-10 Loi 03/07/1978",auto:true},{n:"Contrat Ã©tudiant",ref:"Titre VII Loi 03/07/1978",auto:true},{n:"Convention de stage",ref:"AR stages",auto:false}]},{cat:"Social",items:[{n:"RÃ¨glement de travail",ref:"Loi 08/04/1965",auto:true},{n:"CCT d'entreprise",ref:"Loi 05/12/1968",auto:false},{n:"Document C4",ref:"AR 25/11/1991",auto:true},{n:"Attestation d'occupation",ref:"Art. libre",auto:true}]},{cat:"Fiscal",items:[{n:"Fiche 281.10",ref:"Art. 57 CIR/92",auto:true},{n:"Belcotax XML",ref:"SPF Finances",auto:true},{n:"Attestation fiscale",ref:"Art. 270-275 CIR/92",auto:false}]},{cat:"ONSS/Declarations",items:[{n:"DmfA trimestrielle",ref:"AR 05/11/2002",auto:true},{n:"Dimona IN/OUT",ref:"AR 05/11/2002",auto:true},{n:"Attestation ONSS",ref:"LSS",auto:true}]}];return <div><PH title="Documents Juridiques" sub={"ModÃ¨les et rÃ©fÃ©rences â€” RMMMG: "+f2(rmmmg)+" EUR â€” LOIS_BELGES"}/><C><ST>Documents par catÃ©gorie</ST>{docs.map((cat,ci)=><div key={ci} style={{marginBottom:16}}><div style={{fontSize:12,fontWeight:700,color:"#c6a34e",marginBottom:8,padding:"6px 0",borderBottom:"1px solid rgba(198,163,78,.15)"}}>{cat.cat}</div>{cat.items.map((item,ii)=><div key={ii} style={{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"6px 0",borderBottom:"1px solid rgba(255,255,255,.02)"}}><div><span style={{color:"#e8e6e0",fontSize:12}}>{item.n}</span><span style={{fontSize:9,color:"#5e5c56",marginLeft:8}}>{item.ref}</span></div><span style={{fontSize:9,padding:"2px 8px",borderRadius:4,background:item.auto?"rgba(74,222,128,.1)":"rgba(251,146,56,.1)",color:item.auto?"#4ade80":"#fb923c"}}>{item.auto?"Auto-gÃ©nÃ©rÃ©":"Manuel"}</span></div>)}</div>)}</C><C><ST>Generer des documents</ST>{[{n:"Reglement de travail",ref:"Loi 08/04/1965",gen:()=>{aureuspdf('Reglement de Travail',[{type:'title',text:'REGLEMENT DE TRAVAIL'},{type:'text',text:'(Loi du 8 avril 1965)',size:8,color:[158,155,147]},{type:'line'},{type:'space',h:4},{type:'kv',k:'Entreprise',v:s.co?.name||'[Nom]'},{type:'kv',k:'BCE',v:s.co?.vat||'[BCE]'},{type:'space',h:4},{type:'article',num:'Article 1 - Horaires',text:'La duree hebdomadaire de travail est fixee a 38 heures, reparties du lundi au vendredi. Horaire: 09h00-12h30 et 13h30-17h30.'},{type:'article',num:'Article 2 - RÃ©munÃ©ration',text:'Le salaire est paye par virement bancaire le dernier jour ouvrable du mois. Les fiches de paie sont remises conformement a la loi.'},{type:'article',num:'Article 3 - Conges',text:'20 jours de conge legal par an (Art. 3 AR 18/01/1984). Les jours feries belges sont chomes et payes (Loi 04/01/1974).'},{type:'article',num:'Article 4 - Maladie',text:'Tout travailleur malade doit avertir son employeur dans les plus brefs delais et fournir un certificat medical dans les 2 jours ouvrables.'},{type:'article',num:'Article 5 - Preavis',text:'Les delais de preavis sont determines conformement a la Loi du 26/12/2013 relative au statut unique.'},{type:'article',num:'Article 6 - Discipline',text:'Les sanctions disciplinaires sont: avertissement ecrit, mise en demeure, licenciement pour motif grave (Art. 35 Loi 03/07/1978).'},{type:'article',num:'Article 7 - Vie privee',text:'Conformement au RGPD (Reglement UE 2016/679), les donnÃ©es personnelles des travailleurs sont traitees avec la plus stricte confidentialite.'},{type:'space',h:8},{type:'signature'}],{filename:'reglement_travail'})}},{n:"Lettre d'avertissement",ref:"Art. 35 Loi 03/07/1978",gen:()=>{aureuspdf('Avertissement Ecrit',[{type:'title',text:'AVERTISSEMENT ECRIT'},{type:'text',text:'Art. 35 Loi 03/07/1978',size:8,color:[158,155,147]},{type:'line'},{type:'space',h:4},{type:'kv',k:'Travailleur',v:'[Nom du travailleur]'},{type:'kv',k:'Fonction',v:'[Fonction]'},{type:'kv',k:'Date des faits',v:'[Date]'},{type:'space',h:4},{type:'article',num:'Objet',text:'Par la presente, nous vous notifions un avertissement formel pour les faits suivants:'},{type:'article',num:'Description des faits',text:'[Description detaillee des faits reprochees]'},{type:'article',num:'Mesures attendues',text:'Nous vous demandons de vous conformer immediatement aux regles en vigueur. En cas de recidive, des sanctions plus severes pourront etre prises, pouvant aller jusqu\'au licenciement pour motif grave.'},{type:'space',h:8},{type:'signature'}],{filename:'avertissement'})}},{n:"Mise en demeure",ref:"Art. 1146 C.civ.",gen:()=>{aureuspdf('Mise en Demeure',[{type:'title',text:'MISE EN DEMEURE'},{type:'text',text:'Art. 1146 Code civil',size:8,color:[158,155,147]},{type:'line'},{type:'text',text:'Lettre recommandee avec accuse de reception',size:8,color:[198,163,78]},{type:'space',h:4},{type:'kv',k:'Destinataire',v:'[Nom du travailleur]'},{type:'kv',k:'Date',v:new Date().toLocaleDateString('fr-BE')},{type:'space',h:4},{type:'article',num:'Objet',text:'Mise en demeure de respecter vos obligations contractuelles.'},{type:'article',num:'Constat',text:'Nous constatons que vous ne respectez pas vos obligations decoulant de votre contrat de travail et du reglement de travail, a savoir: [preciser les manquements].'},{type:'article',num:'Sommation',text:'Par la presente, nous vous mettons en demeure de vous conformer a vos obligations dans un delai de [X] jours a compter de la reception de ce courrier.'},{type:'article',num:'Consequences',text:'A defaut, nous nous reservons le droit de prendre toutes les mesures legales appropriees, y compris le licenciement pour motif grave (Art. 35 Loi 03/07/1978).'},{type:'space',h:8},{type:'signature'}],{filename:'mise_en_demeure'})}},{n:"Attestation d'emploi",ref:"Usage / Art. 20 Loi 03/07/1978",gen:()=>{if(typeof generateAttestationEmploi==='function')generateAttestationEmploi(null,s);else{aureuspdf('Attestation d\'Emploi',[{type:'title',text:'ATTESTATION D\'EMPLOI'},{type:'line'},{type:'space',h:4},{type:'text',text:'Je soussigne, '+(s.co?.name||'[Nom employeur]')+', en qualite de representant de l\'entreprise, atteste que:'},{type:'space',h:4},{type:'kv',k:'Travailleur',v:'[Nom complet]'},{type:'kv',k:'NISS',v:'[NISS]'},{type:'kv',k:'Fonction',v:'[Fonction]'},{type:'kv',k:'Date entree',v:'[Date]'},{type:'kv',k:'Type contrat',v:'CDI / CDD'},{type:'space',h:4},{type:'text',text:'est bien employe(e) dans notre entreprise a la date de ce jour.'},{type:'text',text:'La presente attestation est delivree pour servir et valoir ce que de droit.'},{type:'space',h:8},{type:'signature'}],{filename:'attestation_emploi'})}}},{n:"Attestation de salaire",ref:"Art. 15 AR 25/11/1991",gen:()=>{if(typeof generateAttestationSalaire==='function')generateAttestationSalaire(null,s);else{aureuspdf('Attestation de RÃ©munÃ©ration',[{type:'title',text:'ATTESTATION DE REMUNERATION'},{type:'line'},{type:'space',h:4},{type:'text',text:'Je soussigne, '+(s.co?.name||'[Nom employeur]')+', atteste que le travailleur designe ci-apres percoit la remuneration suivante:'},{type:'space',h:4},{type:'kv',k:'Travailleur',v:'[Nom complet]'},{type:'kv',k:'Fonction',v:'[Fonction]'},{type:'kv',k:'Salaire brut mensuel',v:'[Montant] EUR'},{type:'kv',k:'Regime horaire',v:'Temps plein 38h/semaine'},{type:'kv',k:'Avantages',v:'Cheques-repas, assurance groupe'},{type:'space',h:4},{type:'text',text:'La presente attestation est delivree a la demande de l\'interesse(e) pour servir et valoir ce que de droit.'},{type:'space',h:8},{type:'signature'}],{filename:'attestation_salaire'})}}}].map((doc,i)=><div key={i} style={{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"10px 0",borderBottom:"1px solid rgba(255,255,255,.03)"}}><div><div style={{fontSize:12,fontWeight:600,color:"#e8e6e0"}}>{doc.n}</div><div style={{fontSize:10,color:"#5e5c56"}}>{doc.ref}</div></div><button onClick={doc.gen} style={{padding:"6px 14px",borderRadius:6,border:"none",background:"rgba(34,197,94,.12)",color:"#22c55e",fontSize:10,cursor:"pointer",fontWeight:600,fontFamily:"inherit"}}>Generer</button></div>)}</C></div>;}

export function AlertesLegalesMod({s,d}){const ae=s.emps||[];const n=ae.length;const [tab,setTab]=useState("alertes");const alertes=[].concat(ae.filter(e=>!e.niss).map(e=>({t:"NISS manquant",d:(e.fn||"")+" "+(e.ln||""),p:"Critique",c:"#f87171"}))).concat(ae.filter(e=>(+e.gross||0)<RMMMG).map(e=>({t:"Sous RMMMG",d:(e.fn||"")+" "+(e.ln||"")+" ("+e.gross+" EUR)",p:"Critique",c:"#f87171"}))).concat(ae.filter(e=>!e.startDate).map(e=>({t:"Date entree manquante",d:(e.fn||"")+" "+(e.ln||""),p:"Haute",c:"#fb923c"}))).concat(ae.filter(e=>!e.birthDate).map(e=>({t:"Date naissance manquante",d:(e.fn||"")+" "+(e.ln||""),p:"Moyenne",c:"#fb923c"}))).concat(n>=50?[{t:"Elections sociales",d:"Effectif â‰¥ 50: CPPT obligatoire",p:"Info",c:"#60a5fa"}]:[]).concat(n>=20?[{t:"Plan formation",d:"Effectif â‰¥ 20: plan annuel obligatoire",p:"Info",c:"#60a5fa"}]:[]);return <div><PH title="Alertes Legales" sub={alertes.length+" alertes detectees - Conformite et risques"}/><div style={{display:"grid",gridTemplateColumns:"repeat(4,1fr)",gap:10,marginBottom:18}}>{[{l:"Alertes totales",v:alertes.length,c:alertes.length>0?"#f87171":"#4ade80"},{l:"Critiques",v:alertes.filter(a2=>a2.p==="Critique").length,c:"#f87171"},{l:"Hautes",v:alertes.filter(a2=>a2.p==="Haute").length,c:"#fb923c"},{l:"Info",v:alertes.filter(a2=>a2.p==="Info").length,c:"#60a5fa"}].map((k,i)=><div key={i} style={{padding:"12px 14px",background:"rgba(198,163,78,.04)",borderRadius:10,border:"1px solid rgba(198,163,78,.08)"}}><div style={{fontSize:9,color:"#5e5c56",textTransform:"uppercase",letterSpacing:".5px"}}>{k.l}</div><div style={{fontSize:17,fontWeight:700,color:k.c,marginTop:4}}>{k.v}</div></div>)}</div><div style={{display:"flex",gap:6,marginBottom:16}}>{[{v:"alertes",l:"Toutes alertes"},{v:"deadlines",l:"Deadlines"},{v:"sanctions",l:"Sanctions"},{v:"veille",l:"Veille legale"}].map(t=><button key={t.v} onClick={()=>setTab(t.v)} style={{padding:"8px 16px",borderRadius:8,border:"none",cursor:"pointer",fontSize:12,fontWeight:tab===t.v?600:400,fontFamily:"inherit",background:tab===t.v?"rgba(198,163,78,.15)":"rgba(255,255,255,.03)",color:tab===t.v?"#c6a34e":"#9e9b93"}}>{t.l}</button>)}</div>{tab==="alertes"&&<C><ST>Alertes detectees</ST>{alertes.length===0?<div style={{textAlign:"center",padding:30,color:"#4ade80",fontWeight:700}}>Aucune alerte - Tout est conforme</div>:alertes.map((r,i)=><div key={i} style={{display:"flex",gap:10,padding:"8px 0",borderBottom:"1px solid rgba(255,255,255,.03)"}}><div style={{width:8,height:8,borderRadius:"50%",background:r.c,marginTop:5,flexShrink:0}}/><div><div style={{display:"flex",gap:6}}><b style={{color:r.c,fontSize:12}}>{r.t}</b><span style={{fontSize:9,padding:"1px 6px",borderRadius:3,background:r.c+"15",color:r.c}}>{r.p}</span></div><div style={{fontSize:10.5,color:"#9e9b93"}}>{r.d}</div></div></div>)}</C>}{tab==="deadlines"&&<C><ST>Deadlines importantes</ST>{[{d:"5 du mois",t:"Provision ONSS mensuelle",p:"Mensuel",c:"#f87171"},{d:"15 du mois",t:"PrÃ©compte professionnel",p:"Mensuel",c:"#f87171"},{d:"Fin trimestre +1 mois",t:"DmfA trimestrielle",p:"Trimestriel",c:"#fb923c"},{d:"28 fevrier",t:"Fiches 281.10 aux travailleurs",p:"Annuel",c:"#f87171"},{d:"1er mars",t:"Belcotax XML au SPF",p:"Annuel",c:"#f87171"},{d:"30 juin",t:"Bilan social BNB",p:"Annuel",c:"#fb923c"},{d:"31 mars",t:"Plan formation depot",p:"Annuel",c:"#60a5fa"}].map((r,i)=><div key={i} style={{display:"flex",justifyContent:"space-between",padding:"8px 0",borderBottom:"1px solid rgba(255,255,255,.03)"}}><div><b style={{color:r.c,fontSize:12}}>{r.d}</b><span style={{color:"#9e9b93",fontSize:11,marginLeft:8}}>{r.t}</span></div><span style={{fontSize:10,padding:"2px 6px",borderRadius:4,background:r.c+"15",color:r.c}}>{r.p}</span></div>)}</C>}{tab==="sanctions"&&<C><ST>Niveaux de sanctions (Code penal social)</ST>{[{n:"Niveau 1",d:"Amende administrative 10-100 EUR",ex:"Infractions mineures"},{n:"Niveau 2",d:"Amende penale 400-4.000 EUR ou admin 200-2.000 EUR",ex:"Reglement travail, registre"},{n:"Niveau 3",d:"Amende penale 800-8.000 EUR ou admin 400-4.000 EUR",ex:"Dimona, DmfA, temps travail"},{n:"Niveau 4",d:"Emprisonnement 6m-3ans ET/OU amende 4.800-48.000 EUR",ex:"Travail au noir, traite humains"}].map((r,i)=><div key={i} style={{padding:"10px 0",borderBottom:"1px solid rgba(255,255,255,.03)"}}><b style={{color:"#c6a34e",fontSize:12}}>{r.n}</b><div style={{fontSize:11,color:"#e8e6e0"}}>{r.d}</div><div style={{fontSize:10,color:"#5e5c56"}}>{r.ex}</div></div>)}</C>}{tab==="veille"&&<C><ST>Veille legale 2026</ST>{[{t:"Transparence salariale EU",d:"Directive 2023/970. Fourchettes dans offres emploi. Rapport ecart salarial."},{t:"Flexi-jobs extension",d:"Nouveaux secteurs autorises depuis 2024. Verification eligibilite."},{t:"Pension 67 ans (2030)",d:"Age legal pension passe a 67 ans en 2030. Anticiper fin carriere."},{t:"IA et emploi",d:"AI Act EU. Obligations si utilisation IA dans recrutement ou evaluation."},{t:"Mobilite verte",d:"Budget mobilite obligatoire si voiture societe. Verdissement flotte 2026+."}].map((r,i)=><div key={i} style={{padding:"10px 0",borderBottom:"1px solid rgba(255,255,255,.03)"}}><b style={{color:"#c6a34e",fontSize:12}}>{r.t}</b><div style={{fontSize:10.5,color:"#9e9b93",marginTop:2}}>{r.d}</div></div>)}</C>}</div>;}

export function BilanSocialBNBMod({s,d}){const ae=(s.emps||[]).filter(e=>e.status==='active'||!e.status);const n=ae.length;const mb=ae.reduce((a,e)=>a+(+e.gross||0),0);const f2=v=>new Intl.NumberFormat('fr-BE',{minimumFractionDigits:2}).format(v);const f0=v=>new Intl.NumberFormat('fr-BE',{minimumFractionDigits:0}).format(v);const tp=ae.filter(e=>!e.regime||(+e.regime)>=100).length;const pt=n-tp;const h=ae.filter(e=>(e.gender||'').toLowerCase()==='f'||e.sexe==='F').length;const etp=ae.reduce((a,e)=>a+(+(e.regime||100)/100),0);const massAn=mb*12;const coutAn=Math.round(massAn*(1+TX_ONSS_E));const formation=ae.reduce((a,e)=>a+(+(e.formationHeures||0)),0);return <div><PH title="Bilan Social BNB" sub={"Annexe comptes annuels â€” Art. 100 C.Soc â€” "+n+" travailleurs â€” TX_ONSS_E"}/><div style={{display:"grid",gridTemplateColumns:"repeat(4,1fr)",gap:12,marginBottom:18}}>{[{l:"ETP moyen",v:etp.toFixed(1),c:"#c6a34e"},{l:"Masse salariale/an",v:f0(massAn)+" EUR",c:"#60a5fa"},{l:"Cout total/an",v:f0(coutAn)+" EUR",c:"#ef4444"},{l:"Heures formation",v:formation+"h",c:"#22c55e"}].map((k,i)=><div key={i} style={{padding:"14px 16px",background:"rgba(198,163,78,.04)",borderRadius:10,border:"1px solid rgba(198,163,78,.08)"}}><div style={{fontSize:10,color:"#5e5c56",textTransform:"uppercase",letterSpacing:".5px"}}>{k.l}</div><div style={{fontSize:18,fontWeight:700,color:k.c,marginTop:4}}>{k.v}</div></div>)}</div><C><ST>Tableau I â€” Etat des personnes occupees</ST>{[{l:"1. Travailleurs inscrits registre (total)",v:n},{l:"1.1 Temps plein",v:tp},{l:"1.2 Temps partiel",v:pt},{l:"2. ETP moyen",v:etp.toFixed(2)},{l:"3. Heures prestees (estimation)",v:f0(etp*1744)},{l:"4. Frais de personnel (rubrique 62)",v:f0(coutAn)+" EUR"},{l:"4.1 RÃ©munÃ©rations directes",v:f0(massAn)+" EUR"},{l:"4.2 Cotisations patronales ONSS",v:f0(massAn*TX_ONSS_E)+" EUR"},{l:"5. Hommes",v:n-h},{l:"6. Femmes",v:h}].map((r,i)=><div key={i} style={{display:"flex",justifyContent:"space-between",padding:"6px 0",borderBottom:"1px solid rgba(255,255,255,.03)"}}><span style={{color:"#9e9b93",fontSize:11}}>{r.l}</span><span style={{color:"#e8e6e0",fontSize:11,fontWeight:600}}>{r.v}</span></div>)}</C><C><ST>Tableau III â€” Formation</ST>{[{l:"Heures formation total",v:formation+"h"},{l:"Heures/ETP",v:etp>0?(formation/etp).toFixed(1)+"h":"â€”"},{l:"Cout estime formation",v:f0(formation*45)+" EUR (45 EUR/h)"},{l:"Objectif legal (Loi Peeters)",v:"5 jours/ETP/an minimum"}].map((r,i)=><div key={i} style={{display:"flex",justifyContent:"space-between",padding:"6px 0",borderBottom:"1px solid rgba(255,255,255,.03)"}}><span style={{color:"#9e9b93",fontSize:11}}>{r.l}</span><span style={{color:"#22c55e",fontSize:11,fontWeight:600}}>{r.v}</span></div>)}</C></div>;}

export function CO2Mod({s,d}){const ae=(s.emps||[]).filter(e=>e.status==='active'||!e.status);const [tab,setTab]=useState("calc");const [co2,setCo2]=useState(120);const [fuel,setFuel]=useState("essence");const f2=v=>new Intl.NumberFormat('fr-BE',{minimumFractionDigits:2}).format(v);const calcCotCO2=(co2v,fuelType)=>{const min=LOIS_BELGES.cotisations?.cotCO2Min||31.34;if(fuelType==='electrique')return min;const coef=fuelType==='diesel'?0.00714:0.00714;const base=fuelType==='diesel'?71.46:83.66;return Math.max(min,Math.round((co2v*coef*base+min)*100)/100);};const empData=ae.filter(e=>e.carFuel&&e.carFuel!=='none').map(e=>{const cotCO2=calcCotCO2(+(e.carCO2||120),e.carFuel);return {...e,cotCO2};});const totalCot=empData.reduce((a,e)=>a+e.cotCO2,0);const testCot=calcCotCO2(co2,fuel);return <div><PH title="Cotisation CO2 Solidarite" sub={"Voitures de societe â€” Min "+f2(LOIS_BELGES.cotisations?.cotCO2Min||31.34)+" EUR/mois â€” LOIS_BELGES"}/><div style={{display:"grid",gridTemplateColumns:"repeat(4,1fr)",gap:12,marginBottom:18}}>{[{l:"Vehicules flotte",v:empData.length,c:"#c6a34e"},{l:"Cotisation totale/mois",v:f2(totalCot)+" EUR",c:"#ef4444"},{l:"Cotisation/an",v:f2(totalCot*12)+" EUR",c:"#a78bfa"},{l:"Test "+co2+"g CO2",v:f2(testCot)+" EUR/mois",c:"#60a5fa"}].map((k,i)=><div key={i} style={{padding:"14px 16px",background:"rgba(198,163,78,.04)",borderRadius:10,border:"1px solid rgba(198,163,78,.08)"}}><div style={{fontSize:10,color:"#5e5c56",textTransform:"uppercase",letterSpacing:".5px"}}>{k.l}</div><div style={{fontSize:18,fontWeight:700,color:k.c,marginTop:4}}>{k.v}</div></div>)}</div><C><ST>Simulateur cotisation CO2</ST><div style={{display:"flex",gap:12,marginBottom:16}}><div><label style={{fontSize:10,color:"#888",display:"block",marginBottom:4}}>CO2 (g/km)</label><input type="number" value={co2} onChange={e=>setCo2(+e.target.value)} style={{padding:"8px 12px",borderRadius:8,border:"1px solid rgba(198,163,78,.2)",background:"rgba(0,0,0,.2)",color:"#e8e6e0",fontSize:13,width:100,fontFamily:"inherit"}}/></div><div><label style={{fontSize:10,color:"#888",display:"block",marginBottom:4}}>Carburant</label><select value={fuel} onChange={e=>setFuel(e.target.value)} style={{padding:"8px 12px",borderRadius:8,border:"1px solid rgba(198,163,78,.2)",background:"rgba(0,0,0,.2)",color:"#e8e6e0",fontSize:13,fontFamily:"inherit"}}><option value="essence">Essence</option><option value="diesel">Diesel</option><option value="electrique">Electrique</option></select></div></div><div style={{padding:16,background:"rgba(198,163,78,.04)",borderRadius:10}}><div style={{fontSize:22,fontWeight:700,color:"#ef4444"}}>{f2(testCot)} EUR/mois</div><div style={{fontSize:12,color:"#9e9b93",marginTop:4}}>{f2(testCot*12)} EUR/an â€” {fuel} {co2}g CO2/km</div></div></C>{empData.length>0&&<C><ST>Flotte actuelle</ST><div style={{overflowX:"auto"}}><table style={{width:"100%",borderCollapse:"collapse",fontSize:11}}><thead><tr style={{borderBottom:"2px solid rgba(198,163,78,.2)"}}>{["Nom","Carburant","CO2","Cotisation/mois"].map(h=><th key={h} style={{padding:"8px 6px",textAlign:"left",color:"#c6a34e",fontWeight:600,fontSize:10}}>{h}</th>)}</tr></thead><tbody>{empData.map((e,i)=><tr key={e.id||i} style={{borderBottom:"1px solid rgba(255,255,255,.03)"}}><td style={{padding:"6px"}}>{(e.first||e.fn||'')+" "+(e.last||e.ln||'')}</td><td style={{padding:"6px"}}>{e.carFuel}</td><td style={{padding:"6px"}}>{e.carCO2||"â€”"} g/km</td><td style={{padding:"6px",fontWeight:600,color:"#ef4444"}}>{f2(e.cotCO2)}</td></tr>)}</tbody></table></div></C>}</div>;}

export function CertPMEMod({s,d}){const ae=(s.emps||[]).filter(e=>e.status==='active'||!e.status);const n=ae.length;const mb=ae.reduce((a,e)=>a+(+e.gross||0),0);const masseAn=mb*12;const ca=+(s.company?.ca||0);const bilanTotal=+(s.company?.bilanTotal||0);const isPME=n<250&&(masseAn<50000000||bilanTotal<43000000);const microEnt=n<10&&ca<700000;const petiteEnt=n<50&&(ca<9000000||bilanTotal<4500000);const rmmmg=RMMMG;const loisRef=LOIS_BELGES.pme||{};const f2=v=>new Intl.NumberFormat('fr-BE',{minimumFractionDigits:0}).format(v);return <div><PH title="Certification PME" sub={"CritÃ¨res Art. 1:24-25 CSA â€” RMMMG: "+f2(rmmmg)+" EUR â€” LOIS_BELGES"}/><div style={{display:"grid",gridTemplateColumns:"repeat(4,1fr)",gap:12,marginBottom:18}}>{[{l:"Effectif",v:n+" pers.",c:"#c6a34e"},{l:"Masse salariale/an",v:f2(masseAn)+" EUR",c:"#60a5fa"},{l:"Statut PME",v:isPME?"âœ… PME":"âŒ Grande",c:isPME?"#22c55e":"#ef4444"},{l:"CatÃ©gorie",v:microEnt?"Micro":petiteEnt?"Petite":"Moyenne",c:"#a78bfa"}].map((k,i)=><div key={i} style={{padding:"14px 16px",background:"rgba(198,163,78,.04)",borderRadius:10,border:"1px solid rgba(198,163,78,.08)"}}><div style={{fontSize:10,color:"#5e5c56",textTransform:"uppercase",letterSpacing:".5px"}}>{k.l}</div><div style={{fontSize:18,fontWeight:700,color:k.c,marginTop:4}}>{k.v}</div></div>)}</div><C><ST>CritÃ¨res CSA (Code des SociÃ©tÃ©s et Associations)</ST>{[{critere:"Micro-entreprise",eff:"< 10",ca:"< 700.000 EUR",bilan:"< 350.000 EUR",ok:microEnt},{critere:"Petite entreprise",eff:"< 50",ca:"< 9.000.000 EUR",bilan:"< 4.500.000 EUR",ok:petiteEnt},{critere:"PME (dÃ©finition EU)",eff:"< 250",ca:"< 50.000.000 EUR",bilan:"< 43.000.000 EUR",ok:isPME}].map((r,i)=><div key={i} style={{display:"flex",alignItems:"center",gap:12,padding:"10px 0",borderBottom:"1px solid rgba(255,255,255,.03)"}}><span style={{fontSize:16}}>{r.ok?"âœ…":"âŒ"}</span><div style={{flex:1}}><b style={{color:r.ok?"#22c55e":"#9e9b93",fontSize:12}}>{r.critere}</b><div style={{fontSize:10,color:"#5e5c56"}}>Effectif {r.eff} | CA {r.ca} | Bilan {r.bilan}</div></div></div>)}<div style={{marginTop:12,padding:10,background:"rgba(198,163,78,.04)",borderRadius:8,fontSize:10,color:"#9e9b93"}}>Votre entreprise: {n} employÃ©s | Masse {f2(masseAn)} EUR/an. CritÃ¨res Art. 1:24-25 CSA + Rec. 2003/361/CE.</div></C></div>;}

export function EcoCommandeMod({s,d}){const ae=(s.emps||[]).filter(e=>e.status==='active'||!e.status);const n=ae.length;const maxEco=LOIS_BELGES.avantages?.ecoMax||250;const f2=v=>new Intl.NumberFormat('fr-BE',{minimumFractionDigits:2}).format(v);const totalEco=n*maxEco;const cotSpec=Math.round(totalEco*TX_ONSS_E*100)/100;return <div><PH title="Eco-chÃ¨ques" sub={"Max "+maxEco+" EUR/an par travailleur â€” CCT nÂ°98 â€” LOIS_BELGES"}/><div style={{display:"grid",gridTemplateColumns:"repeat(4,1fr)",gap:12,marginBottom:18}}>{[{l:"BÃ©nÃ©ficiaires",v:n,c:"#c6a34e"},{l:"Max/an/pers",v:maxEco+" EUR",c:"#22c55e"},{l:"Budget total/an",v:f2(totalEco)+" EUR",c:"#60a5fa"},{l:"ExonÃ©rÃ© ONSS+PP",v:"âœ… Oui",c:"#4ade80"}].map((k,i)=><div key={i} style={{padding:"14px 16px",background:"rgba(198,163,78,.04)",borderRadius:10,border:"1px solid rgba(198,163,78,.08)"}}><div style={{fontSize:10,color:"#5e5c56",textTransform:"uppercase",letterSpacing:".5px"}}>{k.l}</div><div style={{fontSize:18,fontWeight:700,color:k.c,marginTop:4}}>{k.v}</div></div>)}</div><C><ST>Conditions exoneration</ST>{[{t:"Montant max: "+maxEco+" EUR/an",d:"Au-delÃ , soumis cotisations ONSS + prÃ©compte (CCT 98)",ok:true},{t:"Forme Ã©lectronique obligatoire",d:"Depuis 01/01/2024 â€” Monizze, Sodexo, Edenred",ok:true},{t:"CCT sectorielle ou d'entreprise requise",d:"Convention collective fixant montant et conditions d'octroi",ok:true},{t:"ValiditÃ© 24 mois",d:"Utilisables pour achats Ã©cologiques (bio, Ã©co-label, Ã©nergie verte, etc.)",ok:true},{t:"Prorata temps partiel et entrÃ©es/sorties",d:"Calcul au prorata des prestations effectives dans l'annÃ©e",ok:true}].map((r,i)=><div key={i} style={{display:"flex",gap:8,padding:"8px 0",borderBottom:"1px solid rgba(255,255,255,.03)"}}><span style={{fontSize:14}}>{r.ok?"âœ…":"âš "}</span><div><b style={{color:"#e8e6e0",fontSize:12}}>{r.t}</b><div style={{fontSize:10.5,color:"#9e9b93",marginTop:1}}>{r.d}</div></div></div>)}</C></div>;}

export function PeculeSortieMod({s,d}){const ae=(s.emps||[]).filter(e=>e.status==='active'||!e.status);const [tab,setTab]=useState("calc");const [testBrut,setTestBrut]=useState(3500);const [moisPreste,setMoisPreste]=useState(8);const f2=v=>new Intl.NumberFormat('fr-BE',{minimumFractionDigits:2}).format(v);const pvSimple=Math.round(testBrut*PV_SIMPLE*moisPreste/12*100)/100;const pvDouble=calcPeculeDouble(testBrut,{moisPreste,statut:'employe'});const pvTotal=pvSimple+pvDouble;const empData=ae.map(e=>{const brut=+(e.gross||e.monthlySalary||0);const mp=+(e.moisPreste||12);const pvs=Math.round(brut*PV_SIMPLE*mp/12*100)/100;const pvd=calcPeculeDouble(brut,{moisPreste:mp,statut:e.statut||'employe'});return {...e,brut,pvs,pvd,pvt:pvs+pvd};});return <div><PH title="Pecule de Sortie" sub={"Pecule vacances depart â€” PV_SIMPLE "+Math.round(PV_SIMPLE*10000)/100+"% + PV_DOUBLE via calcPeculeDouble()"}/><div style={{display:"grid",gridTemplateColumns:"repeat(4,1fr)",gap:12,marginBottom:18}}>{[{l:"Travailleurs",v:ae.length,c:"#c6a34e"},{l:"Test: PV simple",v:f2(pvSimple)+" EUR",c:"#60a5fa"},{l:"Test: PV double",v:f2(pvDouble)+" EUR",c:"#a78bfa"},{l:"Test: Total sortie",v:f2(pvTotal)+" EUR",c:"#22c55e"}].map((k,i)=><div key={i} style={{padding:"14px 16px",background:"rgba(198,163,78,.04)",borderRadius:10,border:"1px solid rgba(198,163,78,.08)"}}><div style={{fontSize:10,color:"#5e5c56",textTransform:"uppercase",letterSpacing:".5px"}}>{k.l}</div><div style={{fontSize:18,fontWeight:700,color:k.c,marginTop:4}}>{k.v}</div></div>)}</div><div style={{display:"flex",gap:6,marginBottom:16}}>{[{v:"calc",l:"Par employe"},{v:"sim",l:"Simulateur"}].map(t=><button key={t.v} onClick={()=>setTab(t.v)} style={{padding:"8px 16px",borderRadius:8,border:"none",cursor:"pointer",fontSize:12,fontWeight:tab===t.v?600:400,fontFamily:"inherit",background:tab===t.v?"rgba(198,163,78,.15)":"rgba(255,255,255,.03)",color:tab===t.v?"#c6a34e":"#9e9b93"}}>{t.l}</button>)}</div>{tab==="calc"&&<C><ST>Pecule sortie par travailleur</ST><div style={{overflowX:"auto"}}><table style={{width:"100%",borderCollapse:"collapse",fontSize:11}}><thead><tr style={{borderBottom:"2px solid rgba(198,163,78,.2)"}}>{["Nom","Brut","Mois prestes","PV Simple","PV Double","Total"].map(h=><th key={h} style={{padding:"8px 6px",textAlign:"left",color:"#c6a34e",fontWeight:600,fontSize:10}}>{h}</th>)}</tr></thead><tbody>{empData.map((e,i)=><tr key={e.id||i} style={{borderBottom:"1px solid rgba(255,255,255,.03)"}}><td style={{padding:"6px"}}>{(e.first||e.fn||'')+" "+(e.last||e.ln||'')}</td><td style={{padding:"6px"}}>{f2(e.brut)}</td><td style={{padding:"6px"}}>{e.moisPreste||12}</td><td style={{padding:"6px",color:"#60a5fa"}}>{f2(e.pvs)}</td><td style={{padding:"6px",color:"#a78bfa"}}>{f2(e.pvd)}</td><td style={{padding:"6px",fontWeight:700,color:"#22c55e"}}>{f2(e.pvt)}</td></tr>)}</tbody></table></div></C>}{tab==="sim"&&<C><ST>Simulateur pecule sortie</ST><div style={{display:"flex",gap:12,marginBottom:16}}><div><label style={{fontSize:10,color:"#888",display:"block",marginBottom:4}}>Brut mensuel</label><input type="number" value={testBrut} onChange={e=>setTestBrut(+e.target.value)} style={{padding:"8px 12px",borderRadius:8,border:"1px solid rgba(198,163,78,.2)",background:"rgba(0,0,0,.2)",color:"#e8e6e0",fontSize:13,width:150,fontFamily:"inherit"}}/></div><div><label style={{fontSize:10,color:"#888",display:"block",marginBottom:4}}>Mois prestes dans annee</label><input type="number" value={moisPreste} min={1} max={12} onChange={e=>setMoisPreste(+e.target.value)} style={{padding:"8px 12px",borderRadius:8,border:"1px solid rgba(198,163,78,.2)",background:"rgba(0,0,0,.2)",color:"#e8e6e0",fontSize:13,width:80,fontFamily:"inherit"}}/></div></div>{[{l:"Pecule simple ("+Math.round(PV_SIMPLE*10000)/100+"% x "+moisPreste+"/12)",v:pvSimple,c:"#60a5fa"},{l:"Pecule double (calcPeculeDouble reel)",v:pvDouble,c:"#a78bfa"},{l:"TOTAL PECULE SORTIE",v:pvTotal,c:"#22c55e"}].map((r,i)=><div key={i} style={{display:"flex",justifyContent:"space-between",padding:i===2?"12px 0":"8px 0",borderTop:i===2?"2px solid rgba(198,163,78,.2)":"none",borderBottom:i<2?"1px solid rgba(255,255,255,.03)":"none"}}><span style={{color:i===2?"#c6a34e":"#9e9b93",fontSize:i===2?14:12,fontWeight:i===2?700:400}}>{r.l}</span><span style={{color:r.c,fontSize:i===2?16:13,fontWeight:700}}>{f2(r.v)} EUR</span></div>)}</C>}</div>;}

export function IndexAutoMod({s,d}){const ae=(s.emps||[]).filter(e=>e.status==='active'||!e.status);const mb=ae.reduce((a,e)=>a+(+e.gross||0),0);const [tab,setTab]=useState("index");const [pctIndex,setPctIndex]=useState(2);const impact=Math.round(mb*pctIndex/100*100)/100;const impactAn=impact*12;const impactOnss=Math.round(impact*TX_ONSS_E*100)/100;const totalImpact=impact+impactOnss;const rmmmg=LOIS_BELGES.remuneration.RMMMG.montant;const flexi=LOIS_BELGES.cotisations.flexiJob;return <div><PH title="Indexation Automatique" sub={"Indice-sante lisse â€” RMMMG "+rmmmg+" EUR â€” Impact masse salariale"}/><div style={{display:"grid",gridTemplateColumns:"repeat(4,1fr)",gap:12,marginBottom:18}}>{[{l:"Masse brute actuelle",v:new Intl.NumberFormat('fr-BE',{minimumFractionDigits:0}).format(mb)+" EUR",c:"#c6a34e"},{l:"Impact indexation/mois",v:"+"+new Intl.NumberFormat('fr-BE',{minimumFractionDigits:2}).format(totalImpact)+" EUR",c:"#ef4444"},{l:"Impact/an (brut+ONSS)",v:"+"+new Intl.NumberFormat('fr-BE',{minimumFractionDigits:0}).format(totalImpact*12)+" EUR",c:"#a78bfa"},{l:"RMMMG 2026",v:new Intl.NumberFormat('fr-BE',{minimumFractionDigits:2}).format(rmmmg)+" EUR",c:"#60a5fa"}].map((k,i)=><div key={i} style={{padding:"14px 16px",background:"rgba(198,163,78,.04)",borderRadius:10,border:"1px solid rgba(198,163,78,.08)"}}><div style={{fontSize:10,color:"#5e5c56",textTransform:"uppercase",letterSpacing:".5px"}}>{k.l}</div><div style={{fontSize:18,fontWeight:700,color:k.c,marginTop:4}}>{k.v}</div></div>)}</div><C><ST>Simulateur indexation</ST><div style={{display:"flex",gap:12,marginBottom:16,alignItems:"flex-end"}}><div><label style={{fontSize:10,color:"#888",display:"block",marginBottom:4}}>Pourcentage indexation</label><input type="number" value={pctIndex} step="0.1" onChange={e=>setPctIndex(+e.target.value)} style={{padding:"8px 12px",borderRadius:8,border:"1px solid rgba(198,163,78,.2)",background:"rgba(0,0,0,.2)",color:"#e8e6e0",fontSize:13,width:120,fontFamily:"inherit"}}/></div><div style={{fontSize:11,color:"#9e9b93"}}>Indice pivot actuel: {LOIS_BELGES.cotisations.plafondONSS?new Intl.NumberFormat('fr-BE').format(LOIS_BELGES.cotisations.plafondONSS):'N/A'} EUR</div></div><div style={{overflowX:"auto"}}><table style={{width:"100%",borderCollapse:"collapse",fontSize:11}}><thead><tr style={{borderBottom:"2px solid rgba(198,163,78,.2)"}}>{["Nom","Brut actuel","Apres indexation +"+pctIndex+"%","Difference","Cout emp. delta"].map(h=><th key={h} style={{padding:"8px 6px",textAlign:"left",color:"#c6a34e",fontWeight:600,fontSize:10}}>{h}</th>)}</tr></thead><tbody>{ae.map((e,i)=>{const brut=+(e.gross||0);const apres=Math.round(brut*(1+pctIndex/100)*100)/100;const diff=apres-brut;const coutD=Math.round(diff*(1+TX_ONSS_E)*100)/100;return <tr key={e.id||i} style={{borderBottom:"1px solid rgba(255,255,255,.03)"}}><td style={{padding:"6px"}}>{(e.first||e.fn||'')+" "+(e.last||e.ln||'')}</td><td style={{padding:"6px"}}>{new Intl.NumberFormat('fr-BE',{minimumFractionDigits:2}).format(brut)}</td><td style={{padding:"6px",fontWeight:600}}>{new Intl.NumberFormat('fr-BE',{minimumFractionDigits:2}).format(apres)}</td><td style={{padding:"6px",color:"#22c55e"}}>+{new Intl.NumberFormat('fr-BE',{minimumFractionDigits:2}).format(diff)}</td><td style={{padding:"6px",color:"#ef4444"}}>+{new Intl.NumberFormat('fr-BE',{minimumFractionDigits:2}).format(coutD)}</td></tr>;})}</tbody><tfoot><tr style={{borderTop:"2px solid rgba(198,163,78,.2)",fontWeight:700}}><td style={{padding:"8px 6px"}}>TOTAL</td><td style={{padding:"8px 6px"}}>{new Intl.NumberFormat('fr-BE',{minimumFractionDigits:2}).format(mb)}</td><td style={{padding:"8px 6px"}}>{new Intl.NumberFormat('fr-BE',{minimumFractionDigits:2}).format(mb*(1+pctIndex/100))}</td><td style={{padding:"8px 6px",color:"#22c55e"}}>+{new Intl.NumberFormat('fr-BE',{minimumFractionDigits:2}).format(impact)}</td><td style={{padding:"8px 6px",color:"#ef4444"}}>+{new Intl.NumberFormat('fr-BE',{minimumFractionDigits:2}).format(totalImpact)}</td></tr></tfoot></table></div></C></div>;}

export function CafeteriaMod({s,d}){const ae=s.emps||[];const [tab,setTab]=useState("plan");return <div><PH title="Plan Cafeteria" sub="RÃ©munÃ©ration flexible - Le travailleur choisit ses avantages"/><div style={{display:"flex",gap:6,marginBottom:16}}>{[{v:"plan",l:"Principe"},{v:"options",l:"Options disponibles"},{v:"fiscal",l:"Impact fiscal"},{v:"legal",l:"Cadre legal"}].map(t=><button key={t.v} onClick={()=>setTab(t.v)} style={{padding:"8px 16px",borderRadius:8,border:"none",cursor:"pointer",fontSize:12,fontWeight:tab===t.v?600:400,fontFamily:"inherit",background:tab===t.v?"rgba(198,163,78,.15)":"rgba(255,255,255,.03)",color:tab===t.v?"#c6a34e":"#9e9b93"}}>{t.l}</button>)}</div>{tab==="plan"&&<C><ST>Principe du plan cafeteria</ST>{[{t:"Budget",d:"Conversion partielle du package salarial en budget flexible. Le travailleur choisit."},{t:"Neutralite cout",d:"Cout employeur identique. Redistribution entre cash et avantages."},{t:"Frequence",d:"Choix annuel ou semestriel. Engagement pour la periode."},{t:"Communication",d:"Portail en ligne. Simulation avant choix. Transparence totale."}].map((r,i)=><div key={i} style={{padding:"10px 0",borderBottom:"1px solid rgba(255,255,255,.03)"}}><b style={{color:"#c6a34e",fontSize:12}}>{r.t}</b><div style={{fontSize:10.5,color:"#9e9b93",marginTop:2}}>{r.d}</div></div>)}</C>}{tab==="options"&&<C><ST>Options cafeteria</ST>{[{o:"Jours conge supplementaires",v:"Conversion salaire en jours off",c:"#4ade80"},{o:"Velo leasing",v:"Velo electrique via employeur",c:"#60a5fa"},{o:"Assurance hospitalisation famille",v:"Extension couverture famille",c:"#a78bfa"},{o:"Epargne pension (3e pilier)",v:"Versement complementaire",c:"#c6a34e"},{o:"Multimedia",v:"Smartphone, tablette, PC",c:"#fb923c"},{o:"Warrants",v:"Pas ONSS, ATN 18%",c:"#f87171"},{o:"Mobilite",v:"Budget mobilite, parking, abonnement",c:"#60a5fa"},{o:"Formation",v:"Formations personnelles choisies",c:"#4ade80"}].map((r,i)=><div key={i} style={{display:"flex",justifyContent:"space-between",padding:"8px 0",borderBottom:"1px solid rgba(255,255,255,.03)"}}><b style={{color:r.c,fontSize:12}}>{r.o}</b><span style={{fontSize:11,color:"#9e9b93"}}>{r.v}</span></div>)}</C>}{tab==="fiscal"&&<C><ST>Impact fiscal par option</ST>{[{o:"Cash (salaire)",on:""+((LOIS_BELGES.onss.travailleur*100).toFixed(2))+"%+PP",empl:(TX_ONSS_E*100).toFixed(2)+"%",net:"~55%"},{o:"Cheques-repas",on:"Exonere",empl:"Exonere",net:"~85%"},{o:"Warrants",on:"Exonere",empl:"Exonere",net:"~82%"},{o:"Velo leasing",on:"Exonere",empl:"Exonere",net:"100%"},{o:"Jours conge",on:"N/A",empl:"N/A",net:"Valeur temps"},{o:"Ass. hospitalisation",on:"Exonere*",empl:"Deductible",net:"~95%"}].map((r,i)=><div key={i} style={{display:"grid",gridTemplateColumns:"2fr 1fr 1fr 1fr",gap:8,padding:"6px 0",borderBottom:"1px solid rgba(255,255,255,.03)",fontSize:11}}><span style={{color:"#e8e6e0"}}>{r.o}</span><span style={{color:"#f87171"}}>{r.on}</span><span style={{color:"#fb923c"}}>{r.empl}</span><span style={{color:"#4ade80"}}>{r.net}</span></div>)}</C>}{tab==="legal"&&<C><ST>Cadre legal</ST>{[{t:"Pas de loi specifique",d:"Plan cafeteria base sur droit commun + ruling SDA. Pas de cadre legal unique."},{t:"Ruling fiscal",d:"Demande ruling preventif au SDA pour securite juridique."},{t:"ONSS",d:"Chaque option evaluee selon regles ONSS propres (exoneration ou non)."},{t:"Non-discrimination",d:"Plan offert a tous les travailleurs ou a une categorie objective."},{t:"Irreductibilite salaire",d:"Le salaire de base brut ne peut pas diminuer sous le bareme sectoriel."}].map((r,i)=><div key={i} style={{padding:"10px 0",borderBottom:"1px solid rgba(255,255,255,.03)"}}><b style={{color:"#c6a34e",fontSize:12}}>{r.t}</b><div style={{fontSize:10.5,color:"#9e9b93",marginTop:2}}>{r.d}</div></div>)}</C>}</div>;}

export function BudgetMobiliteMod({s,d}){const ae=s.emps||[];const n=ae.length;const [tab,setTab]=useState("piliers");const mb=ae.reduce((a,e)=>a+(+e.gross||0),0);return <div><PH title="Budget Mobilite" sub="3 piliers - Alternative voiture societe - Loi 17/03/2019"/><div style={{display:"grid",gridTemplateColumns:"repeat(4,1fr)",gap:10,marginBottom:18}}>{[{l:"Travailleurs eligibles",v:n,c:"#c6a34e"},{l:"Budget moyen",v:fmt(n>0?mb/n*0.2:0)+"/mois",c:"#60a5fa"},{l:"Pilier 1 (voiture eco)",v:"TCO voiture",c:"#4ade80"},{l:"Pilier 3 (cash)",v:"ONSS "+(((TX_ONSS_E+TX_ONSS_W)*100).toFixed(2))+"%",c:"#f87171"}].map((k,i)=><div key={i} style={{padding:"12px 14px",background:"rgba(198,163,78,.04)",borderRadius:10,border:"1px solid rgba(198,163,78,.08)"}}><div style={{fontSize:9,color:"#5e5c56",textTransform:"uppercase",letterSpacing:".5px"}}>{k.l}</div><div style={{fontSize:17,fontWeight:700,color:k.c,marginTop:4}}>{k.v}</div></div>)}</div><div style={{display:"flex",gap:6,marginBottom:16}}>{[{v:"piliers",l:"3 Piliers"},{v:"eligible",l:"Eligibilite"},{v:"fiscal",l:"Regime fiscal"},{v:"legal",l:"Base legale"}].map(t=><button key={t.v} onClick={()=>setTab(t.v)} style={{padding:"8px 16px",borderRadius:8,border:"none",cursor:"pointer",fontSize:12,fontWeight:tab===t.v?600:400,fontFamily:"inherit",background:tab===t.v?"rgba(198,163,78,.15)":"rgba(255,255,255,.03)",color:tab===t.v?"#c6a34e":"#9e9b93"}}>{t.l}</button>)}</div>{tab==="piliers"&&<C><ST>Les 3 piliers du budget mobilite</ST>{[{p:"Pilier 1 - Voiture ecologique",d:"Voiture avec emission CO2 max 95g/km (2026). Electrique ou hybride. Budget = TCO voiture rendue.",items:["Voiture electrique/hybride","Leasing velo electrique","Budget plafonnÃƒÂ© au TCO"],c:"#4ade80"},{p:"Pilier 2 - Mobilite durable",d:"Transports en commun, velo, trottinette, covoiturage, loyer pres du travail (max 10km).",items:["Abonnement STIB/TEC/De Lijn/SNCB","Velo (achat ou leasing)","Trottinette electrique","Loyer/interet hypothecaire (< 10km)","Parking P+R","Covoiturage"],c:"#60a5fa"},{p:"Pilier 3 - Solde cash",d:"Solde non utilise verse en cash. Cotisation spÃ©ciale "+(((TX_ONSS_E+TX_ONSS_W)*100).toFixed(2))+"% (ONSS). Pas de PP.",items:["Cash net = solde x (1-"+(((TX_ONSS_E+TX_ONSS_W)*100).toFixed(2))+"%)","Pas de prÃ©compte professionnel","Pas cotisation travailleur"],c:"#fb923c"}].map((r,i)=><div key={i} style={{padding:"14px 0",borderBottom:"1px solid rgba(255,255,255,.05)"}}><b style={{color:r.c,fontSize:13}}>{r.p}</b><div style={{fontSize:10.5,color:"#9e9b93",marginTop:4}}>{r.d}</div><div style={{display:"flex",flexWrap:"wrap",gap:4,marginTop:6}}>{r.items.map((it,j)=><span key={j} style={{fontSize:10,padding:"2px 8px",borderRadius:4,background:r.c+"15",color:r.c}}>{it}</span>)}</div></div>)}</C>}{tab==="eligible"&&<C><ST>Conditions eligibilite</ST>{[{t:"Voiture societe actuelle",d:"Le travailleur doit disposer ou etre eligible a une voiture de societe."},{t:"Anciennete avantage",d:"Min 12 mois voiture societe dans les 36 derniers mois chez employeur actuel."},{t:"Initiative employeur",d:"L employeur decide d offrir le budget mobilite. Pas une obligation."},{t:"Choix travailleur",d:"Le travailleur choisit librement de convertir ou non sa voiture."},{t:"Budget = TCO",d:"Budget egal au coÃ»t total de possession (Total Cost of Ownership) de la voiture rendue."}].map((r,i)=><div key={i} style={{padding:"8px 0",borderBottom:"1px solid rgba(255,255,255,.03)"}}><b style={{color:"#c6a34e",fontSize:12}}>{r.t}</b><div style={{fontSize:10.5,color:"#9e9b93",marginTop:2}}>{r.d}</div></div>)}</C>}{tab==="fiscal"&&<C><ST>Regime fiscal</ST>{[{e:"Pilier 1",empl:"Cotisation CO2 solidaire",trav:"ATN CO2 (reduit si electrique)",c:"#4ade80"},{e:"Pilier 2",empl:"Exonere ONSS et impot",trav:"Exonere ONSS et impot",c:"#60a5fa"},{e:"Pilier 3",empl:"Cotisation spÃ©ciale "+(((TX_ONSS_E+TX_ONSS_W)*100).toFixed(2))+"%",trav:"Pas PP, pas ONSS personnel",c:"#fb923c"}].map((r,i)=><div key={i} style={{padding:"10px 0",borderBottom:"1px solid rgba(255,255,255,.03)"}}><b style={{color:r.c,fontSize:12}}>{r.e}</b><div style={{display:"flex",gap:20,marginTop:4}}><span style={{fontSize:10,color:"#9e9b93"}}>Employeur: {r.empl}</span><span style={{fontSize:10,color:"#9e9b93"}}>Travailleur: {r.trav}</span></div></div>)}</C>}{tab==="legal"&&<C><ST>Base legale</ST>{[{t:"Loi 17/03/2019",d:"Instauration budget mobilite. Remplacement Loi cash for car."},{t:"AR 21/03/2019",d:"Modalites execution. Calcul TCO, piliers, reporting."},{t:"Verdissement 2026",d:"Pilier 1: max 95g CO2/km. Objectif 0g en 2026 pour deductibilite totale."},{t:"Fiche 281",d:"Budget mobilite a declarer sur fiche fiscale annuelle."}].map((r,i)=><div key={i} style={{padding:"10px 0",borderBottom:"1px solid rgba(255,255,255,.03)"}}><b style={{color:"#c6a34e",fontSize:12}}>{r.t}</b><div style={{fontSize:10.5,color:"#9e9b93",marginTop:2}}>{r.d}</div></div>)}</C>}</div>;}

export function PlanFormationMod({s,d}){const ae=(s.emps||[]).filter(e=>e.status==='active'||!e.status);const n=ae.length;const [tab,setTab]=useState("plan");const f2=v=>new Intl.NumberFormat('fr-BE',{minimumFractionDigits:2}).format(v);const etp=ae.reduce((a,e)=>a+(+(e.regime||100)/100),0);const objJours=LOIS_BELGES.formation?.joursParETP||5;const totalHeures=ae.reduce((a,e)=>a+(+(e.formationHeures||0)),0);const objectif=Math.round(etp*objJours*7.6);const pct=objectif>0?Math.round(totalHeures/objectif*100):0;return <div><PH title="Plan de Formation" sub={"Obligation legale Loi Peeters â€” "+objJours+" jours/ETP/an â€” LOIS_BELGES"}/><div style={{display:"grid",gridTemplateColumns:"repeat(4,1fr)",gap:12,marginBottom:18}}>{[{l:"ETP",v:etp.toFixed(1),c:"#c6a34e"},{l:"Heures realisees",v:totalHeures+"h",c:"#60a5fa"},{l:"Objectif annuel",v:objectif+"h",c:"#a78bfa"},{l:"Completion",v:pct+"%",c:pct>=100?"#22c55e":pct>=50?"#eab308":"#ef4444"}].map((k,i)=><div key={i} style={{padding:"14px 16px",background:"rgba(198,163,78,.04)",borderRadius:10,border:"1px solid rgba(198,163,78,.08)"}}><div style={{fontSize:10,color:"#5e5c56",textTransform:"uppercase",letterSpacing:".5px"}}>{k.l}</div><div style={{fontSize:18,fontWeight:700,color:k.c,marginTop:4}}>{k.v}</div></div>)}</div><div style={{height:12,background:"rgba(255,255,255,.05)",borderRadius:6,overflow:"hidden",marginBottom:18}}><div style={{height:"100%",width:Math.min(100,pct)+"%",background:pct>=100?"#22c55e":pct>=50?"#eab308":"#ef4444",borderRadius:6,transition:"width .3s"}}/></div><C><ST>Suivi par travailleur</ST><div style={{overflowX:"auto"}}><table style={{width:"100%",borderCollapse:"collapse",fontSize:11}}><thead><tr style={{borderBottom:"2px solid rgba(198,163,78,.2)"}}>{["Nom","Regime","Heures suivies","Objectif","Status"].map(h=><th key={h} style={{padding:"8px 6px",textAlign:"left",color:"#c6a34e",fontWeight:600,fontSize:10}}>{h}</th>)}</tr></thead><tbody>{ae.map((e,i)=>{const hrs=+(e.formationHeures||0);const obj=Math.round((+(e.regime||100)/100)*objJours*7.6);const ok=hrs>=obj;return <tr key={e.id||i} style={{borderBottom:"1px solid rgba(255,255,255,.03)"}}><td style={{padding:"6px"}}>{(e.first||e.fn||'')+" "+(e.last||e.ln||'')}</td><td style={{padding:"6px"}}>{e.regime||100}%</td><td style={{padding:"6px",fontWeight:600}}>{hrs}h</td><td style={{padding:"6px"}}>{obj}h</td><td style={{padding:"6px"}}><span style={{fontSize:9,padding:"2px 8px",borderRadius:4,background:ok?"rgba(74,222,128,.1)":"rgba(239,68,68,.1)",color:ok?"#4ade80":"#ef4444"}}>{ok?"âœ… Atteint":"âš  En cours"}</span></td></tr>;})}</tbody></table></div></C></div>;}

export function NoteFraisMod({s,d}){const ae=(s.emps||[]).filter(e=>e.status==='active'||!e.status);const [tab,setTab]=useState("forfaits");const forfBureau=LOIS_BELGES.avantages.fraisPropres.bureau;const forfKm=LOIS_BELGES.avantages.fraisPropres.km;const forfRepas=LOIS_BELGES.avantages.fraisPropres.repas;const forfTele=LOIS_BELGES.avantages.fraisPropres.teletravail;return <div><PH title="Notes de Frais" sub={"Frais propres employeur â€” Forfaits ONSS "+new Date().getFullYear()+" via LOIS_BELGES"}/><div style={{display:"flex",gap:6,marginBottom:16}}>{[{v:"forfaits",l:"Forfaits ONSS"},{v:"calc",l:"Calcul par employe"},{v:"regles",l:"Regles"}].map(t=><button key={t.v} onClick={()=>setTab(t.v)} style={{padding:"8px 16px",borderRadius:8,border:"none",cursor:"pointer",fontSize:12,fontWeight:tab===t.v?600:400,fontFamily:"inherit",background:tab===t.v?"rgba(198,163,78,.15)":"rgba(255,255,255,.03)",color:tab===t.v?"#c6a34e":"#9e9b93"}}>{t.l}</button>)}</div>{tab==="forfaits"&&<C><ST>Forfaits acceptes par ONSS (source: LOIS_BELGES)</ST>{[{l:"Frais de bureau",v:forfBureau+" EUR/mois",d:"Fournitures, petit materiel, telecommunications",base:"AR 2003 + Instructions ONSS"},{l:"Indemnite kilometrique",v:forfKm+" EUR/km",d:"Deplacement vehicule personnel â€” Bareme fonctionnaires federaux",base:"AM publie annuellement"},{l:"Frais de repas",v:forfRepas+" EUR/jour",d:"Repas lors de deplacement professionnel (sans nuitee)",base:"Circulaire ONSS"},{l:"Teletravail",v:forfTele+" EUR/mois",d:"Indemnite forfaitaire teletravail structurel",base:"CCT n.85 + ONSS"}].map((r,i)=><div key={i} style={{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 0",borderBottom:"1px solid rgba(255,255,255,.03)"}}><div><b style={{color:"#e8e6e0",fontSize:13}}>{r.l}</b><div style={{fontSize:10,color:"#5e5c56",marginTop:2}}>{r.d}</div><div style={{fontSize:9,color:"#c6a34e",marginTop:2}}>{r.base}</div></div><div style={{fontSize:16,fontWeight:700,color:"#22c55e",whiteSpace:"nowrap"}}>{r.v}</div></div>)}</C>}{tab==="calc"&&<C><ST>Frais par travailleur</ST><div style={{overflowX:"auto"}}><table style={{width:"100%",borderCollapse:"collapse",fontSize:11}}><thead><tr style={{borderBottom:"2px solid rgba(198,163,78,.2)"}}>{["Nom","Bureau/mois","Km estim.","Teletravail","Total/mois"].map(h=><th key={h} style={{padding:"8px 6px",textAlign:"left",color:"#c6a34e",fontWeight:600,fontSize:10}}>{h}</th>)}</tr></thead><tbody>{ae.map((e,i)=>{const bur=+(e.fraisBureau||forfBureau);const km=+(e.kmMensuel||0)*forfKm;const tel=e.teletravail?forfTele:0;const tot=bur+km+tel;return <tr key={e.id||i} style={{borderBottom:"1px solid rgba(255,255,255,.03)"}}><td style={{padding:"6px"}}>{(e.first||e.fn||'')+" "+(e.last||e.ln||'')}</td><td style={{padding:"6px"}}>{new Intl.NumberFormat('fr-BE',{minimumFractionDigits:2}).format(bur)}</td><td style={{padding:"6px"}}>{new Intl.NumberFormat('fr-BE',{minimumFractionDigits:2}).format(km)}</td><td style={{padding:"6px"}}>{tel>0?new Intl.NumberFormat('fr-BE',{minimumFractionDigits:2}).format(tel):"â€”"}</td><td style={{padding:"6px",fontWeight:600,color:"#22c55e"}}>{new Intl.NumberFormat('fr-BE',{minimumFractionDigits:2}).format(tot)}</td></tr>;})}</tbody></table></div></C>}{tab==="regles"&&<C><ST>Regles ONSS frais propres</ST>{[{t:"Forfait = pas de justificatif individuel requis",d:"Mais l'employeur doit pouvoir demontrer la realite des frais"},{t:"Cumul possible bureau + teletravail",d:"Si conditions differentes (2 indemnites distinctes)"},{t:"Non soumis ONSS ni PP",d:"A condition de respecter les plafonds et la realite des frais"},{t:"Depassement = remuneration",d:"Tout montant au-dela du forfait est soumis cotisations + impots"},{t:"Documentation obligatoire",d:"Politique de frais ecrite + approbation prealable pour frais exceptionnels"}].map((r,i)=><div key={i} style={{padding:"8px 0",borderBottom:"1px solid rgba(255,255,255,.03)"}}><b style={{color:"#e8e6e0",fontSize:12}}>{r.t}</b><div style={{fontSize:10.5,color:"#9e9b93",marginTop:2}}>{r.d}</div></div>)}</C>}</div>;}

export function TransportDomTravMod({s,d}){const ae=(s.emps||[]).filter(e=>e.status==='active'||!e.status);const [tab,setTab]=useState("inter");const forfKm=LOIS_BELGES.avantages.fraisPropres.km;const [kmDist,setKmDist]=useState(25);const [mode,setMode]=useState("voiture");const calcInter=(km,m)=>{if(m==='train'){const abonRail=[0,0,42,56,70,84,98,112,126,140,154,168,182,196,210,224,238,252,266,280,294,308,322,336,350,364,378];return Math.round((abonRail[Math.min(Math.floor(km/5),26)]||km*2.5)*0.8*100)/100;}if(m==='bus')return Math.round(km*1.2*0.8*100)/100;if(m==='velo')return Math.round(km*2*0.27*20*100)/100;return Math.round(km*2*forfKm*20*100)/100;};const intervention=calcInter(kmDist,mode);return <div><PH title="Transport Domicile-Travail" sub={"Intervention employeur â€” Forfait km: "+forfKm+" EUR (LOIS_BELGES)"}/><div style={{display:"grid",gridTemplateColumns:"repeat(4,1fr)",gap:12,marginBottom:18}}>{[{l:"Travailleurs",v:ae.length,c:"#c6a34e"},{l:"Distance test",v:kmDist+" km",c:"#60a5fa"},{l:"Intervention/mois",v:new Intl.NumberFormat('fr-BE',{minimumFractionDigits:2}).format(intervention)+" EUR",c:"#22c55e"},{l:"Forfait km",v:forfKm+" EUR",c:"#a78bfa"}].map((k,i)=><div key={i} style={{padding:"14px 16px",background:"rgba(198,163,78,.04)",borderRadius:10,border:"1px solid rgba(198,163,78,.08)"}}><div style={{fontSize:10,color:"#5e5c56",textTransform:"uppercase",letterSpacing:".5px"}}>{k.l}</div><div style={{fontSize:18,fontWeight:700,color:k.c,marginTop:4}}>{k.v}</div></div>)}</div><C><ST>Simulateur intervention</ST><div style={{display:"flex",gap:12,marginBottom:16,flexWrap:"wrap"}}><div><label style={{fontSize:10,color:"#888",display:"block",marginBottom:4}}>Distance (km aller)</label><input type="number" value={kmDist} onChange={e=>setKmDist(+e.target.value)} style={{padding:"8px 12px",borderRadius:8,border:"1px solid rgba(198,163,78,.2)",background:"rgba(0,0,0,.2)",color:"#e8e6e0",fontSize:13,width:120,fontFamily:"inherit"}}/></div><div><label style={{fontSize:10,color:"#888",display:"block",marginBottom:4}}>Mode transport</label><select value={mode} onChange={e=>setMode(e.target.value)} style={{padding:"8px 12px",borderRadius:8,border:"1px solid rgba(198,163,78,.2)",background:"rgba(0,0,0,.2)",color:"#e8e6e0",fontSize:13,fontFamily:"inherit"}}><option value="voiture">Voiture</option><option value="train">Train (SNCB)</option><option value="bus">Bus/Tram</option><option value="velo">Velo (0,27 EUR/km)</option></select></div></div>{[{m:"voiture",l:"Voiture",v:calcInter(kmDist,"voiture"),exo:"Non exonere (sauf convention)"},{m:"train",l:"Train SNCB",v:calcInter(kmDist,"train"),exo:"80% rembourse, exonere"},{m:"bus",l:"Bus/Tram",v:calcInter(kmDist,"bus"),exo:"80% rembourse, exonere"},{m:"velo",l:"Velo",v:calcInter(kmDist,"velo"),exo:"0,27 EUR/km exonere PP+ONSS"}].map((r,i)=><div key={i} style={{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"10px 0",borderBottom:"1px solid rgba(255,255,255,.03)",background:r.m===mode?"rgba(198,163,78,.04)":"transparent"}}><div><b style={{color:r.m===mode?"#c6a34e":"#e8e6e0",fontSize:12}}>{r.l}</b><div style={{fontSize:10,color:"#5e5c56"}}>{r.exo}</div></div><div style={{fontSize:14,fontWeight:700,color:"#22c55e"}}>{new Intl.NumberFormat('fr-BE',{minimumFractionDigits:2}).format(r.v)} EUR/mois</div></div>)}</C></div>;}

export function CSSMod({s,d}){const ae=(s.emps||[]).filter(e=>e.status==='active'||!e.status);const [tab,setTab]=useState("calc");const [sit,setSit]=useState("isole");const [testBrut,setTestBrut]=useState(3500);const empData=ae.map(e=>{const brut=+(e.gross||e.monthlySalary||0);const csss=calcCSSS(brut,e.situation||sit);return {...e,brut,csss};});const totalCSS=empData.reduce((a,e)=>a+e.csss,0);const testCSS=calcCSSS(testBrut,sit);return <div><PH title="Cotisation Speciale Securite Sociale" sub="CSSS - Retenue mensuelle selon revenus menage"/><div style={{display:"grid",gridTemplateColumns:"repeat(4,1fr)",gap:12,marginBottom:18}}>{[{l:"Travailleurs",v:ae.length,c:"#c6a34e"},{l:"CSSS Total/mois",v:new Intl.NumberFormat('fr-BE',{style:'currency',currency:'EUR'}).format(totalCSS),c:"#ef4444"},{l:"CSSS moyen",v:ae.length?new Intl.NumberFormat('fr-BE',{style:'currency',currency:'EUR'}).format(totalCSS/ae.length):'â€”',c:"#60a5fa"},{l:"Base legale",v:"AR 1994",c:"#a78bfa"}].map((k,i)=><div key={i} style={{padding:"14px 16px",background:"rgba(198,163,78,.04)",borderRadius:10,border:"1px solid rgba(198,163,78,.08)"}}><div style={{fontSize:10,color:"#5e5c56",textTransform:"uppercase",letterSpacing:".5px"}}>{k.l}</div><div style={{fontSize:18,fontWeight:700,color:k.c,marginTop:4}}>{k.v}</div></div>)}</div><div style={{display:"flex",gap:6,marginBottom:16}}>{[{v:"calc",l:"Calcul par employe"},{v:"sim",l:"Simulateur"},{v:"baremes",l:"Baremes"}].map(t=><button key={t.v} onClick={()=>setTab(t.v)} style={{padding:"8px 16px",borderRadius:8,border:"none",cursor:"pointer",fontSize:12,fontWeight:tab===t.v?600:400,fontFamily:"inherit",background:tab===t.v?"rgba(198,163,78,.15)":"rgba(255,255,255,.03)",color:tab===t.v?"#c6a34e":"#9e9b93"}}>{t.l}</button>)}</div>{tab==="calc"&&<C><ST>CSSS par travailleur (calcCSSS reel)</ST><div style={{overflowX:"auto"}}><table style={{width:"100%",borderCollapse:"collapse",fontSize:11}}><thead><tr style={{borderBottom:"2px solid rgba(198,163,78,.2)"}}>{["Nom","Brut","Situation","CSSS/mois","CSSS/an"].map(h=><th key={h} style={{padding:"8px 6px",textAlign:"left",color:"#c6a34e",fontWeight:600,fontSize:10}}>{h}</th>)}</tr></thead><tbody>{empData.map((e,i)=><tr key={e.id||i} style={{borderBottom:"1px solid rgba(255,255,255,.03)"}}><td style={{padding:"6px"}}>{(e.first||e.fn||'')+" "+(e.last||e.ln||'')}</td><td style={{padding:"6px"}}>{new Intl.NumberFormat('fr-BE',{minimumFractionDigits:2}).format(e.brut)} EUR</td><td style={{padding:"6px"}}>{e.situation||sit}</td><td style={{padding:"6px",fontWeight:600,color:"#ef4444"}}>{new Intl.NumberFormat('fr-BE',{minimumFractionDigits:2}).format(e.csss)} EUR</td><td style={{padding:"6px"}}>{new Intl.NumberFormat('fr-BE',{minimumFractionDigits:2}).format(e.csss*12)} EUR</td></tr>)}</tbody><tfoot><tr style={{borderTop:"2px solid rgba(198,163,78,.2)",fontWeight:700}}><td style={{padding:"8px 6px"}} colSpan={2}>TOTAL ({ae.length} emps)</td><td></td><td style={{padding:"8px 6px",color:"#ef4444"}}>{new Intl.NumberFormat('fr-BE',{minimumFractionDigits:2}).format(totalCSS)} EUR</td><td style={{padding:"8px 6px"}}>{new Intl.NumberFormat('fr-BE',{minimumFractionDigits:2}).format(totalCSS*12)} EUR</td></tr></tfoot></table></div></C>}{tab==="sim"&&<C><ST>Simulateur CSSS</ST><div style={{display:"flex",gap:12,marginBottom:16,flexWrap:"wrap"}}><div><label style={{fontSize:10,color:"#888",display:"block",marginBottom:4}}>Brut mensuel</label><input type="number" value={testBrut} onChange={e=>setTestBrut(+e.target.value)} style={{padding:"8px 12px",borderRadius:8,border:"1px solid rgba(198,163,78,.2)",background:"rgba(0,0,0,.2)",color:"#e8e6e0",fontSize:13,width:160,fontFamily:"inherit"}} /></div><div><label style={{fontSize:10,color:"#888",display:"block",marginBottom:4}}>Situation</label><select value={sit} onChange={e=>setSit(e.target.value)} style={{padding:"8px 12px",borderRadius:8,border:"1px solid rgba(198,163,78,.2)",background:"rgba(0,0,0,.2)",color:"#e8e6e0",fontSize:13,fontFamily:"inherit"}}><option value="isole">Isole</option><option value="marie_1r">Marie 1 revenu</option><option value="marie_2r">Marie 2 revenus</option></select></div></div><div style={{padding:16,background:"rgba(198,163,78,.04)",borderRadius:10,border:"1px solid rgba(198,163,78,.1)"}}><div style={{fontSize:20,fontWeight:700,color:"#ef4444"}}>{new Intl.NumberFormat('fr-BE',{minimumFractionDigits:2}).format(testCSS)} EUR/mois</div><div style={{fontSize:12,color:"#9e9b93",marginTop:4}}>{new Intl.NumberFormat('fr-BE',{minimumFractionDigits:2}).format(testCSS*12)} EUR/an</div></div></C>}{tab==="baremes"&&<C><ST>Baremes CSSS 2026</ST>{[{tranche:"0 - 1.945,38",isole:"0",couple:"0"},{tranche:"1.945,39 - 2.190,18",isole:"0 a 18,60",couple:"0 a 18,60"},{tranche:"2.190,19 - 6.038,82",isole:"60,94",couple:"60,94"},{tranche:"> 6.038,82",isole:"60,94 + 1% > plafond",couple:"60,94 + 1% > plafond"}].map((r,i)=><div key={i} style={{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:12,padding:"8px 0",borderBottom:"1px solid rgba(255,255,255,.03)"}}><span style={{color:"#e8e6e0",fontSize:12}}>{r.tranche}</span><span style={{color:"#60a5fa",fontSize:12}}>{r.isole}</span><span style={{color:"#a78bfa",fontSize:12}}>{r.couple}</span></div>)}</C>}</div>;}

export function BonusEmploiMod({s,d}){const ae=(s.emps||[]).filter(e=>e.status==='active'||!e.status);const [tab,setTab]=useState("calc");const [testBrut,setTestBrut]=useState(2500);const empData=ae.map(e=>{const brut=+(e.gross||e.monthlySalary||0);const bonus=calcBonusEmploi(brut);return {...e,brut,bonus};});const totalBonus=empData.reduce((a,e)=>a+e.bonus,0);const testBonus=calcBonusEmploi(testBrut);return <div><PH title="Bonus a Emploi" sub="Reduction PP bas salaires â€” calcBonusEmploi() reel â€” Augmentation net sans cout"/><div style={{display:"grid",gridTemplateColumns:"repeat(4,1fr)",gap:12,marginBottom:18}}>{[{l:"Travailleurs",v:ae.length,c:"#c6a34e"},{l:"Beneficiaires",v:empData.filter(e=>e.bonus>0).length,c:"#22c55e"},{l:"Total bonus/mois",v:new Intl.NumberFormat('fr-BE',{minimumFractionDigits:2}).format(totalBonus)+" EUR",c:"#60a5fa"},{l:"Economie/an",v:new Intl.NumberFormat('fr-BE',{minimumFractionDigits:2}).format(totalBonus*12)+" EUR",c:"#a78bfa"}].map((k,i)=><div key={i} style={{padding:"14px 16px",background:"rgba(198,163,78,.04)",borderRadius:10,border:"1px solid rgba(198,163,78,.08)"}}><div style={{fontSize:10,color:"#5e5c56",textTransform:"uppercase",letterSpacing:".5px"}}>{k.l}</div><div style={{fontSize:18,fontWeight:700,color:k.c,marginTop:4}}>{k.v}</div></div>)}</div><div style={{display:"flex",gap:6,marginBottom:16}}>{[{v:"calc",l:"Par employe"},{v:"sim",l:"Simulateur"}].map(t=><button key={t.v} onClick={()=>setTab(t.v)} style={{padding:"8px 16px",borderRadius:8,border:"none",cursor:"pointer",fontSize:12,fontWeight:tab===t.v?600:400,fontFamily:"inherit",background:tab===t.v?"rgba(198,163,78,.15)":"rgba(255,255,255,.03)",color:tab===t.v?"#c6a34e":"#9e9b93"}}>{t.l}</button>)}</div>{tab==="calc"&&<C><ST>Bonus emploi par travailleur</ST><div style={{overflowX:"auto"}}><table style={{width:"100%",borderCollapse:"collapse",fontSize:11}}><thead><tr style={{borderBottom:"2px solid rgba(198,163,78,.2)"}}>{["Nom","Brut","Bonus/mois","Bonus/an","Eligible"].map(h=><th key={h} style={{padding:"8px 6px",textAlign:"left",color:"#c6a34e",fontWeight:600,fontSize:10}}>{h}</th>)}</tr></thead><tbody>{empData.map((e,i)=><tr key={e.id||i} style={{borderBottom:"1px solid rgba(255,255,255,.03)"}}><td style={{padding:"6px"}}>{(e.first||e.fn||'')+" "+(e.last||e.ln||'')}</td><td style={{padding:"6px"}}>{new Intl.NumberFormat('fr-BE',{minimumFractionDigits:2}).format(e.brut)}</td><td style={{padding:"6px",fontWeight:600,color:e.bonus>0?"#22c55e":"#5e5c56"}}>{new Intl.NumberFormat('fr-BE',{minimumFractionDigits:2}).format(e.bonus)}</td><td style={{padding:"6px"}}>{new Intl.NumberFormat('fr-BE',{minimumFractionDigits:2}).format(e.bonus*12)}</td><td style={{padding:"6px"}}><span style={{fontSize:10,padding:"2px 8px",borderRadius:4,background:e.bonus>0?"rgba(74,222,128,.1)":"rgba(255,255,255,.03)",color:e.bonus>0?"#4ade80":"#5e5c56"}}>{e.bonus>0?"Oui":"Non"}</span></td></tr>)}</tbody></table></div></C>}{tab==="sim"&&<C><ST>Simulateur bonus emploi</ST><div style={{marginBottom:16}}><label style={{fontSize:10,color:"#888",display:"block",marginBottom:4}}>Brut mensuel</label><input type="number" value={testBrut} onChange={e=>setTestBrut(+e.target.value)} style={{padding:"8px 12px",borderRadius:8,border:"1px solid rgba(198,163,78,.2)",background:"rgba(0,0,0,.2)",color:"#e8e6e0",fontSize:13,width:180,fontFamily:"inherit"}}/></div><div style={{padding:16,background:"rgba(198,163,78,.04)",borderRadius:10}}><div style={{fontSize:22,fontWeight:700,color:testBonus>0?"#22c55e":"#5e5c56"}}>{testBonus>0?"+":""}{new Intl.NumberFormat('fr-BE',{minimumFractionDigits:2}).format(testBonus)} EUR/mois</div><div style={{fontSize:12,color:"#9e9b93",marginTop:4}}>{testBonus>0?"Ce travailleur beneficie du bonus emploi: "+new Intl.NumberFormat('fr-BE',{minimumFractionDigits:2}).format(testBonus*12)+" EUR/an de net supplementaire":"Pas de bonus emploi â€” brut trop eleve (plafond ~2.900 EUR imposable)"}</div></div></C>}</div>;}

export function TotalRewardMod({s,d}){const ae=s.emps||[];const mb=ae.reduce((a,e)=>a+(+e.gross||0),0);const n=ae.length;const netT=mb*NET_FACTOR;const [tab,setTab]=useState("total");return <div><PH title="Total Reward Statement" sub="RÃ©munÃ©ration totale - Tous avantages valorises"/><div style={{display:"grid",gridTemplateColumns:"repeat(4,1fr)",gap:10,marginBottom:18}}>{[{l:"Brut mensuel",v:fmt(mb),c:"#c6a34e"},{l:"Net mensuel",v:fmt(netT),c:"#4ade80"},{l:"Avantages ext.",v:fmt(n*250),c:"#a78bfa"},{l:"Total reward/mois",v:fmt(mb+n*250),c:"#c6a34e"}].map((k,i)=><div key={i} style={{padding:"12px 14px",background:"rgba(198,163,78,.04)",borderRadius:10,border:"1px solid rgba(198,163,78,.08)"}}><div style={{fontSize:9,color:"#5e5c56",textTransform:"uppercase",letterSpacing:".5px"}}>{k.l}</div><div style={{fontSize:17,fontWeight:700,color:k.c,marginTop:4}}>{k.v}</div></div>)}</div><div style={{display:"flex",gap:6,marginBottom:16}}>{[{v:"total",l:"Vue totale"},{v:"details",l:"Par composante"},{v:"perso",l:"Par travailleur"},{v:"comm",l:"Communication"}].map(t=><button key={t.v} onClick={()=>setTab(t.v)} style={{padding:"8px 16px",borderRadius:8,border:"none",cursor:"pointer",fontSize:12,fontWeight:tab===t.v?600:400,fontFamily:"inherit",background:tab===t.v?"rgba(198,163,78,.15)":"rgba(255,255,255,.03)",color:tab===t.v?"#c6a34e":"#9e9b93"}}>{t.l}</button>)}</div>{tab==="total"&&<C><ST>Composantes remuneration totale</ST>{[{c:"Salaire brut",v:mb,p:50,col:"#c6a34e"},{c:"ONSS patronal",v:mb*TX_ONSS_E,p:12,col:"#f87171"},{c:"Cheques-repas",v:n*CR_PAT*22,p:5,col:"#4ade80"},{c:"Eco-cheques",v:n*250/12,p:2,col:"#60a5fa"},{c:"Assurance groupe",v:mb*0.03,p:3,col:"#a78bfa"},{c:"Assurance hospitalisation",v:n*50,p:2,col:"#f87171"},{c:"Formation",v:mb*0.02,p:2,col:"#fb923c"},{c:"Voiture societe",v:n*500,p:10,col:"#c6a34e"}].map((r,i)=><div key={i} style={{padding:"6px 0",borderBottom:"1px solid rgba(255,255,255,.03)"}}><div style={{display:"flex",justifyContent:"space-between",marginBottom:3}}><span style={{color:"#e8e6e0",fontSize:12}}>{r.c}</span><span style={{color:r.col,fontWeight:600}}>{fmt(r.v)}/mois</span></div><div style={{height:6,background:"rgba(198,163,78,.06)",borderRadius:3,overflow:"hidden"}}><div style={{height:"100%",width:r.p+"%",background:r.col,borderRadius:3}}/></div></div>)}</C>}{tab==="details"&&<C><ST>Avantages extra-legaux detailles</ST>{[{a:"Cheques-repas",v:"8 EUR/j (6,91 empl. + 1,09 trav.)",tax:"Exonere ONSS et impot"},{a:"Eco-cheques",v:"250 EUR/an max",tax:"Exonere ONSS et impot"},{a:"Assurance groupe",v:"3-5% salaire",tax:"PP reduit a 60/65 ans"},{a:"Assurance hospitalisation",v:"~600 EUR/an/famille",tax:"ATN mais souvent exonere"},{a:"Voiture societe",v:"Variable selon CO2",tax:"ATN CO2 + cotis. solidaire empl."},{a:"GSM/laptop",v:"Forfait ATN",tax:"ATN 36 EUR/mois GSM + 72/an PC"},{a:"Bonus CCT 90",v:"Max 4.020 EUR/an",tax:"ONSS 33% mais pas PP"},{a:"Warrants",v:"Variable",tax:"Pas ONSS. ATN 18% forfaitaire."}].map((r,i)=><div key={i} style={{display:"flex",justifyContent:"space-between",padding:"8px 0",borderBottom:"1px solid rgba(255,255,255,.03)"}}><div><b style={{color:"#c6a34e",fontSize:12}}>{r.a}</b><div style={{fontSize:10,color:"#5e5c56"}}>{r.tax}</div></div><span style={{color:"#e8e6e0",fontSize:11}}>{r.v}</span></div>)}</C>}{tab==="perso"&&<C><ST>Total Reward par travailleur</ST><Tbl cols={[{k:"n",l:"Nom",b:1,r:r=>(r.fn||"")+" "+(r.ln||"")},{k:"b",l:"Brut",a:"right",r:r=>fmt(+r.gross||0)},{k:"e",l:"Extras",a:"right",r:r=><span style={{color:"#a78bfa"}}>{fmt(250)}</span>},{k:"t",l:"Total reward",a:"right",r:r=><span style={{color:"#c6a34e",fontWeight:700}}>{fmt((+r.gross||0)+250)}</span>}]} data={ae}/></C>}{tab==="comm"&&<C><ST>Communication Total Reward</ST>{[{t:"Fiche Total Reward",d:"Document individuel annuel montrant la valeur totale du package. Recommande pour retention."},{t:"Transparence",d:"Directive EU 2023/970: fourchettes salariales dans offres emploi des 2026."},{t:"Benchmark",d:"Comparer package total avec marche. Attractivite et competitivite."},{t:"Personalisation",d:"Plan cafeteria: laisser le travailleur choisir ses avantages dans un budget."}].map((r,i)=><div key={i} style={{padding:"10px 0",borderBottom:"1px solid rgba(255,255,255,.03)"}}><b style={{color:"#c6a34e",fontSize:12}}>{r.t}</b><div style={{fontSize:10.5,color:"#9e9b93",marginTop:2}}>{r.d}</div></div>)}</C>}</div>;}

export function ATNMod({s,d}){const ae=(s.emps||[]).filter(e=>e.status==='active'||!e.status);const [tab,setTab]=useState("sim");const [co2,setCo2]=useState(120);const [catVal,setCatVal]=useState(35000);const [fuel,setFuel]=useState("essence");const [age,setAge]=useState(2);const f2=v=>new Intl.NumberFormat('fr-BE',{minimumFractionDigits:2}).format(v);const calcATN=(co2v,cat,fl,ag)=>{if(fl==='electrique')return Math.max(1600,cat*(6/7)*0.04)/12;const ref=fl==='diesel'?84:102;const pct=Math.max(4,Math.min(18,5.5+(co2v-ref)*0.1));const base=cat*(6/7)*(pct/100);return Math.max(1600,Math.round(base*(1-ag*0.06)))/12;};const atnTest=Math.round(calcATN(co2,catVal,fuel,age)*100)/100;const cotCO2Test=fuel==='electrique'?(LOIS_BELGES.cotisations?.cotCO2Min||31.34):Math.max(LOIS_BELGES.cotisations?.cotCO2Min||31.34,co2*(fuel==='diesel'?0.51:0.60));const empData=ae.filter(e=>e.carFuel&&e.carFuel!=='none').map(e=>{const atn=calcATN(+(e.carCO2||120),+(e.carCatVal||30000),e.carFuel,+(e.carAge||1));return {...e,atn:Math.round(atn*100)/100};});return <div><PH title="Avantages de Toute Nature (ATN)" sub="Calcul ATN voiture Art. 36 CIR92 â€” GSM, PC, logement â€” LOIS_BELGES"/><div style={{display:"grid",gridTemplateColumns:"repeat(4,1fr)",gap:12,marginBottom:18}}>{[{l:"ATN voiture test",v:f2(atnTest)+" EUR/mois",c:"#c6a34e"},{l:"Cotis. CO2 solid.",v:f2(cotCO2Test)+" EUR/mois",c:"#ef4444"},{l:"Vehicules flotte",v:empData.length,c:"#60a5fa"},{l:"ATN GSM",v:f2(LOIS_BELGES.avantages?.atnGSM||3)+" EUR/mois",c:"#a78bfa"}].map((k,i)=><div key={i} style={{padding:"14px 16px",background:"rgba(198,163,78,.04)",borderRadius:10,border:"1px solid rgba(198,163,78,.08)"}}><div style={{fontSize:10,color:"#5e5c56",textTransform:"uppercase",letterSpacing:".5px"}}>{k.l}</div><div style={{fontSize:18,fontWeight:700,color:k.c,marginTop:4}}>{k.v}</div></div>)}</div><div style={{display:"flex",gap:6,marginBottom:16}}>{[{v:"sim",l:"Simulateur voiture"},{v:"forfaits",l:"Forfaits ATN"},{v:"flotte",l:"Flotte actuelle"}].map(t=><button key={t.v} onClick={()=>setTab(t.v)} style={{padding:"8px 16px",borderRadius:8,border:"none",cursor:"pointer",fontSize:12,fontWeight:tab===t.v?600:400,fontFamily:"inherit",background:tab===t.v?"rgba(198,163,78,.15)":"rgba(255,255,255,.03)",color:tab===t.v?"#c6a34e":"#9e9b93"}}>{t.l}</button>)}</div>{tab==="sim"&&<C><ST>Simulateur ATN voiture</ST><div style={{display:"flex",gap:12,marginBottom:16,flexWrap:"wrap"}}><div><label style={{fontSize:10,color:"#888",display:"block",marginBottom:4}}>CO2 (g/km)</label><input type="number" value={co2} onChange={e=>setCo2(+e.target.value)} style={{padding:"8px 12px",borderRadius:8,border:"1px solid rgba(198,163,78,.2)",background:"rgba(0,0,0,.2)",color:"#e8e6e0",fontSize:13,width:100,fontFamily:"inherit"}}/></div><div><label style={{fontSize:10,color:"#888",display:"block",marginBottom:4}}>Val. catalogue EUR</label><input type="number" value={catVal} onChange={e=>setCatVal(+e.target.value)} style={{padding:"8px 12px",borderRadius:8,border:"1px solid rgba(198,163,78,.2)",background:"rgba(0,0,0,.2)",color:"#e8e6e0",fontSize:13,width:140,fontFamily:"inherit"}}/></div><div><label style={{fontSize:10,color:"#888",display:"block",marginBottom:4}}>Carburant</label><select value={fuel} onChange={e=>setFuel(e.target.value)} style={{padding:"8px 12px",borderRadius:8,border:"1px solid rgba(198,163,78,.2)",background:"rgba(0,0,0,.2)",color:"#e8e6e0",fontSize:13,fontFamily:"inherit"}}><option value="essence">Essence</option><option value="diesel">Diesel</option><option value="electrique">Electrique</option></select></div><div><label style={{fontSize:10,color:"#888",display:"block",marginBottom:4}}>Age vehicule</label><input type="number" value={age} min={0} max={10} onChange={e=>setAge(+e.target.value)} style={{padding:"8px 12px",borderRadius:8,border:"1px solid rgba(198,163,78,.2)",background:"rgba(0,0,0,.2)",color:"#e8e6e0",fontSize:13,width:80,fontFamily:"inherit"}}/></div></div><div style={{padding:16,background:"rgba(198,163,78,.04)",borderRadius:10}}><div style={{fontSize:22,fontWeight:700,color:"#c6a34e"}}>{f2(atnTest)} EUR/mois</div><div style={{fontSize:12,color:"#9e9b93",marginTop:4}}>{f2(atnTest*12)} EUR/an â€” ATN imposable pour le travailleur</div></div></C>}{tab==="forfaits"&&<C><ST>Forfaits ATN 2026 (AR 18/12/2024)</ST>{[{l:"GSM/smartphone",v:f2(LOIS_BELGES.avantages?.atnGSM||3)+" EUR/mois",d:"36 EUR/an"},{l:"PC/laptop",v:f2(LOIS_BELGES.avantages?.atnPC||6)+" EUR/mois",d:"72 EUR/an"},{l:"Internet",v:f2(LOIS_BELGES.avantages?.atnInternet||5)+" EUR/mois",d:"60 EUR/an"},{l:"Chauffage",v:"177,50 EUR/mois",d:"2.130 EUR/an"},{l:"Electricite",v:"88,33 EUR/mois",d:"1.060 EUR/an"},{l:"Voiture electrique",v:"Min 4%, catalogue x 6/7",d:"Minimum ATN: 1.600 EUR/an"}].map((r,i)=><div key={i} style={{display:"flex",justifyContent:"space-between",padding:"10px 0",borderBottom:"1px solid rgba(255,255,255,.03)"}}><div><b style={{color:"#e8e6e0",fontSize:12}}>{r.l}</b><div style={{fontSize:10,color:"#5e5c56"}}>{r.d}</div></div><div style={{fontSize:14,fontWeight:700,color:"#c6a34e"}}>{r.v}</div></div>)}</C>}{tab==="flotte"&&empData.length>0&&<C><ST>ATN flotte actuelle</ST><div style={{overflowX:"auto"}}><table style={{width:"100%",borderCollapse:"collapse",fontSize:11}}><thead><tr style={{borderBottom:"2px solid rgba(198,163,78,.2)"}}>{["Nom","Carburant","CO2","ATN/mois","ATN/an"].map(h=><th key={h} style={{padding:"8px 6px",textAlign:"left",color:"#c6a34e",fontWeight:600,fontSize:10}}>{h}</th>)}</tr></thead><tbody>{empData.map((e,i)=><tr key={e.id||i} style={{borderBottom:"1px solid rgba(255,255,255,.03)"}}><td style={{padding:"6px"}}>{(e.first||e.fn||'')+" "+(e.last||e.ln||'')}</td><td style={{padding:"6px"}}>{e.carFuel}</td><td style={{padding:"6px"}}>{e.carCO2||"â€”"}</td><td style={{padding:"6px",fontWeight:600,color:"#c6a34e"}}>{f2(e.atn)}</td><td style={{padding:"6px"}}>{f2(e.atn*12)}</td></tr>)}</tbody></table></div></C>}</div>;}

export function ChomTempMod({s,d}){const ae=(s.emps||[]).filter(e=>e.status==='active'||!e.status);const n=ae.length;const [tab,setTab]=useState("eco");const [type,setType]=useState("eco");const f2=v=>new Intl.NumberFormat('fr-BE',{minimumFractionDigits:2}).format(v);const plafondONEM=LOIS_BELGES.chomage?.plafondJour||74.17;const allocJour=Math.round(plafondONEM*0.65*100)/100;const complement=LOIS_BELGES.chomage?.complementMin||2;const empData=ae.map(e=>{const brut=+(e.gross||0);const brutJ=brut/20;const alloc=Math.min(brutJ*0.65,allocJour);return {...e,brut,brutJ,alloc,complement,totalJ:alloc+complement};});return <div><PH title="Chomage Temporaire" sub={"Economique + Force majeure â€” Plafond ONEM "+f2(plafondONEM)+" EUR/j â€” LOIS_BELGES"}/><div style={{display:"grid",gridTemplateColumns:"repeat(4,1fr)",gap:12,marginBottom:18}}>{[{l:"Travailleurs",v:n,c:"#c6a34e"},{l:"Alloc ONEM/jour",v:f2(allocJour)+" EUR",c:"#60a5fa"},{l:"Complement/jour",v:f2(complement)+" EUR",c:"#22c55e"},{l:"RMMMG ref",v:f2(RMMMG)+" EUR",c:"#a78bfa"}].map((k,i)=><div key={i} style={{padding:"14px 16px",background:"rgba(198,163,78,.04)",borderRadius:10,border:"1px solid rgba(198,163,78,.08)"}}><div style={{fontSize:10,color:"#5e5c56",textTransform:"uppercase",letterSpacing:".5px"}}>{k.l}</div><div style={{fontSize:18,fontWeight:700,color:k.c,marginTop:4}}>{k.v}</div></div>)}</div><div style={{display:"flex",gap:6,marginBottom:16}}>{[{v:"eco",l:"Economique"},{v:"fm",l:"Force majeure"},{v:"sim",l:"Simulateur"},{v:"rules",l:"Regles"}].map(t=><button key={t.v} onClick={()=>setTab(t.v)} style={{padding:"8px 16px",borderRadius:8,border:"none",cursor:"pointer",fontSize:12,fontWeight:tab===t.v?600:400,fontFamily:"inherit",background:tab===t.v?"rgba(198,163,78,.15)":"rgba(255,255,255,.03)",color:tab===t.v?"#c6a34e":"#9e9b93"}}>{t.l}</button>)}</div>{tab==="eco"&&<C><ST>Chomage economique â€” Impact par travailleur</ST><div style={{overflowX:"auto"}}><table style={{width:"100%",borderCollapse:"collapse",fontSize:11}}><thead><tr style={{borderBottom:"2px solid rgba(198,163,78,.2)"}}>{["Nom","Brut mensuel","Brut/jour","Alloc ONEM/j","Complement","Total/jour"].map(h=><th key={h} style={{padding:"8px 6px",textAlign:"left",color:"#c6a34e",fontWeight:600,fontSize:10}}>{h}</th>)}</tr></thead><tbody>{empData.map((e,i)=><tr key={e.id||i} style={{borderBottom:"1px solid rgba(255,255,255,.03)"}}><td style={{padding:"6px"}}>{(e.first||e.fn||'')+" "+(e.last||e.ln||'')}</td><td style={{padding:"6px"}}>{f2(e.brut)}</td><td style={{padding:"6px"}}>{f2(e.brutJ)}</td><td style={{padding:"6px",color:"#60a5fa"}}>{f2(e.alloc)}</td><td style={{padding:"6px",color:"#22c55e"}}>{f2(e.complement)}</td><td style={{padding:"6px",fontWeight:700}}>{f2(e.totalJ)}</td></tr>)}</tbody></table></div></C>}{tab==="rules"&&<C><ST>Regles chomage temporaire</ST>{[{t:"Economique employes: max 16 sem/an",d:"Art. 77/1 AR 25/11/1991. Notification C106A au SPE."},{t:"Economique ouvriers: max 4 sem consecutives",d:"Art. 51 Loi 03/07/1978. Formulaire C3.2."},{t:"Force majeure: illimite (duree evenement)",d:"Art. 26 Loi 03/07/1978. Notification immediat ONEM."},{t:"Complement employeur obligatoire",d:"CCT 172 â€” Min "+f2(complement)+" EUR/jour chomage temporaire."},{t:"Pas de preavis pendant CT economique",d:"Protection contre licenciement pendant la periode."}].map((r,i)=><div key={i} style={{padding:"8px 0",borderBottom:"1px solid rgba(255,255,255,.03)"}}><b style={{color:"#e8e6e0",fontSize:12}}>{r.t}</b><div style={{fontSize:10.5,color:"#9e9b93",marginTop:2}}>{r.d}</div></div>)}</C>}</div>;}

export function CongeEducMod({s,d}){const ae=(s.emps||[]).filter(e=>e.status==='active'||!e.status);const [tab,setTab]=useState("droit");const f2=v=>new Intl.NumberFormat('fr-BE',{minimumFractionDigits:2}).format(v);const plafond=LOIS_BELGES.congeEducation?.plafondBrut||3364;const maxHeures=LOIS_BELGES.congeEducation?.maxHeures||180;return <div><PH title="Conge-Education Paye" sub={"Formation reconnue â€” Plafond "+f2(plafond)+" EUR brut/mois â€” Max "+maxHeures+"h/an â€” LOIS_BELGES"}/><div style={{display:"grid",gridTemplateColumns:"repeat(4,1fr)",gap:12,marginBottom:18}}>{[{l:"Travailleurs",v:ae.length,c:"#c6a34e"},{l:"Plafond brut remb.",v:f2(plafond)+" EUR",c:"#60a5fa"},{l:"Max heures/an",v:maxHeures+"h",c:"#22c55e"},{l:"RMMMG ref",v:f2(RMMMG)+" EUR",c:"#a78bfa"}].map((k,i)=><div key={i} style={{padding:"14px 16px",background:"rgba(198,163,78,.04)",borderRadius:10,border:"1px solid rgba(198,163,78,.08)"}}><div style={{fontSize:10,color:"#5e5c56",textTransform:"uppercase",letterSpacing:".5px"}}>{k.l}</div><div style={{fontSize:18,fontWeight:700,color:k.c,marginTop:4}}>{k.v}</div></div>)}</div><C><ST>Droit au conge-education</ST>{[{t:"Formations reconnues",d:"Bachelor, master, promotion sociale, formations sectorielles agreees. Liste regionale."},{t:"Heures: "+maxHeures+"h/an max (TP)",d:"Prorata pour temps partiel â‰¥ 4/5. Pas de droit en dessous."},{t:"RÃ©munÃ©ration: plafonnee a "+f2(plafond)+" EUR brut/mois",d:"L'employeur paie le salaire, rembourse par la region (Bruxelles/Wallonie/Flandre)."},{t:"Protection contre licenciement",d:"Du depot demande jusqu'a 3 mois apres la fin du conge."},{t:"Demande: 1 mois avant (ecrit)",d:"Attestation inscription + horaire formation. Employeur ne peut refuser (max 5% effectif absent)."},{t:"Remboursement: forfaitaire par la region",d:"Bruxelles: via Actiris. Flandre: via VDAB. Wallonie: via Forem."}].map((r,i)=><div key={i} style={{padding:"8px 0",borderBottom:"1px solid rgba(255,255,255,.03)"}}><b style={{color:"#e8e6e0",fontSize:12}}>{r.t}</b><div style={{fontSize:10.5,color:"#9e9b93",marginTop:2}}>{r.d}</div></div>)}</C></div>;}

export function OutplacementMod({s,d}){const ae=(s.emps||[]).filter(e=>e.status==='active'||!e.status);const n=ae.length;const f2=v=>new Intl.NumberFormat('fr-BE',{minimumFractionDigits:2}).format(v);return <div><PH title="Outplacement" sub={"Reclassement professionnel â€” CCT 51/82 + Loi 26/12/2013 â€” RMMMG "+f2(RMMMG)+" EUR"}/><div style={{display:"grid",gridTemplateColumns:"repeat(4,1fr)",gap:12,marginBottom:18}}>{[{l:"Travailleurs",v:n,c:"#c6a34e"},{l:"Cout moyen",v:"1.800 â€” 5.500 EUR",c:"#ef4444"},{l:"Duree",v:"30-60h / 12 mois",c:"#60a5fa"},{l:"RMMMG",v:f2(RMMMG),c:"#a78bfa"}].map((k,i)=><div key={i} style={{padding:"14px 16px",background:"rgba(198,163,78,.04)",borderRadius:10,border:"1px solid rgba(198,163,78,.08)"}}><div style={{fontSize:10,color:"#5e5c56",textTransform:"uppercase",letterSpacing:".5px"}}>{k.l}</div><div style={{fontSize:18,fontWeight:700,color:k.c,marginTop:4}}>{k.v}</div></div>)}</div><C><ST>Regime general (preavis â‰¥ 30 semaines)</ST>{[{t:"Obligatoire si preavis â‰¥ 30 semaines",d:"Loi 26/12/2013. S'applique a tous les travailleurs licencies."},{t:"60 heures sur 12 mois",d:"Reparties en phases: bilan, orientation, recherche active."},{t:"4 semaines de preavis converties",d:"Deductibles du preavis. Valeur 1/12 remuneration annuelle."},{t:"Bureau agree",d:"Bureau d'outplacement agree par la region (Actiris/VDAB/Forem)."}].map((r,i)=><div key={i} style={{padding:"8px 0",borderBottom:"1px solid rgba(255,255,255,.03)"}}><b style={{color:"#e8e6e0",fontSize:12}}>{r.t}</b><div style={{fontSize:10.5,color:"#9e9b93",marginTop:2}}>{r.d}</div></div>)}</C><C><ST>Regime 45+ (CCT 82)</ST>{[{t:"45 ans+ au moment du licenciement",d:"Offre dans les 15 jours du licenciement. Acceptation dans les 30 jours."},{t:"60 heures minimum",d:"Cout: min 1.800 EUR, max 5.500 EUR (CCT 82)."},{t:"Sanction si refus employeur",d:"Amende: 1.800 EUR cotisation spÃ©ciale ONEM."},{t:"Sanction si refus travailleur",d:"Perte eventuelle allocation chomage (4-52 semaines)."}].map((r,i)=><div key={i} style={{padding:"8px 0",borderBottom:"1px solid rgba(255,255,255,.03)"}}><b style={{color:"#e8e6e0",fontSize:12}}>{r.t}</b><div style={{fontSize:10.5,color:"#9e9b93",marginTop:2}}>{r.d}</div></div>)}</C></div>;}

export function OnboardingMod({s,d}){const ae=s.emps||[];const [tab,setTab]=useState("checklist");const f2=v=>new Intl.NumberFormat('fr-BE',{minimumFractionDigits:2}).format(v);const newEmps=ae.filter(e=>{const d2=e.startDate;if(!d2)return false;const diff=(new Date()-new Date(d2))/(1000*60*60*24);return diff<=90;});return <div><PH title="Onboarding" sub={"Nouveaux travailleurs â€” RMMMG "+f2(RMMMG)+" EUR â€” Dimona + contrat + medecine"}/><div style={{display:"grid",gridTemplateColumns:"repeat(4,1fr)",gap:12,marginBottom:18}}>{[{l:"Nouveaux (<90j)",v:newEmps.length,c:"#c6a34e"},{l:"Total actifs",v:ae.filter(e=>e.status==='active'||!e.status).length,c:"#22c55e"},{l:"RMMMG 2026",v:f2(RMMMG)+" EUR",c:"#60a5fa"},{l:"Dimona obligatoire",v:"J-1 min",c:"#ef4444"}].map((k,i)=><div key={i} style={{padding:"14px 16px",background:"rgba(198,163,78,.04)",borderRadius:10,border:"1px solid rgba(198,163,78,.08)"}}><div style={{fontSize:10,color:"#5e5c56",textTransform:"uppercase",letterSpacing:".5px"}}>{k.l}</div><div style={{fontSize:18,fontWeight:700,color:k.c,marginTop:4}}>{k.v}</div></div>)}</div><C><ST>Checklist onboarding legal</ST>{[{step:"Dimona IN",desc:"Declaration entree AVANT le 1er jour. Via portail SSE ou generateDimonaXML().",done:true,obl:true},{step:"Contrat ecrit",desc:"Signe AVANT debut. CDI/CDD, clause essai supprimee depuis 2014.",done:true,obl:true},{step:"Reglement de travail",desc:"Remis contre accuse reception. Horaires, sanctions, procedure.",done:true,obl:true},{step:"Medecine du travail",desc:"Visite prealable si poste a risque. Sinon dans les 2 mois.",done:false,obl:true},{step:"Registre du personnel",desc:"Inscription au registre general. Numero ordre sequentiel.",done:true,obl:true},{step:"Assurance-loi AT",desc:"Couverture accident du travail des le jour 1.",done:true,obl:true},{step:"Fonds sociaux sectoriels",desc:"Affiliation caisse sectorielle si CP l'exige.",done:false,obl:false},{step:"NISS + domicile",desc:"Verifier NISS valide. Domicile en Belgique ou frontalier.",done:true,obl:true},{step:"IBAN pour virement",desc:"Coordonnees bancaires pour SEPA pain.001.",done:true,obl:true},{step:"Salaire min RMMMG",desc:"Minimum "+f2(RMMMG)+" EUR brut temps plein (RMMMG 2026).",done:true,obl:true}].map((r,i)=><div key={i} style={{display:"flex",alignItems:"flex-start",gap:10,padding:"10px 0",borderBottom:"1px solid rgba(255,255,255,.03)"}}><span style={{fontSize:16,flexShrink:0}}>{r.done?"âœ…":"â¬œ"}</span><div style={{flex:1}}><div style={{display:"flex",gap:8,alignItems:"center"}}><b style={{color:"#e8e6e0",fontSize:12}}>{r.step}</b>{r.obl&&<span style={{fontSize:8,padding:"1px 6px",borderRadius:4,background:"rgba(239,68,68,.1)",color:"#ef4444"}}>OBLIGATOIRE</span>}</div><div style={{fontSize:10.5,color:"#9e9b93",marginTop:2}}>{r.d||r.desc}</div></div></div>)}</C></div>;}

export function RegistrePersonnelMod({s,d}){const ae=s.emps||[];const n=ae.length;const [tab,setTab]=useState("registre");const [search,setSearch]=useState("");const filtered=ae.filter(e=>{const name=((e.first||e.fn||'')+" "+(e.last||e.ln||'')).toLowerCase();return !search||name.includes(search.toLowerCase())||((e.niss||'').includes(search));});const sorted=[...filtered].sort((a,b)=>((a.startDate||'')>(b.startDate||'')?1:-1));return <div><PH title="Registre du Personnel" sub={"Obligation legale Art. 3 AR 08/08/1980 â€” "+n+" travailleurs inscrits"}/><div style={{display:"grid",gridTemplateColumns:"repeat(4,1fr)",gap:12,marginBottom:18}}>{[{l:"Total inscrits",v:n,c:"#c6a34e"},{l:"Actifs",v:ae.filter(e=>e.status==='active'||!e.status).length,c:"#22c55e"},{l:"Sortis",v:ae.filter(e=>e.status==='inactive').length,c:"#ef4444"},{l:"CDI / CDD",v:ae.filter(e=>e.contractType==='CDI'||!e.contractType).length+" / "+ae.filter(e=>e.contractType==='CDD').length,c:"#60a5fa"}].map((k,i)=><div key={i} style={{padding:"14px 16px",background:"rgba(198,163,78,.04)",borderRadius:10,border:"1px solid rgba(198,163,78,.08)"}}><div style={{fontSize:10,color:"#5e5c56",textTransform:"uppercase",letterSpacing:".5px"}}>{k.l}</div><div style={{fontSize:18,fontWeight:700,color:k.c,marginTop:4}}>{k.v}</div></div>)}</div><div style={{marginBottom:12}}><input placeholder="Rechercher par nom ou NISS..." value={search} onChange={e=>setSearch(e.target.value)} style={{padding:"8px 14px",borderRadius:8,border:"1px solid rgba(198,163,78,.2)",background:"rgba(0,0,0,.2)",color:"#e8e6e0",fontSize:12,width:300,fontFamily:"inherit"}}/></div><C><ST>Registre general du personnel</ST><div style={{overflowX:"auto"}}><table style={{width:"100%",borderCollapse:"collapse",fontSize:10}}><thead><tr style={{borderBottom:"2px solid rgba(198,163,78,.2)"}}>{["NÂ°","NISS","Nom","Prenom","Date entree","Date sortie","Contrat","Fonction","Regime","Statut"].map(h=><th key={h} style={{padding:"6px",textAlign:"left",color:"#c6a34e",fontWeight:600,fontSize:9,whiteSpace:"nowrap"}}>{h}</th>)}</tr></thead><tbody>{sorted.map((e,i)=><tr key={e.id||i} style={{borderBottom:"1px solid rgba(255,255,255,.03)",background:e.status==='inactive'?"rgba(239,68,68,.02)":"transparent"}}><td style={{padding:"5px",fontWeight:600}}>{i+1}</td><td style={{padding:"5px",fontFamily:"monospace",fontSize:9}}>{obf.maskNISS(e.niss)||"â€”"}</td><td style={{padding:"5px",fontWeight:600}}>{e.last||e.ln||''}</td><td style={{padding:"5px"}}>{e.first||e.fn||''}</td><td style={{padding:"5px"}}>{e.startDate||"â€”"}</td><td style={{padding:"5px",color:e.endDate?"#ef4444":"#5e5c56"}}>{e.endDate||"En service"}</td><td style={{padding:"5px"}}><span style={{fontSize:9,padding:"1px 6px",borderRadius:4,background:e.contractType==='CDD'?"rgba(251,146,56,.1)":"rgba(74,222,128,.06)",color:e.contractType==='CDD'?"#fb923c":"#4ade80"}}>{e.contractType||"CDI"}</span></td><td style={{padding:"5px"}}>{e.fonction||e.jobTitle||"â€”"}</td><td style={{padding:"5px"}}>{(e.regime||100)+"%"}</td><td style={{padding:"5px"}}><span style={{fontSize:9,padding:"1px 6px",borderRadius:4,background:e.status==='inactive'?"rgba(239,68,68,.1)":"rgba(74,222,128,.1)",color:e.status==='inactive'?"#ef4444":"#4ade80"}}>{e.status==='inactive'?"Sorti":"Actif"}</span></td></tr>)}</tbody></table></div><div style={{marginTop:12,display:"flex",gap:8}}><button onClick={()=>window.print()} style={{padding:"8px 16px",borderRadius:8,border:"none",cursor:"pointer",fontSize:11,fontWeight:600,fontFamily:"inherit",background:"rgba(198,163,78,.15)",color:"#c6a34e"}}>ðŸ–¨ Imprimer registre</button><button onClick={()=>exportTravailleurs(ae,s.company)} style={{padding:"8px 16px",borderRadius:8,border:"none",cursor:"pointer",fontSize:11,fontWeight:600,fontFamily:"inherit",background:"rgba(96,165,250,.15)",color:"#60a5fa"}}>â¬‡ Export CSV</button></div></C></div>;}

export function AbsenteismeMod({s,d}){const ae=(s.emps||[]).filter(e=>e.status==='active'||!e.status);const n=ae.length;const mb=ae.reduce((a,e)=>a+(+e.gross||0),0);const [tab,setTab]=useState("stats");const totalAbsDays=ae.reduce((a,e)=>a+(+(e.absDays||0)),0);const tauxAbs=n>0&&n*20>0?Math.round(totalAbsDays/(n*20)*10000)/100:0;const coutJour=mb/20;const coutTotal=Math.round(totalAbsDays*coutJour*(1+TX_ONSS_E)*100)/100;const bradford=ae.map(e=>{const abs=+(e.absEvents||1);const days=+(e.absDays||0);return {...e,bradford:abs*abs*days,absDays:days};}).sort((a,b)=>b.bradford-a.bradford);return <div><PH title="Absenteisme" sub={"Taux, cout, Bradford â€” "+n+" travailleurs â€” cout reel via TX_ONSS_E"}/><div style={{display:"grid",gridTemplateColumns:"repeat(4,1fr)",gap:12,marginBottom:18}}>{[{l:"Taux absenteisme",v:tauxAbs+"%",c:tauxAbs>5?"#ef4444":tauxAbs>3?"#eab308":"#22c55e"},{l:"Jours absence",v:totalAbsDays+" j",c:"#60a5fa"},{l:"Cout estime/mois",v:new Intl.NumberFormat('fr-BE',{minimumFractionDigits:0}).format(coutTotal)+" EUR",c:"#ef4444"},{l:"Cout/an",v:new Intl.NumberFormat('fr-BE',{minimumFractionDigits:0}).format(coutTotal*12)+" EUR",c:"#a78bfa"}].map((k,i)=><div key={i} style={{padding:"14px 16px",background:"rgba(198,163,78,.04)",borderRadius:10,border:"1px solid rgba(198,163,78,.08)"}}><div style={{fontSize:10,color:"#5e5c56",textTransform:"uppercase",letterSpacing:".5px"}}>{k.l}</div><div style={{fontSize:18,fontWeight:700,color:k.c,marginTop:4}}>{k.v}</div></div>)}</div><C><ST>Score Bradford par travailleur</ST><div style={{fontSize:10,color:"#9e9b93",marginBottom:8}}>Bradford = SÂ² x D (S=episodes, D=jours). Plus le score est eleve, plus le pattern est problematique.</div><div style={{overflowX:"auto"}}><table style={{width:"100%",borderCollapse:"collapse",fontSize:11}}><thead><tr style={{borderBottom:"2px solid rgba(198,163,78,.2)"}}>{["Nom","Jours abs","Episodes","Score Bradford","Cout estime","Risque"].map(h=><th key={h} style={{padding:"8px 6px",textAlign:"left",color:"#c6a34e",fontWeight:600,fontSize:10}}>{h}</th>)}</tr></thead><tbody>{bradford.filter(e=>e.absDays>0).map((e,i)=>{const cost=Math.round(e.absDays*coutJour*(1+TX_ONSS_E));const risk=e.bradford>500?"Critique":e.bradford>200?"Eleve":e.bradford>50?"Moyen":"Faible";const riskCol=e.bradford>500?"#ef4444":e.bradford>200?"#fb923c":e.bradford>50?"#eab308":"#22c55e";return <tr key={e.id||i} style={{borderBottom:"1px solid rgba(255,255,255,.03)"}}><td style={{padding:"6px"}}>{(e.first||e.fn||'')+" "+(e.last||e.ln||'')}</td><td style={{padding:"6px"}}>{e.absDays}</td><td style={{padding:"6px"}}>{e.absEvents||1}</td><td style={{padding:"6px",fontWeight:700,color:riskCol}}>{e.bradford}</td><td style={{padding:"6px",color:"#ef4444"}}>{new Intl.NumberFormat('fr-BE').format(cost)} EUR</td><td style={{padding:"6px"}}><span style={{fontSize:9,padding:"2px 8px",borderRadius:4,background:riskCol+"15",color:riskCol}}>{risk}</span></td></tr>;})}</tbody></table></div></C></div>;}

export function PlanGlobalMod({s,d}){const ae=(s.emps||[]).filter(e=>e.status==='active'||!e.status);const n=ae.length;const f2=v=>new Intl.NumberFormat('fr-BE',{minimumFractionDigits:2}).format(v);return <div><PH title="Plan Global de Prevention (5 ans)" sub={"Art. 10 AR 27/03/1998 â€” Cycle 5 ans â€” "+n+" travailleurs â€” LOIS_BELGES"}/><div style={{display:"grid",gridTemplateColumns:"repeat(4,1fr)",gap:12,marginBottom:18}}>{[{l:"Travailleurs",v:n,c:"#c6a34e"},{l:"Cycle",v:"2025-2029",c:"#60a5fa"},{l:"PAA courant",v:new Date().getFullYear()+"",c:"#22c55e"},{l:"RMMMG",v:f2(RMMMG),c:"#a78bfa"}].map((k,i)=><div key={i} style={{padding:"14px 16px",background:"rgba(198,163,78,.04)",borderRadius:10,border:"1px solid rgba(198,163,78,.08)"}}><div style={{fontSize:10,color:"#5e5c56",textTransform:"uppercase",letterSpacing:".5px"}}>{k.l}</div><div style={{fontSize:18,fontWeight:700,color:k.c,marginTop:4}}>{k.v}</div></div>)}</div><C><ST>Structure Plan Global</ST>{[{t:"Analyse des risques initiale",d:"Par le conseiller en prevention (interne ou SEPP). Base de tout le plan."},{t:"Objectifs strategiques (5 ans)",d:"Priorites: securite, sante, ergonomie, psychosocial."},{t:"Plans Annuels d'Action (PAA)",d:"Declinaison annuelle. Actions concretes, budget, responsables."},{t:"Evaluation annuelle",d:"Bilan avec CPPT. Ajustements selon incidents, audits."},{t:"Rapport annuel SEPP",d:"Service externe fournit rapport sur visites, risques detectes."},{t:"Document de politique prevention",d:"Engagement de la direction. Signe et communique a tous."}].map((r,i)=><div key={i} style={{padding:"8px 0",borderBottom:"1px solid rgba(255,255,255,.03)"}}><b style={{color:"#e8e6e0",fontSize:12}}>{r.t}</b><div style={{fontSize:10.5,color:"#9e9b93",marginTop:2}}>{r.d}</div></div>)}</C></div>;}

export function PAAMod({s,d}){const ae=(s.emps||[]).filter(e=>e.status==='active'||!e.status);const n=ae.length;const f2=v=>new Intl.NumberFormat('fr-BE',{minimumFractionDigits:2}).format(v);return <div><PH title="Plan Annuel d'Action (PAA)" sub={"Bien-etre au travail â€” Art. 10 AR 27/03/1998 â€” "+n+" travailleurs â€” LOIS_BELGES"}/><div style={{display:"grid",gridTemplateColumns:"repeat(4,1fr)",gap:12,marginBottom:18}}>{[{l:"Travailleurs",v:n,c:"#c6a34e"},{l:"Annee PAA",v:new Date().getFullYear(),c:"#60a5fa"},{l:"Domaines",v:7,c:"#22c55e"},{l:"RMMMG",v:f2(RMMMG),c:"#a78bfa"}].map((k,i)=><div key={i} style={{padding:"14px 16px",background:"rgba(198,163,78,.04)",borderRadius:10,border:"1px solid rgba(198,163,78,.08)"}}><div style={{fontSize:10,color:"#5e5c56",textTransform:"uppercase",letterSpacing:".5px"}}>{k.l}</div><div style={{fontSize:18,fontWeight:700,color:k.c,marginTop:4}}>{k.v}</div></div>)}</div><C><ST>7 domaines du bien-etre (Loi 04/08/1996)</ST>{[{n:1,t:"Securite au travail",d:"Machines, incendie, electricite. Analyse des risques."},{n:2,t:"Sante (surveillance medicale)",d:"Suivi SEPP. Examens periodiques."},{n:3,t:"Risques psychosociaux",d:"Stress, harcelement, violence. Personne de confiance."},{n:4,t:"Ergonomie",d:"Poste de travail, ecrans, charges. Teletravail."},{n:5,t:"Hygiene du travail",d:"Bruit, chaleur, substances chimiques."},{n:6,t:"Embellissement lieux de travail",d:"Confort, amenagement, espaces verts."},{n:7,t:"Environnement",d:"Impact ecologique, tri, emissions."}].map((r,i)=><div key={i} style={{display:"flex",gap:10,padding:"10px 0",borderBottom:"1px solid rgba(255,255,255,.03)"}}><span style={{fontSize:18,fontWeight:700,color:"#c6a34e"}}>{r.n}</span><div><b style={{color:"#e8e6e0",fontSize:12}}>{r.t}</b><div style={{fontSize:10.5,color:"#9e9b93",marginTop:2}}>{r.d}</div></div></div>)}</C></div>;}

export function RisquesPsychoMod({s,d}){const ae=(s.emps||[]).filter(e=>e.status==='active'||!e.status);const n=ae.length;const f2=v=>new Intl.NumberFormat('fr-BE',{minimumFractionDigits:2}).format(v);const needPC=n>=20;return <div><PH title="Risques Psychosociaux" sub={"Loi Bien-etre 04/08/1996 + AR 10/04/2014 â€” "+n+" travailleurs â€” LOIS_BELGES"}/><div style={{display:"grid",gridTemplateColumns:"repeat(4,1fr)",gap:12,marginBottom:18}}>{[{l:"Travailleurs",v:n,c:"#c6a34e"},{l:"Personne de confiance",v:needPC?"Obligatoire":"Recommandee",c:needPC?"#ef4444":"#eab308"},{l:"Conseiller prevention",v:"SEPP externe",c:"#60a5fa"},{l:"RMMMG",v:f2(RMMMG),c:"#a78bfa"}].map((k,i)=><div key={i} style={{padding:"14px 16px",background:"rgba(198,163,78,.04)",borderRadius:10,border:"1px solid rgba(198,163,78,.08)"}}><div style={{fontSize:10,color:"#5e5c56",textTransform:"uppercase",letterSpacing:".5px"}}>{k.l}</div><div style={{fontSize:18,fontWeight:700,color:k.c,marginTop:4}}>{k.v}</div></div>)}</div><C><ST>5 composantes risques psychosociaux</ST>{[{t:"Stress",d:"Charge de travail, pression temporelle, autonomie insuffisante."},{t:"Harcelement moral",d:"Conduites abusives repetees. Procedure interne obligatoire."},{t:"Harcelement sexuel",d:"Zero tolerance. Procedure formelle via CP aspects psychosociaux."},{t:"Violence au travail",d:"Physique ou verbale. De collegues, hierarchie ou tiers."},{t:"Burn-out",d:"Epuisement professionnel. Detection precoce, mesures preventives."}].map((r,i)=><div key={i} style={{padding:"10px 0",borderBottom:"1px solid rgba(255,255,255,.03)"}}><b style={{color:"#e8e6e0",fontSize:12}}>{r.t}</b><div style={{fontSize:10.5,color:"#9e9b93",marginTop:2}}>{r.d}</div></div>)}</C><C><ST>Procedures obligatoires</ST>{[{t:"Demande intervention informelle",d:"Via personne de confiance ou CP. Entretien, mediation, intervention de tiers."},{t:"Demande intervention formelle",d:"Ecrite au CP aspects psychosociaux. Analyse situation. Avis a l'employeur."},{t:"Protection contre represailles",d:"Travailleur protege pendant et apres la procedure. Licenciement = indemnite 6 mois."},{t:"Registre de faits de tiers",d:"Si violence/harcelement par clients/fournisseurs. Tenu par CP."}].map((r,i)=><div key={i} style={{padding:"8px 0",borderBottom:"1px solid rgba(255,255,255,.03)"}}><b style={{color:"#e8e6e0",fontSize:12}}>{r.t}</b><div style={{fontSize:10.5,color:"#9e9b93",marginTop:2}}>{r.d}</div></div>)}</C></div>;}

export function AlcoolMod({s,d}){const ae=(s.emps||[]).filter(e=>e.status==='active'||!e.status);const n=ae.length;const f2=v=>new Intl.NumberFormat('fr-BE',{minimumFractionDigits:2}).format(v);return <div><PH title="Politique Alcool & Drogues" sub={"CCT 100 du 01/04/2009 â€” Obligation pour tous les employeurs â€” RMMMG "+f2(RMMMG)+" EUR"}/><div style={{display:"grid",gridTemplateColumns:"repeat(4,1fr)",gap:12,marginBottom:18}}>{[{l:"Travailleurs",v:n,c:"#c6a34e"},{l:"CCT applicable",v:"CCT 100",c:"#60a5fa"},{l:"Politique requise",v:"Oui (obligatoire)",c:"#ef4444"},{l:"Tests autorises",v:"Sous conditions",c:"#a78bfa"}].map((k,i)=><div key={i} style={{padding:"14px 16px",background:"rgba(198,163,78,.04)",borderRadius:10,border:"1px solid rgba(198,163,78,.08)"}}><div style={{fontSize:10,color:"#5e5c56",textTransform:"uppercase",letterSpacing:".5px"}}>{k.l}</div><div style={{fontSize:18,fontWeight:700,color:k.c,marginTop:4}}>{k.v}</div></div>)}</div><C><ST>4 piliers CCT 100</ST>{[{n:1,t:"Prevention",d:"Information, sensibilisation. Formation encadrement a detecter signes."},{n:2,t:"Regles et procedures",d:"Integrees dans le reglement de travail. Interdictions claires."},{n:3,t:"Assistance",d:"Orientation vers aide specialisee. Entretien fonctionnel (pas disciplinaire)."},{n:4,t:"Sanctions",d:"Graduees: avertissement, mise a pied, licenciement. Proportionnalite."}].map((r,i)=><div key={i} style={{padding:"10px 0",borderBottom:"1px solid rgba(255,255,255,.03)"}}><div style={{display:"flex",gap:8,alignItems:"center"}}><span style={{fontSize:18,fontWeight:700,color:"#c6a34e"}}>{r.n}</span><b style={{color:"#e8e6e0",fontSize:12}}>{r.t}</b></div><div style={{fontSize:10.5,color:"#9e9b93",marginTop:3,marginLeft:26}}>{r.d}</div></div>)}</C></div>;}

export function OrganesMod({s,d}){const ae=(s.emps||[]).filter(e=>e.status==='active'||!e.status);const n=ae.length;const f2=v=>new Intl.NumberFormat('fr-BE',{minimumFractionDigits:2}).format(v);return <div><PH title="Organes de Concertation" sub={"CE, CPPT, DS â€” Seuils legaux â€” "+n+" travailleurs â€” LOIS_BELGES"}/><div style={{display:"grid",gridTemplateColumns:"repeat(3,1fr)",gap:12,marginBottom:18}}>{[{l:"CPPT (50+)",v:n>=50?"âœ… Requis":"Non requis",c:n>=50?"#22c55e":"#5e5c56"},{l:"CE (100+)",v:n>=100?"âœ… Requis":"Non requis",c:n>=100?"#22c55e":"#5e5c56"},{l:"DS (50+ si CCT)",v:n>=50?"Possible":"Non applicable",c:n>=50?"#60a5fa":"#5e5c56"}].map((k,i)=><div key={i} style={{padding:"14px 16px",background:"rgba(198,163,78,.04)",borderRadius:10,border:"1px solid rgba(198,163,78,.08)"}}><div style={{fontSize:10,color:"#5e5c56",textTransform:"uppercase",letterSpacing:".5px"}}>{k.l}</div><div style={{fontSize:16,fontWeight:700,color:k.c,marginTop:4}}>{k.v}</div></div>)}</div><C><ST>Organes de concertation sociale belge</ST>{[{org:"CPPT â€” Comite Prevention Protection Travail",seuil:"50+ travailleurs",comp:"Bien-etre, securite, sante, risques psychosociaux. Avis sur PAA/PGP."},{org:"CE â€” Conseil d'Entreprise",seuil:"100+ travailleurs",comp:"Information economique/financiere. Reglement travail. Licenciement collectif."},{org:"DS â€” Delegation Syndicale",seuil:"50+ (selon CCT sectorielle)",comp:"Negociation conditions de travail. Representation individuelle."}].map((r,i)=><div key={i} style={{padding:"12px 0",borderBottom:"1px solid rgba(255,255,255,.03)"}}><b style={{color:"#c6a34e",fontSize:12}}>{r.org}</b><div style={{fontSize:10,color:"#60a5fa",marginTop:2}}>Seuil: {r.seuil}</div><div style={{fontSize:10.5,color:"#9e9b93",marginTop:2}}>{r.comp}</div></div>)}</C></div>;}

export function ElectionsMod({s,d}){const ae=(s.emps||[]).filter(e=>e.status==='active'||!e.status);const n=ae.length;const f2=v=>new Intl.NumberFormat('fr-BE',{minimumFractionDigits:2}).format(v);const needCPPT=n>=50;const needCE=n>=100;return <div><PH title="Elections Sociales" sub={"Seuils CPPT/CE â€” "+n+" travailleurs â€” RMMMG "+f2(RMMMG)+" EUR â€” LOIS_BELGES"}/><div style={{display:"grid",gridTemplateColumns:"repeat(4,1fr)",gap:12,marginBottom:18}}>{[{l:"Travailleurs",v:n,c:"#c6a34e"},{l:"CPPT requis (50+)",v:needCPPT?"OUI":"Non",c:needCPPT?"#22c55e":"#5e5c56"},{l:"CE requis (100+)",v:needCE?"OUI":"Non",c:needCE?"#22c55e":"#5e5c56"},{l:"Prochaines elections",v:"Mai 2028",c:"#60a5fa"}].map((k,i)=><div key={i} style={{padding:"14px 16px",background:"rgba(198,163,78,.04)",borderRadius:10,border:"1px solid rgba(198,163,78,.08)"}}><div style={{fontSize:10,color:"#5e5c56",textTransform:"uppercase",letterSpacing:".5px"}}>{k.l}</div><div style={{fontSize:18,fontWeight:700,color:k.c,marginTop:4}}>{k.v}</div></div>)}</div><C><ST>Calendrier electoral (procedure 150 jours)</ST>{[{j:"X-60",t:"Determination date elections",d:"Entre le jour X et X+13. Affichage avis."},{j:"X-35",t:"Listes electorales provisoires",d:"Par categorie: ouvriers, employes, jeunes, cadres."},{j:"X",t:"Jour X â€” Arret procedure ou continuation",d:"Plus de modification possible des organes a creer."},{j:"X+35",t:"Depot candidatures",d:"Par les organisations syndicales (FGTB, CSC, CGSLB)."},{j:"X+77",t:"Arret listes definitives",d:"Recours possible aupres du tribunal du travail."},{j:"X+90",t:"Convocations electorales",d:"Envoi aux electeurs. Bureau electoral constitue."},{j:"Y (=X+90)",t:"JOUR DU VOTE",d:"Vote secret. Depouillement. Proces-verbal."}].map((r,i)=><div key={i} style={{display:"flex",gap:12,padding:"10px 0",borderBottom:"1px solid rgba(255,255,255,.03)"}}><span style={{fontSize:9,padding:"2px 8px",borderRadius:4,background:"rgba(198,163,78,.1)",color:"#c6a34e",fontWeight:700,whiteSpace:"nowrap",height:"fit-content"}}>{r.j}</span><div><b style={{color:"#e8e6e0",fontSize:12}}>{r.t}</b><div style={{fontSize:10.5,color:"#9e9b93",marginTop:2}}>{r.d}</div></div></div>)}</C></div>;}
