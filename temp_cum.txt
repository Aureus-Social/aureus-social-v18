function CumulsMod({s,d}){const ae=s.emps||[];const [tab,setTab]=useState("cumuls");const mb=ae.reduce((a,e)=>a+(+e.gross||0),0);const mois=new Date().getMonth()+1;const cumBrut=mb*mois;const cumONSSP=cumBrut*0.2507;const cumONSST=cumBrut*0.1307;const cumPP=cumBrut*0.22;const cumNet=cumBrut-cumONSST-cumPP;return <div><PH title="Cumuls Annuels" sub={"Cumuls au "+new Date().toLocaleDateString("fr-BE")+" - "+mois+" mois ecoules"}/><div style={{display:"grid",gridTemplateColumns:"repeat(5,1fr)",gap:12,marginBottom:18}}>{[{l:"Brut cumule",v:fmt(cumBrut),c:"#c6a34e"},{l:"ONSS patronal",v:fmt(cumONSSP),c:"#f87171"},{l:"ONSS personnel",v:fmt(cumONSST),c:"#f87171"},{l:"Precompte",v:fmt(cumPP),c:"#f87171"},{l:"Net cumule",v:fmt(cumNet),c:"#4ade80"}].map((k,i)=><div key={i} style={{padding:"14px 16px",background:"rgba(198,163,78,.04)",borderRadius:10,border:"1px solid rgba(198,163,78,.08)"}}><div style={{fontSize:10,color:"#5e5c56",textTransform:"uppercase",letterSpacing:".5px"}}>{k.l}</div><div style={{fontSize:18,fontWeight:700,color:k.c,marginTop:4}}>{k.v}</div></div>)}</div><div style={{display:"flex",gap:6,marginBottom:16}}>{[{v:"cumuls",l:"Cumuls globaux"},{v:"travailleur",l:"Par travailleur"},{v:"mensuel",l:"Evolution mensuelle"}].map(t=><button key={t.v} onClick={()=>setTab(t.v)} style={{padding:"8px 16px",borderRadius:8,border:"none",cursor:"pointer",fontSize:12,fontWeight:tab===t.v?600:400,fontFamily:"inherit",background:tab===t.v?"rgba(198,163,78,.15)":"rgba(255,255,255,.03)",color:tab===t.v?"#c6a34e":"#9e9b93"}}>{t.l}</button>)}</div>{tab==="cumuls"&&<C><ST>Cumuls masse salariale {new Date().getFullYear()}</ST>{[{l:"Salaires bruts cumules",v:cumBrut,c:"#e8e6e0"},{l:"ONSS patronal cumule (25.07%)",v:cumONSSP,c:"#f87171"},{l:"Cout total employeur cumule",v:cumBrut+cumONSSP,c:"#f87171"},{l:"ONSS personnel cumule (13.07%)",v:cumONSST,c:"#f87171"},{l:"Precompte cumule (~22%)",v:cumPP,c:"#f87171"},{l:"Net cumule travailleurs",v:cumNet,c:"#4ade80"},{l:"Projection fin annee (brut)",v:mb*12,c:"#fb923c"},{l:"Projection fin annee (cout)",v:mb*12*1.2507,c:"#fb923c"}].map((r,i)=><div key={i} style={{display:"flex",justifyContent:"space-between",padding:"8px 0",borderBottom:"1px solid rgba(255,255,255,.03)"}}><span style={{color:"#9e9b93"}}>{r.l}</span><span style={{fontWeight:600,color:r.c}}>{fmt(r.v)}</span></div>)}</C>}{tab==="travailleur"&&<C><Tbl cols={[{k:"n",l:"Travailleur",b:1,r:r=>(r.fn||"")+" "+(r.ln||"")},{k:"b",l:"Brut cumule",a:"right",r:r=><span style={{color:"#e8e6e0"}}>{fmt((+r.gross||0)*mois)}</span>},{k:"o",l:"ONSS P cumul",a:"right",r:r=><span style={{color:"#f87171"}}>{fmt((+r.gross||0)*mois*0.2507)}</span>},{k:"c",l:"Cout cumule",a:"right",r:r=><span style={{color:"#f87171",fontWeight:700}}>{fmt((+r.gross||0)*mois*1.2507)}</span>},{k:"ne",l:"Net cumule",a:"right",r:r=><span style={{color:"#4ade80"}}>{fmt((+r.gross||0)*mois*0.5645)}</span>}]} data={ae}/></C>}{tab==="mensuel"&&<C><ST>Evolution mensuelle {new Date().getFullYear()}</ST>{Array.from({length:12},(v2,i)=>{const m2=["Jan","Fev","Mar","Avr","Mai","Jun","Jul","Aou","Sep","Oct","Nov","Dec"][i];const cum=mb*(i+1);const past=i<mois;return <div key={i} style={{display:"flex",alignItems:"center",gap:12,padding:"6px 0",borderBottom:"1px solid rgba(255,255,255,.03)"}}><span style={{width:30,fontSize:11,color:past?"#e8e6e0":"#5e5c56",fontWeight:past?600:400}}>{m2}</span><div style={{flex:1,height:8,background:"rgba(198,163,78,.08)",borderRadius:4,overflow:"hidden"}}><div style={{height:"100%",width:((i+1)/12*100)+"%",background:past?"#c6a34e":"rgba(198,163,78,.2)",borderRadius:4}}/></div><span style={{width:90,textAlign:"right",fontSize:11,color:past?"#e8e6e0":"#5e5c56"}}>{fmt(cum)}</span></div>})}</C>}</div>;}
